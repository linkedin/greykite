

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Docs &mdash; Greykite Library  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sg_gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sg_gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sg_gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sg_gallery-rendered-html.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Changelog" href="../changelog/changelog.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Greykite Library
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Greykite Info</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../greykite/overview.html">Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Quick Start</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gallery/quickstart/index.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gallery/tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gallery/templates/index.html">Model Templates</a></li>
</ul>
<p class="caption"><span class="caption-text">Step by Step</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../stepbystep/0000_stepbystep.html">Forecasting Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stepbystep/0100_choose_model.html">Choose a Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stepbystep/0200_choose_template.html">Choose a Model Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stepbystep/0300_input.html">Examine Input Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stepbystep/0400_configuration.html">Configure a Forecast</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stepbystep/0500_output.html">Check Forecast Result</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stepbystep/0600_debug.html">Debugging</a></li>
</ul>
<p class="caption"><span class="caption-text">Tuning the Model Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../model_components/0100_introduction.html">Greykite models and components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_components/0200_growth.html">Growth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_components/0300_seasonality.html">Seasonality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_components/0400_events.html">Holidays and Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_components/0500_changepoints.html">Changepoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_components/0600_custom.html">Custom Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_components/0700_regressors.html">Regressors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_components/0800_autoregression.html">Auto-regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_components/0900_uncertainty.html">Uncertainty Intervals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_components/1000_override.html">Pre-processing, Selective Grid Search</a></li>
</ul>
<p class="caption"><span class="caption-text">Benchmarking</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmarking/benchmarking.html">Benchmarking</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../miscellaneous/reconcile_forecasts.html">Reconcile Forecasts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../miscellaneous/store_model.html">Model store and load</a></li>
</ul>
<p class="caption"><span class="caption-text">Changelog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog/changelog.html">Changelog</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Docs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#all-templates">All Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#silverkite-template">Silverkite Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lag-based-template">Lag Based Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multistage-forecast-template">Multistage Forecast Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prophet-template">Prophet Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="#arima-template">ARIMA Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="#forecast-pipeline">Forecast Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="#template-output">Template Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#constants">Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="#easyconfig">EasyConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changepoint-detection">Changepoint Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#benchmarking">Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cross-validation">Cross Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-greykite.sklearn.transform.zscore_outlier_transformer">Transformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quantile-regression">Quantile Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hierarchical-forecast">Hierarchical Forecast</a></li>
<li class="toctree-l2"><a class="reference internal" href="#utility-functions">Utility Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#internal-functions">Internal Functions</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Greykite Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Docs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="docs">
<h1>Docs<a class="headerlink" href="#docs" title="Permalink to this headline">¶</a></h1>
<div class="section" id="all-templates">
<h2>All Templates<a class="headerlink" href="#all-templates" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.framework.templates.forecaster.Forecaster">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.forecaster.</code><code class="sig-name descname">Forecaster</code><span class="sig-paren">(</span><em class="sig-param">model_template_enum: Type[enum.Enum] = &lt;enum 'ModelTemplateEnum'&gt;</em>, <em class="sig-param">default_model_template_name: str = 'AUTO'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/forecaster.html#Forecaster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster" title="Permalink to this definition">¶</a></dt>
<dd><p>The main entry point to create a forecast.</p>
<p>Call the <a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>
method to create a forecast. It takes a dataset and forecast configuration parameters.</p>
<p class="rubric">Notes</p>
<p>This class can create forecasts using any of the model templates in
<a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="greykite.framework.templates.model_templates.ModelTemplateEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelTemplateEnum</span></code></a>.
Model templates provide suitable default values for the available
forecast estimators depending on the data characteristics.</p>
<p>The model template is selected via the <code class="docutils literal notranslate"><span class="pre">config.model_template</span></code>
parameter to <a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>.</p>
<p>To add your own custom algorithms or template classes in our framework,
pass <code class="docutils literal notranslate"><span class="pre">model_template_enum</span></code> and <code class="docutils literal notranslate"><span class="pre">default_model_template_name</span></code>
to the constructor.</p>
<dl class="py attribute">
<dt id="greykite.framework.templates.forecaster.Forecaster.model_template_enum">
<code class="sig-name descname">model_template_enum</code><em class="property">: Type<span class="p">[</span>Enum<span class="p">]</span></em><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster.model_template_enum" title="Permalink to this definition">¶</a></dt>
<dd><p>The available template names. An Enum class where names are template names, and values are of type
<a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplate" title="greykite.framework.templates.model_templates.ModelTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelTemplate</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.forecaster.Forecaster.default_model_template_name">
<code class="sig-name descname">default_model_template_name</code><em class="property">: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></em><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster.default_model_template_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The default template name if not provided by <code class="docutils literal notranslate"><span class="pre">config.model_template</span></code>.
Should be a name in <code class="docutils literal notranslate"><span class="pre">model_template_enum</span></code> or “auto”.
Used by <code class="xref py py-meth docutils literal notranslate"><span class="pre">__get_template_class</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.forecaster.Forecaster.template_class">
<code class="sig-name descname">template_class</code><em class="property">: Optional<span class="p">[</span>Type<span class="p">[</span>TemplateInterface<span class="p">]</span><span class="p">]</span></em><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster.template_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Template class used. Must implement
<code class="xref py py-obj docutils literal notranslate"><span class="pre">TemplateInterface</span></code>
and be one of the classes in <code class="docutils literal notranslate"><span class="pre">self.model_template_enum</span></code>.
Available for debugging purposes.
Set by <a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.forecaster.Forecaster.template">
<code class="sig-name descname">template</code><em class="property">: Optional<span class="p">[</span>TemplateInterface<span class="p">]</span></em><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster.template" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of <code class="docutils literal notranslate"><span class="pre">template_class</span></code> used to run the forecast.
See the docstring of the specific template class used.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a></p></li>
<li><p><a class="reference internal" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate" title="greykite.framework.templates.silverkite_template.SilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SilverkiteTemplate</span></code></a></p></li>
<li><p><a class="reference internal" href="#greykite.framework.templates.prophet_template.ProphetTemplate" title="greykite.framework.templates.prophet_template.ProphetTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProphetTemplate</span></code></a></p></li>
<li><p>etc.</p></li>
</ul>
</div></blockquote>
<p>Available for debugging purposes.
Set by <a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.forecaster.Forecaster.config">
<code class="sig-name descname">config</code><em class="property">: Optional<span class="p">[</span>ForecastConfig<span class="p">]</span></em><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster.config" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a>
passed to the template class.
Set by <a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.forecaster.Forecaster.pipeline_params">
<code class="sig-name descname">pipeline_params</code><em class="property">: Optional<span class="p">[</span>Dict<span class="p">]</span></em><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster.pipeline_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters used to call <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.
Available for debugging purposes.
Set by <a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.forecaster.Forecaster.forecast_result">
<code class="sig-name descname">forecast_result</code><em class="property">: Optional<span class="p">[</span>ForecastResult<span class="p">]</span></em><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster.forecast_result" title="Permalink to this definition">¶</a></dt>
<dd><p>The forecast result, returned by <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.
Set by <a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.forecaster.Forecaster.apply_forecast_config">
<code class="sig-name descname">apply_forecast_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Dict<a class="reference internal" href="../../_modules/greykite/framework/templates/forecaster.html#Forecaster.apply_forecast_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster.apply_forecast_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches pipeline parameters from the <code class="docutils literal notranslate"><span class="pre">df</span></code> and <code class="docutils literal notranslate"><span class="pre">config</span></code>,
but does not run the pipeline to generate a forecast.</p>
<p><a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>
calls this function and also runs the forecast pipeline.</p>
<p>Available for debugging purposes to check pipeline parameters before
running a forecast. Sets these attributes for debugging:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pipeline_params</span></code> : the parameters passed to
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">template_class</span></code>, <code class="docutils literal notranslate"><span class="pre">template</span></code> : the template class used to generate the
pipeline parameters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config</span></code> : the <code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code>
passed as input to template class, to translate into pipeline parameters.</p></li>
</ul>
</div></blockquote>
<p>Provides basic validation on the compatibility of <code class="docutils literal notranslate"><span class="pre">config.model_template</span></code>
with <code class="docutils literal notranslate"><span class="pre">config.model_components_param</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Timeseries data to forecast.
Contains columns [<em class="xref py py-obj">time_col</em>, <em class="xref py py-obj">value_col</em>], and optional regressor columns
Regressor columns should include future values for prediction</p></li>
<li><p><strong>config</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code> or None) – Config object for template class to use.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pipeline_params</strong> – Input to <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.forecaster.Forecaster.run_forecast_config">
<code class="sig-name descname">run_forecast_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.pipeline.pipeline.ForecastResult" title="greykite.framework.pipeline.pipeline.ForecastResult">greykite.framework.pipeline.pipeline.ForecastResult</a><a class="reference internal" href="../../_modules/greykite/framework/templates/forecaster.html#Forecaster.run_forecast_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a forecast from input data and config.
The result is also stored as <code class="docutils literal notranslate"><span class="pre">self.forecast_result</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Timeseries data to forecast.
Contains columns [<em class="xref py py-obj">time_col</em>, <em class="xref py py-obj">value_col</em>], and optional regressor columns
Regressor columns should include future values for prediction</p></li>
<li><p><strong>config</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code>) – Config object for template class to use.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>forecast_result</strong> – Forecast result, an object of type
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.ForecastResult" title="greykite.framework.pipeline.pipeline.ForecastResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastResult</span></code></a>.</p>
<p>The output of <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>,
according to the <code class="docutils literal notranslate"><span class="pre">df</span></code> and <code class="docutils literal notranslate"><span class="pre">config</span></code> configuration parameters.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.pipeline.pipeline.ForecastResult" title="greykite.framework.pipeline.pipeline.ForecastResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastResult</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.forecaster.Forecaster.run_forecast_json">
<code class="sig-name descname">run_forecast_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">json_str</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'{}'</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.pipeline.pipeline.ForecastResult" title="greykite.framework.pipeline.pipeline.ForecastResult">greykite.framework.pipeline.pipeline.ForecastResult</a><a class="reference internal" href="../../_modules/greykite/framework/templates/forecaster.html#Forecaster.run_forecast_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>
according to the <code class="docutils literal notranslate"><span class="pre">json_str</span></code> configuration parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Timeseries data to forecast.
Contains columns [<em class="xref py py-obj">time_col</em>, <em class="xref py py-obj">value_col</em>], and optional regressor columns
Regressor columns should include future values for prediction</p></li>
<li><p><strong>json_str</strong> (<em class="xref py py-obj">str</em>) – Json string of the config object for Forecast to use.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>forecast_result</strong> – Forecast result.
The output of <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>,
called using the template class with specified configuration.
See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.ForecastResult" title="greykite.framework.pipeline.pipeline.ForecastResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastResult</span></code></a>
for details.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.pipeline.pipeline.ForecastResult" title="greykite.framework.pipeline.pipeline.ForecastResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastResult</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.forecaster.Forecaster.dump_forecast_result">
<code class="sig-name descname">dump_forecast_result</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">destination_dir</span></em>, <em class="sig-param"><span class="n">object_name</span><span class="o">=</span><span class="default_value">'object'</span></em>, <em class="sig-param"><span class="n">dump_design_info</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">overwrite_exist_dir</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/forecaster.html#Forecaster.dump_forecast_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster.dump_forecast_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Dumps <code class="docutils literal notranslate"><span class="pre">self.forecast_result</span></code> to local pickle files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>destination_dir</strong> (<em class="xref py py-obj">str</em>) – The pickle destination directory.</p></li>
<li><p><strong>object_name</strong> (<em class="xref py py-obj">str</em>) – The stored file name.</p></li>
<li><p><strong>dump_design_info</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether to dump design info.
Design info is a patsy class that includes the design matrix information.
It takes longer to dump design info.</p></li>
<li><p><strong>overwrite_exist_dir</strong> (<em class="xref py py-obj">bool</em>, default False) – What to do when <code class="docutils literal notranslate"><span class="pre">destination_dir</span></code> already exists.
Removes the original directory when exists, if set to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>This function writes to local files and does not return anything.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.forecaster.Forecaster.load_forecast_result">
<code class="sig-name descname">load_forecast_result</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_dir</span></em>, <em class="sig-param"><span class="n">load_design_info</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/forecaster.html#Forecaster.load_forecast_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.forecaster.Forecaster.load_forecast_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads <code class="docutils literal notranslate"><span class="pre">self.forecast_result</span></code> from local files created by <code class="docutils literal notranslate"><span class="pre">self.dump_result</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_dir</strong> (<em class="xref py py-obj">str</em>) – The source file directory.</p></li>
<li><p><strong>load_design_info</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether to load design info.
Design info is a patsy class that includes the design matrix information.
It takes longer to load design info.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.model_templates.ModelTemplate">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.model_templates.</code><code class="sig-name descname">ModelTemplate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">template_class</span><span class="p">:</span> <span class="n">Type<span class="p">[</span>greykite.framework.templates.template_interface.TemplateInterface<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">description</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/model_templates.html#ModelTemplate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplate" title="Permalink to this definition">¶</a></dt>
<dd><p>A model template consists of a template class,
a description, and a name.</p>
<p>This class holds the template class and description.
The model template name is the member name in
<a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="greykite.framework.templates.model_templates.ModelTemplateEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.framework.templates.model_templates.ModelTemplateEnum</span></code></a>.</p>
<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplate.template_class">
<code class="sig-name descname">template_class</code><em class="property">: Type<span class="p">[</span>greykite.framework.templates.template_interface.TemplateInterface<span class="p">]</span></em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplate.template_class" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that implements the template interface.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplate.description">
<code class="sig-name descname">description</code><em class="property">: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplate.description" title="Permalink to this definition">¶</a></dt>
<dd><p>A description of the model template.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.model_templates.</code><code class="sig-name descname">ModelTemplateEnum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/model_templates.html#ModelTemplateEnum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Available model templates.</p>
<p>Enumerates the possible values for the <code class="docutils literal notranslate"><span class="pre">model_template</span></code> attribute of
<code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code>.</p>
<p>The value has type <a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplate" title="greykite.framework.templates.model_templates.ModelTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelTemplate</span></code></a> which contains:</p>
<blockquote>
<div><ul class="simple">
<li><p>the template class that recognizes the model_template. Template classes implement the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">TemplateInterface</span></code> interface.</p></li>
<li><p>a plain-text description of what the model_template is for,</p></li>
</ul>
</div></blockquote>
<p>The description should be unique across enum members. The template class
can be shared, because a template class can recognize multiple model templates.
For example, the same template class may use different default values for
<code class="docutils literal notranslate"><span class="pre">ForecastConfig.model_components_param</span></code> depending on <code class="docutils literal notranslate"><span class="pre">ForecastConfig.model_template</span></code>.</p>
<p class="rubric">Notes</p>
<p>The template classes
<a class="reference internal" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate" title="greykite.framework.templates.silverkite_template.SilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SilverkiteTemplate</span></code></a>
and <a class="reference internal" href="#greykite.framework.templates.prophet_template.ProphetTemplate" title="greykite.framework.templates.prophet_template.ProphetTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProphetTemplate</span></code></a>
recognize only the model templates explicitly enumerated here.</p>
<p>However, the <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a>
template class allows additional model templates to be specified generically.
Any object of type <a class="reference internal" href="#id0" title="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplateOptions</span></code></a>
can be used as the model_template.
These generic model templates are valid but not enumerated here.</p>
<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE">
<code class="sig-name descname">SILVERKITE</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Silverkite model with automatic growth, seasonality, holidays, automatic autoregression, normalization and interactions. Best for hourly and daily frequencies.Uses `SimpleSilverkiteEstimator`.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite model with automatic growth, seasonality, holidays,
automatic autoregression, normalization
and interactions. Best for hourly and daily frequencies.
Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_DAILY_1_CONFIG_1">
<code class="sig-name descname">SILVERKITE_DAILY_1_CONFIG_1</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Config 1 in template ``SILVERKITE_DAILY_1``. Compared to ``SILVERKITE``, it uses parameters specifically tuned for daily data and 1-day forecast.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_DAILY_1_CONFIG_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Config 1 in template <code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1</span></code>.
Compared to <code class="docutils literal notranslate"><span class="pre">SILVERKITE</span></code>, it uses parameters
specifically tuned for daily data and 1-day forecast.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_DAILY_1_CONFIG_2">
<code class="sig-name descname">SILVERKITE_DAILY_1_CONFIG_2</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Config 2 in template ``SILVERKITE_DAILY_1``. Compared to ``SILVERKITE``, it uses parameters specifically tuned for daily data and 1-day forecast.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_DAILY_1_CONFIG_2" title="Permalink to this definition">¶</a></dt>
<dd><p>Config 2 in template <code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1</span></code>.
Compared to <code class="docutils literal notranslate"><span class="pre">SILVERKITE</span></code>, it uses parameters
specifically tuned for daily data and 1-day forecast.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_DAILY_1_CONFIG_3">
<code class="sig-name descname">SILVERKITE_DAILY_1_CONFIG_3</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Config 3 in template ``SILVERKITE_DAILY_1``. Compared to ``SILVERKITE``, it uses parameters specifically tuned for daily data and 1-day forecast.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_DAILY_1_CONFIG_3" title="Permalink to this definition">¶</a></dt>
<dd><p>Config 3 in template <code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1</span></code>.
Compared to <code class="docutils literal notranslate"><span class="pre">SILVERKITE</span></code>, it uses parameters
specifically tuned for daily data and 1-day forecast.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_DAILY_1">
<code class="sig-name descname">SILVERKITE_DAILY_1</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Silverkite model specifically tuned for daily data and 1-day forecast. Contains 3 candidate configs for grid search, optimized the seasonality and changepoint parameters.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_DAILY_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite model specifically tuned for daily data and 1-day forecast.
Contains 3 candidate configs for grid search,
optimized the seasonality and changepoint parameters.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_DAILY_90">
<code class="sig-name descname">SILVERKITE_DAILY_90</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Silverkite model specifically tuned for daily data with 90 days forecast horizon. Contains 4 hyperparameter combinations for grid search. Uses `SimpleSilverkiteEstimator`.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_DAILY_90" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite model specifically tuned for daily data with 90 days forecast horizon.
Contains 4 hyperparameter combinations for grid search.
Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_WEEKLY">
<code class="sig-name descname">SILVERKITE_WEEKLY</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Silverkite model specifically tuned for weekly data. Contains 4 hyperparameter combinations for grid search. Uses `SimpleSilverkiteEstimator`.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_WEEKLY" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite model specifically tuned for weekly data.
Contains 4 hyperparameter combinations for grid search.
Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_MONTHLY">
<code class="sig-name descname">SILVERKITE_MONTHLY</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Silverkite model specifically tuned for monthly data. Uses `SimpleSilverkiteEstimator`.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_MONTHLY" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite model specifically tuned for monthly data.
Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_HOURLY_1">
<code class="sig-name descname">SILVERKITE_HOURLY_1</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Silverkite model specifically tuned for hourly data with 1 hour forecast horizon. Contains 3 hyperparameter combinations for grid search. Uses `SimpleSilverkiteEstimator`.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_HOURLY_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite model specifically tuned for hourly data with 1 hour forecast horizon.
Contains 4 hyperparameter combinations for grid search.
Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_HOURLY_24">
<code class="sig-name descname">SILVERKITE_HOURLY_24</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Silverkite model specifically tuned for hourly data with 24 hours (1 day) forecast horizon. Contains 4 hyperparameter combinations for grid search. Uses `SimpleSilverkiteEstimator`.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_HOURLY_24" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite model specifically tuned for hourly data with 24 hours (1 day) forecast horizon.
Contains 4 hyperparameter combinations for grid search.
Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_HOURLY_168">
<code class="sig-name descname">SILVERKITE_HOURLY_168</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Silverkite model specifically tuned for hourly data with 168 hours (1 week) forecast horizon. Contains 4 hyperparameter combinations for grid search. Uses `SimpleSilverkiteEstimator`.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_HOURLY_168" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite model specifically tuned for hourly data with 168 hours (1 week) forecast horizon.
Contains 4 hyperparameter combinations for grid search.
Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_HOURLY_336">
<code class="sig-name descname">SILVERKITE_HOURLY_336</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Silverkite model specifically tuned for hourly data with 336 hours (2 weeks) forecast horizon. Contains 4 hyperparameter combinations for grid search. Uses `SimpleSilverkiteEstimator`.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_HOURLY_336" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite model specifically tuned for hourly data with 336 hours (2 weeks) forecast horizon.
Contains 4 hyperparameter combinations for grid search.
Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_EMPTY">
<code class="sig-name descname">SILVERKITE_EMPTY</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Silverkite model with no component included by default. Fits only a constant intercept. Select and customize this template to add only the terms you want. Uses `SimpleSilverkiteEstimator`.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_EMPTY" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite model with no component included by default. Fits only a constant intercept.
Select and customize this template to add only the terms you want.
Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SK">
<code class="sig-name descname">SK</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.silverkite_template.SilverkiteTemplate'&gt;, description='Silverkite model with low-level interface. For flexible model tuning if SILVERKITE template is not flexible enough. Not for use out-of-the-box: customization is needed for good performance. Uses `SilverkiteEstimator`.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SK" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite model with low-level interface. For flexible model tuning
if SILVERKITE template is not flexible enough. Not for use out-of-the-box:
customization is needed for good performance. Uses <em class="xref py py-obj">SilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.PROPHET">
<code class="sig-name descname">PROPHET</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.prophet_template.ProphetTemplate'&gt;, description='Prophet model with growth, seasonality, holidays, additional regressors and prediction intervals. Uses `ProphetEstimator`.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.PROPHET" title="Permalink to this definition">¶</a></dt>
<dd><p>Prophet model with growth, seasonality, holidays, additional regressors
and prediction intervals. Uses <em class="xref py py-obj">ProphetEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.AUTO_ARIMA">
<code class="sig-name descname">AUTO_ARIMA</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.auto_arima_template.AutoArimaTemplate'&gt;, description='Auto ARIMA model with fit and prediction intervals. Uses `AutoArimaEstimator`.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.AUTO_ARIMA" title="Permalink to this definition">¶</a></dt>
<dd><p>ARIMA model with automatic order selection. Uses <em class="xref py py-obj">AutoArimaEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_TWO_STAGE">
<code class="sig-name descname">SILVERKITE_TWO_STAGE</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate'&gt;, description=&quot;MultistageForecastTemplate's default model template. A two-stage model. The first step takes a longer history and learns the long-term effects, while the second step takes a shorter history and learns the short-term residuals.&quot;)</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_TWO_STAGE" title="Permalink to this definition">¶</a></dt>
<dd><p>Multistage forecast model’s default model template. A two-stage model. ”
“The first step takes a longer history and learns the long-term effects, ”
“while the second step takes a shorter history and learns the short-term residuals.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.MULTISTAGE_EMPTY">
<code class="sig-name descname">MULTISTAGE_EMPTY</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate'&gt;, description='Empty configuration for Multistage Forecast. All parameters will be exactly what user inputs. Not to be used without overriding.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.MULTISTAGE_EMPTY" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty configuration for Multistage Forecast.
All parameters will be exactly what user inputs.
Not to be used without overriding.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.AUTO">
<code class="sig-name descname">AUTO</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate'&gt;, description='Automatically selects the SimpleSilverkite model template that corresponds to the forecast problem. Selection is based on data frequency, forecast horizon, and CV configuration.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.AUTO" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically selects the SimpleSilverkite model template that corresponds to the forecast problem.
Selection is based on data frequency, forecast horizon, and CV configuration.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.LAG_BASED">
<code class="sig-name descname">LAG_BASED</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.lag_based_template.LagBasedTemplate'&gt;, description='Uses aggregated past observations as predictions. Examples are past day, week-over-week, week-over-3-week median, etc.')</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.LAG_BASED" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses aggregated past observations as predictions. Examples are
past day, week-over-week, week-over-3-week median, etc.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_WOW">
<code class="sig-name descname">SILVERKITE_WOW</code><em class="property"> = ModelTemplate(template_class=&lt;class 'greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate'&gt;, description=&quot;The Silverkite+WOW model uses Silverkite to model yearly/quarterly/monthly seasonality, growth and holiday effects first, then uses week over week to estimate the residuals. The final prediction is the total of the two models. This avoids the normal week over week (WOW) estimation's weakness in capturing growth and holidays.&quot;)</em><a class="headerlink" href="#greykite.framework.templates.model_templates.ModelTemplateEnum.SILVERKITE_WOW" title="Permalink to this definition">¶</a></dt>
<dd><p>The Silverkite+WOW model uses Silverkite to model yearly/quarterly/monthly seasonality,
growth and holiday effects first, then uses week over week to estimate the residuals.
The final prediction is the total of the two models.
This avoids the normal week over week (WOW) estimation’s weakness in capturing growth and holidays.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.autogen.forecast_config.ForecastConfig">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.autogen.forecast_config.</code><code class="sig-name descname">ForecastConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">computation_param</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">coverage</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">evaluation_metric_param</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">evaluation_period_param</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">forecast_horizon</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">forecast_one_by_one</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">, </span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metadata_param</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">model_components_param</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">model_template</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>dataclasses.dataclass<span class="p">, </span>List<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>dataclasses.dataclass<span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/autogen/forecast_config.html#ForecastConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Config for providing parameters to the Forecast library</p>
<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ForecastConfig.computation_param">
<code class="sig-name descname">computation_param</code><em class="property">: Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig.computation_param" title="Permalink to this definition">¶</a></dt>
<dd><p>How to compute the result. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ComputationParam</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ForecastConfig.coverage">
<code class="sig-name descname">coverage</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig.coverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Intended coverage of the prediction bands (0.0 to 1.0).
If None, the upper/lower predictions are not returned.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ForecastConfig.evaluation_metric_param">
<code class="sig-name descname">evaluation_metric_param</code><em class="property">: Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig.evaluation_metric_param" title="Permalink to this definition">¶</a></dt>
<dd><p>What metrics to evaluate. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ForecastConfig.evaluation_period_param">
<code class="sig-name descname">evaluation_period_param</code><em class="property">: Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig.evaluation_period_param" title="Permalink to this definition">¶</a></dt>
<dd><p>How to split data for evaluation. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ForecastConfig.forecast_horizon">
<code class="sig-name descname">forecast_horizon</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig.forecast_horizon" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of periods to forecast into the future. Must be &gt; 0.
If None, default is determined from input data frequency.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ForecastConfig.forecast_one_by_one">
<code class="sig-name descname">forecast_one_by_one</code><em class="property">: Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">, </span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig.forecast_one_by_one" title="Permalink to this definition">¶</a></dt>
<dd><p>The options to activate the forecast one-by-one algorithm.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">OneByOneEstimator</span></code>.
Can be boolean, int, of list of int.
If int, it has to be less than or equal to the forecast horizon.
If list of int, the sum has to be the forecast horizon.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ForecastConfig.metadata_param">
<code class="sig-name descname">metadata_param</code><em class="property">: Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig.metadata_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Information about the input data. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetadataParam</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ForecastConfig.model_components_param">
<code class="sig-name descname">model_components_param</code><em class="property">: Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig.model_components_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to tune the model. Typically a single ModelComponentsParam, but the <em class="xref py py-obj">SimpleSilverkiteTemplate</em>
template also allows a list of ModelComponentsParam for grid search. A single ModelComponentsParam
corresponds to one grid, and a list corresponds to a list of grids.
See <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ForecastConfig.model_template">
<code class="sig-name descname">model_template</code><em class="property">: Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>dataclasses.dataclass<span class="p">, </span>List<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>dataclasses.dataclass<span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig.model_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the model template. Typically a single string, but the <em class="xref py py-obj">SimpleSilverkiteTemplate</em>
template also allows a list of string for grid search.
See <a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="greykite.framework.templates.model_templates.ModelTemplateEnum"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelTemplateEnum</span></code></a>
for valid names.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.autogen.forecast_config.MetadataParam">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.autogen.forecast_config.</code><code class="sig-name descname">MetadataParam</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">anomaly_info</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">, </span>List<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">date_format</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">freq</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">train_end_date</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/autogen/forecast_config.html#MetadataParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Properties of the input data</p>
<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.MetadataParam.anomaly_info">
<code class="sig-name descname">anomaly_info</code><em class="property">: Optional<span class="p">[</span>Union<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">, </span>List<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam.anomaly_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Anomaly adjustment info. Anomalies in <code class="docutils literal notranslate"><span class="pre">df</span></code> are corrected before any forecasting is
done. If None, no adjustments are made.
See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.MetadataParam.date_format">
<code class="sig-name descname">date_format</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam.date_format" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.MetadataParam.freq">
<code class="sig-name descname">freq</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam.freq" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.MetadataParam.time_col">
<code class="sig-name descname">time_col</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam.time_col" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.MetadataParam.train_end_date">
<code class="sig-name descname">train_end_date</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam.train_end_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Last date to use for fitting the model. Forecasts are generated after this date.
If None, it is set to the last date with a non-null value in value_col df.
See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.MetadataParam.value_col">
<code class="sig-name descname">value_col</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam.value_col" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.autogen.forecast_config.</code><code class="sig-name descname">EvaluationMetricParam</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_func</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_periods</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_report_metrics</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_selection_metric</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">null_model_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">relative_error_tolerance</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/autogen/forecast_config.html#EvaluationMetricParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="Permalink to this definition">¶</a></dt>
<dd><p>What metrics to evaluate</p>
<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam.agg_func">
<code class="sig-name descname">agg_func</code><em class="property">: Optional<span class="p">[</span>Callable<span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam.agg_func" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam.agg_periods">
<code class="sig-name descname">agg_periods</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam.agg_periods" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam.cv_report_metrics">
<code class="sig-name descname">cv_report_metrics</code><em class="property">: Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam.cv_report_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>See <em class="xref py py-obj">score_func</em> in <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam.cv_selection_metric">
<code class="sig-name descname">cv_selection_metric</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam.cv_selection_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>See <em class="xref py py-obj">score_func</em> in <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam.null_model_params">
<code class="sig-name descname">null_model_params</code><em class="property">: Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam.null_model_params" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam.relative_error_tolerance">
<code class="sig-name descname">relative_error_tolerance</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam.relative_error_tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.autogen.forecast_config.</code><code class="sig-name descname">EvaluationPeriodParam</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cv_expanding_window</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_horizon</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_max_splits</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_min_train_periods</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_periods_between_splits</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_periods_between_train_test</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_use_most_recent_splits</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">periods_between_train_test</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">test_horizon</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/autogen/forecast_config.html#EvaluationPeriodParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="Permalink to this definition">¶</a></dt>
<dd><p>How to split data for evaluation.</p>
<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_expanding_window">
<code class="sig-name descname">cv_expanding_window</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_expanding_window" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_horizon">
<code class="sig-name descname">cv_horizon</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_horizon" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_max_splits">
<code class="sig-name descname">cv_max_splits</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_max_splits" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_min_train_periods">
<code class="sig-name descname">cv_min_train_periods</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_min_train_periods" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_periods_between_splits">
<code class="sig-name descname">cv_periods_between_splits</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_periods_between_splits" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_periods_between_train_test">
<code class="sig-name descname">cv_periods_between_train_test</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_periods_between_train_test" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_use_most_recent_splits">
<code class="sig-name descname">cv_use_most_recent_splits</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.cv_use_most_recent_splits" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.periods_between_train_test">
<code class="sig-name descname">periods_between_train_test</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.periods_between_train_test" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.test_horizon">
<code class="sig-name descname">test_horizon</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam.test_horizon" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.autogen.forecast_config.</code><code class="sig-name descname">ModelComponentsParam</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">autoregression</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">changepoints</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">custom</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">events</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">growth</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">hyperparameter_override</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>Dict<span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span>Dict<span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">regressors</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lagged_regressors</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">seasonality</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">uncertainty</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/autogen/forecast_config.html#ModelComponentsParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameters to tune the model.</p>
<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.autoregression">
<code class="sig-name descname">autoregression</code><em class="property">: Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.autoregression" title="Permalink to this definition">¶</a></dt>
<dd><p>For modeling autoregression, see template for details</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.changepoints">
<code class="sig-name descname">changepoints</code><em class="property">: Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.changepoints" title="Permalink to this definition">¶</a></dt>
<dd><p>For modeling changepoints, see template for details</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.custom">
<code class="sig-name descname">custom</code><em class="property">: Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.custom" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional parameters used by template, see template for details</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.events">
<code class="sig-name descname">events</code><em class="property">: Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.events" title="Permalink to this definition">¶</a></dt>
<dd><p>For modeling events, see template for details</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.growth">
<code class="sig-name descname">growth</code><em class="property">: Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.growth" title="Permalink to this definition">¶</a></dt>
<dd><p>For modeling growth (trend), see template for details</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.hyperparameter_override">
<code class="sig-name descname">hyperparameter_override</code><em class="property">: Optional<span class="p">[</span>Union<span class="p">[</span>Dict<span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span>Dict<span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.hyperparameter_override" title="Permalink to this definition">¶</a></dt>
<dd><p>After the above model components are used to create a hyperparameter grid,
the result is updated by this dictionary, to create new keys or override existing ones.
Allows for complete customization of the grid search.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.regressors">
<code class="sig-name descname">regressors</code><em class="property">: Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.regressors" title="Permalink to this definition">¶</a></dt>
<dd><p>For modeling regressors, see template for details</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.lagged_regressors">
<code class="sig-name descname">lagged_regressors</code><em class="property">: Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.lagged_regressors" title="Permalink to this definition">¶</a></dt>
<dd><p>For modeling lagged regressors, see template for details</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.seasonality">
<code class="sig-name descname">seasonality</code><em class="property">: Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.seasonality" title="Permalink to this definition">¶</a></dt>
<dd><p>For modeling seasonality, see template for details</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.uncertainty">
<code class="sig-name descname">uncertainty</code><em class="property">: Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam.uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>For modeling uncertainty, see template for details</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.autogen.forecast_config.ComputationParam">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.autogen.forecast_config.</code><code class="sig-name descname">ComputationParam</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hyperparameter_budget</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_jobs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/autogen/forecast_config.html#ComputationParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="Permalink to this definition">¶</a></dt>
<dd><p>How to compute the result.</p>
<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ComputationParam.hyperparameter_budget">
<code class="sig-name descname">hyperparameter_budget</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam.hyperparameter_budget" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ComputationParam.n_jobs">
<code class="sig-name descname">n_jobs</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam.n_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.autogen.forecast_config.ComputationParam.verbose">
<code class="sig-name descname">verbose</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="silverkite-template">
<h2>Silverkite Template<a class="headerlink" href="#silverkite-template" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template.</code><code class="sig-name descname">SimpleSilverkiteTemplate</code><span class="sig-paren">(</span><em class="sig-param">constants: greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants = SimpleSilverkiteTemplateConstants(COMMON_MODELCOMPONENTPARAM_PARAMETERS={'SEAS': {'HOURLY': {'LT': {'auto_seasonality': False, 'yearly_seasonality': 8, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 3, 'daily_seasonality': 5}, 'NM': {'auto_seasonality': False, 'yearly_seasonality': 15, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 4, 'daily_seasonality': 8}, 'HV': {'auto_seasonality': False, 'yearly_seasonality': 25, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 6, 'daily_seasonality': 12}, 'LTQM': {'auto_seasonality': False, 'yearly_seasonality': 8, 'quarterly_seasonality': 2, 'monthly_seasonality': 2, 'weekly_seasonality': 3, 'daily_seasonality': 5}, 'NMQM': {'auto_seasonality': False, 'yearly_seasonality': 15, 'quarterly_seasonality': 3, 'monthly_seasonality': 3, 'weekly_seasonality': 4, 'daily_seasonality': 8}, 'HVQM': {'auto_seasonality': False, 'yearly_seasonality': 25, 'quarterly_seasonality': 4, 'monthly_seasonality': 4, 'weekly_seasonality': 6, 'daily_seasonality': 12}, 'NONE': {'auto_seasonality': False, 'yearly_seasonality': 0, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 0, 'daily_seasonality': 0}}, 'DAILY': {'LT': {'auto_seasonality': False, 'yearly_seasonality': 8, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 3, 'daily_seasonality': 0}, 'NM': {'auto_seasonality': False, 'yearly_seasonality': 15, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 3, 'daily_seasonality': 0}, 'HV': {'auto_seasonality': False, 'yearly_seasonality': 25, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 4, 'daily_seasonality': 0}, 'LTQM': {'auto_seasonality': False, 'yearly_seasonality': 8, 'quarterly_seasonality': 3, 'monthly_seasonality': 2, 'weekly_seasonality': 3, 'daily_seasonality': 0}, 'NMQM': {'auto_seasonality': False, 'yearly_seasonality': 15, 'quarterly_seasonality': 4, 'monthly_seasonality': 4, 'weekly_seasonality': 3, 'daily_seasonality': 0}, 'HVQM': {'auto_seasonality': False, 'yearly_seasonality': 25, 'quarterly_seasonality': 6, 'monthly_seasonality': 4, 'weekly_seasonality': 4, 'daily_seasonality': 0}, 'NONE': {'auto_seasonality': False, 'yearly_seasonality': 0, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 0, 'daily_seasonality': 0}}, 'WEEKLY': {'LT': {'auto_seasonality': False, 'yearly_seasonality': 8, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 0, 'daily_seasonality': 0}, 'NM': {'auto_seasonality': False, 'yearly_seasonality': 15, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 0, 'daily_seasonality': 0}, 'HV': {'auto_seasonality': False, 'yearly_seasonality': 25, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 0, 'daily_seasonality': 0}, 'LTQM': {'auto_seasonality': False, 'yearly_seasonality': 8, 'quarterly_seasonality': 2, 'monthly_seasonality': 2, 'weekly_seasonality': 0, 'daily_seasonality': 0}, 'NMQM': {'auto_seasonality': False, 'yearly_seasonality': 15, 'quarterly_seasonality': 3, 'monthly_seasonality': 3, 'weekly_seasonality': 0, 'daily_seasonality': 0}, 'HVQM': {'auto_seasonality': False, 'yearly_seasonality': 25, 'quarterly_seasonality': 4, 'monthly_seasonality': 4, 'weekly_seasonality': 0, 'daily_seasonality': 0}, 'NONE': {'auto_seasonality': False, 'yearly_seasonality': 0, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 0, 'daily_seasonality': 0}}}, 'GR': {'LINEAR': {'growth_term': 'linear'}, 'NONE': {'growth_term': None}}, 'CP': {'HOURLY': {'LT': {'method': 'auto', 'resample_freq': 'D', 'regularization_strength': 0.6, 'potential_changepoint_distance': '7D', 'no_changepoint_distance_from_end': '30D', 'yearly_seasonality_order': 15, 'yearly_seasonality_change_freq': None}, 'NM': {'method': 'auto', 'resample_freq': 'D', 'regularization_strength': 0.5, 'potential_changepoint_distance': '15D', 'no_changepoint_distance_from_end': '30D', 'yearly_seasonality_order': 15, 'yearly_seasonality_change_freq': '365D'}, 'HV': {'method': 'auto', 'resample_freq': 'D', 'regularization_strength': 0.3, 'potential_changepoint_distance': '15D', 'no_changepoint_distance_from_end': '30D', 'yearly_seasonality_order': 15, 'yearly_seasonality_change_freq': '365D'}, 'NONE': None}, 'DAILY': {'LT': {'method': 'auto', 'resample_freq': '7D', 'regularization_strength': 0.6, 'potential_changepoint_distance': '15D', 'no_changepoint_distance_from_end': '90D', 'yearly_seasonality_order': 15, 'yearly_seasonality_change_freq': None}, 'NM': {'method': 'auto', 'resample_freq': '7D', 'regularization_strength': 0.5, 'potential_changepoint_distance': '15D', 'no_changepoint_distance_from_end': '180D', 'yearly_seasonality_order': 15, 'yearly_seasonality_change_freq': '365D'}, 'HV': {'method': 'auto', 'resample_freq': '7D', 'regularization_strength': 0.3, 'potential_changepoint_distance': '15D', 'no_changepoint_distance_from_end': '180D', 'yearly_seasonality_order': 15, 'yearly_seasonality_change_freq': '365D'}, 'NONE': None}, 'WEEKLY': {'LT': {'method': 'auto', 'resample_freq': '7D', 'regularization_strength': 0.6, 'potential_changepoint_distance': '14D', 'no_changepoint_distance_from_end': '180D', 'yearly_seasonality_order': 15, 'yearly_seasonality_change_freq': None}, 'NM': {'method': 'auto', 'resample_freq': '7D', 'regularization_strength': 0.5, 'potential_changepoint_distance': '14D', 'no_changepoint_distance_from_end': '180D', 'yearly_seasonality_order': 15, 'yearly_seasonality_change_freq': '365D'}, 'HV': {'method': 'auto', 'resample_freq': '7D', 'regularization_strength': 0.3, 'potential_changepoint_distance': '14D', 'no_changepoint_distance_from_end': '180D', 'yearly_seasonality_order': 15, 'yearly_seasonality_change_freq': '365D'}, 'NONE': None}}, 'HOL': {'SP1': {'auto_holiday': False, 'holidays_to_model_separately': 'auto', 'holiday_lookup_countries': 'auto', 'holiday_pre_num_days': 1, 'holiday_post_num_days': 1, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, 'SP2': {'auto_holiday': False, 'holidays_to_model_separately': 'auto', 'holiday_lookup_countries': 'auto', 'holiday_pre_num_days': 2, 'holiday_post_num_days': 2, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, 'SP4': {'auto_holiday': False, 'holidays_to_model_separately': 'auto', 'holiday_lookup_countries': 'auto', 'holiday_pre_num_days': 4, 'holiday_post_num_days': 4, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, 'TG': {'auto_holiday': False, 'holidays_to_model_separately': [], 'holiday_lookup_countries': 'auto', 'holiday_pre_num_days': 3, 'holiday_post_num_days': 3, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, 'NONE': {'auto_holiday': False, 'holidays_to_model_separately': [], 'holiday_lookup_countries': [], 'holiday_pre_num_days': 0, 'holiday_post_num_days': 0, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}}, 'FEASET': {'AUTO': 'auto', 'ON': True, 'OFF': False}, 'ALGO': {'LINEAR': {'fit_algorithm': 'linear', 'fit_algorithm_params': None}, 'RIDGE': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'SGD': {'fit_algorithm': 'sgd', 'fit_algorithm_params': None}, 'LASSO': {'fit_algorithm': 'lasso', 'fit_algorithm_params': None}}, 'AR': {'AUTO': {'autoreg_dict': 'auto', 'simulation_num': 10, 'fast_simulation': False}, 'OFF': {'autoreg_dict': None, 'simulation_num': 10, 'fast_simulation': False}}, 'DSI': {'HOURLY': {'AUTO': 5, 'OFF': 0}, 'DAILY': {'AUTO': 0, 'OFF': 0}, 'WEEKLY': {'AUTO': 0, 'OFF': 0}}, 'WSI': {'HOURLY': {'AUTO': 2, 'OFF': 0}, 'DAILY': {'AUTO': 2, 'OFF': 0}, 'WEEKLY': {'AUTO': 0, 'OFF': 0}}}, MULTI_TEMPLATES={'SILVERKITE_DAILY_1': ['SILVERKITE_DAILY_1_CONFIG_1', 'SILVERKITE_DAILY_1_CONFIG_2', 'SILVERKITE_DAILY_1_CONFIG_3'], 'SILVERKITE_DAILY_90': ['DAILY_SEAS_LTQM_GR_LINEAR_CP_LT_HOL_SP2_FEASET_AUTO_ALGO_LINEAR_AR_OFF_DSI_AUTO_WSI_AUTO', 'DAILY_SEAS_LTQM_GR_LINEAR_CP_NONE_HOL_SP2_FEASET_AUTO_ALGO_LINEAR_AR_OFF_DSI_AUTO_WSI_AUTO', 'DAILY_SEAS_LTQM_GR_LINEAR_CP_LT_HOL_SP2_FEASET_AUTO_ALGO_RIDGE_AR_OFF_DSI_AUTO_WSI_AUTO', 'DAILY_SEAS_NM_GR_LINEAR_CP_LT_HOL_SP4_FEASET_AUTO_ALGO_RIDGE_AR_OFF_DSI_AUTO_WSI_AUTO'], 'SILVERKITE_WEEKLY': ['WEEKLY_SEAS_NM_GR_LINEAR_CP_NONE_HOL_NONE_FEASET_OFF_ALGO_LINEAR_AR_OFF_DSI_AUTO_WSI_AUTO', 'WEEKLY_SEAS_NM_GR_LINEAR_CP_LT_HOL_NONE_FEASET_OFF_ALGO_LINEAR_AR_OFF_DSI_AUTO_WSI_AUTO', 'WEEKLY_SEAS_HV_GR_LINEAR_CP_NM_HOL_NONE_FEASET_OFF_ALGO_RIDGE_AR_OFF_DSI_AUTO_WSI_AUTO', 'WEEKLY_SEAS_HV_GR_LINEAR_CP_LT_HOL_NONE_FEASET_OFF_ALGO_RIDGE_AR_OFF_DSI_AUTO_WSI_AUTO'], 'SILVERKITE_HOURLY_1': ['SILVERKITE', 'HOURLY_SEAS_LT_GR_LINEAR_CP_NM_HOL_SP4_FEASET_OFF_ALGO_RIDGE_AR_AUTO', 'HOURLY_SEAS_NM_GR_LINEAR_CP_NM_HOL_SP1_FEASET_AUTO_ALGO_RIDGE_AR_AUTO'], 'SILVERKITE_HOURLY_24': ['HOURLY_SEAS_LT_GR_LINEAR_CP_NM_HOL_SP4_FEASET_AUTO_ALGO_RIDGE_AR_AUTO', 'HOURLY_SEAS_LT_GR_LINEAR_CP_NONE_HOL_SP4_FEASET_AUTO_ALGO_RIDGE_AR_AUTO', 'HOURLY_SEAS_NM_GR_LINEAR_CP_LT_HOL_SP1_FEASET_OFF_ALGO_LINEAR_AR_AUTO', 'HOURLY_SEAS_NM_GR_LINEAR_CP_NM_HOL_SP4_FEASET_AUTO_ALGO_RIDGE_AR_AUTO'], 'SILVERKITE_HOURLY_168': ['HOURLY_SEAS_LT_GR_LINEAR_CP_LT_HOL_SP4_FEASET_AUTO_ALGO_RIDGE_AR_OFF', 'HOURLY_SEAS_LT_GR_LINEAR_CP_LT_HOL_SP2_FEASET_AUTO_ALGO_RIDGE_AR_OFF', 'HOURLY_SEAS_NM_GR_LINEAR_CP_NONE_HOL_SP4_FEASET_OFF_ALGO_LINEAR_AR_AUTO', 'HOURLY_SEAS_NM_GR_LINEAR_CP_NM_HOL_SP1_FEASET_AUTO_ALGO_RIDGE_AR_OFF'], 'SILVERKITE_HOURLY_336': ['HOURLY_SEAS_LT_GR_LINEAR_CP_LT_HOL_SP2_FEASET_AUTO_ALGO_RIDGE_AR_OFF', 'HOURLY_SEAS_LT_GR_LINEAR_CP_LT_HOL_SP4_FEASET_AUTO_ALGO_RIDGE_AR_OFF', 'HOURLY_SEAS_NM_GR_LINEAR_CP_LT_HOL_SP1_FEASET_AUTO_ALGO_LINEAR_AR_OFF', 'HOURLY_SEAS_NM_GR_LINEAR_CP_NM_HOL_SP1_FEASET_AUTO_ALGO_LINEAR_AR_AUTO']}, SILVERKITE=ModelComponentsParam(autoregression={'autoreg_dict': 'auto', 'simulation_num': 10, 'fast_simulation': False}, changepoints={'auto_growth': False, 'changepoints_dict': {'method': 'auto', 'yearly_seasonality_order': 15, 'resample_freq': '3D', 'regularization_strength': 0.6, 'actual_changepoint_min_distance': '30D', 'potential_changepoint_distance': '15D', 'no_changepoint_distance_from_end': '90D'}, 'seasonality_changepoints_dict': None}, custom={'fit_algorithm_dict': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'feature_sets_enabled': 'auto', 'max_daily_seas_interaction_order': 5, 'max_weekly_seas_interaction_order': 2, 'extra_pred_cols': [], 'drop_pred_cols': None, 'explicit_pred_cols': None, 'min_admissible_value': None, 'max_admissible_value': None, 'regression_weight_col': None, 'normalize_method': 'zero_to_one'}, events={'auto_holiday': False, 'holidays_to_model_separately': 'auto', 'holiday_lookup_countries': 'auto', 'holiday_pre_num_days': 2, 'holiday_post_num_days': 2, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, growth={'growth_term': 'linear'}, hyperparameter_override=None, regressors={'regressor_cols': []}, lagged_regressors={'lagged_regressor_dict': None}, seasonality={'auto_seasonality': False, 'yearly_seasonality': 'auto', 'quarterly_seasonality': 'auto', 'monthly_seasonality': 'auto', 'weekly_seasonality': 'auto', 'daily_seasonality': 'auto'}, uncertainty={'uncertainty_dict': None}), SILVERKITE_MONTHLY=ModelComponentsParam(autoregression={'autoreg_dict': {'lag_dict': None, 'agg_lag_dict': {'orders_list': [[1, 2, 3]]}}, 'simulation_num': 50, 'fast_simulation': True}, changepoints={'auto_growth': False, 'changepoints_dict': {'method': 'auto', 'regularization_strength': 0.6, 'resample_freq': '28D', 'potential_changepoint_distance': '180D', 'potential_changepoint_n_max': 100, 'actual_changepoint_min_distance': '730D', 'no_changepoint_distance_from_end': '180D', 'yearly_seasonality_order': 6}, 'seasonality_changepoints_dict': None}, custom={'fit_algorithm_dict': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'feature_sets_enabled': False, 'max_daily_seas_interaction_order': 0, 'max_weekly_seas_interaction_order': 0, 'extra_pred_cols': ['y_avglag_1_2_3*C(month, levels=list(range(1, 13)))', 'C(month, levels=list(range(1, 13)))'], 'drop_pred_cols': None, 'explicit_pred_cols': None, 'min_admissible_value': None, 'max_admissible_value': None, 'regression_weight_col': None, 'normalize_method': 'zero_to_one'}, events={'auto_holiday': False, 'holidays_to_model_separately': [], 'holiday_lookup_countries': [], 'holiday_pre_num_days': 0, 'holiday_post_num_days': 0, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, growth={'growth_term': 'linear'}, hyperparameter_override=None, regressors={'regressor_cols': []}, lagged_regressors={'lagged_regressor_dict': None}, seasonality={'auto_seasonality': False, 'yearly_seasonality': False, 'quarterly_seasonality': False, 'monthly_seasonality': False, 'weekly_seasonality': False, 'daily_seasonality': False}, uncertainty={'uncertainty_dict': None}), SILVERKITE_DAILY_1_CONFIG_1=ModelComponentsParam(autoregression={'autoreg_dict': 'auto', 'simulation_num': 10, 'fast_simulation': False}, changepoints={'auto_growth': False, 'changepoints_dict': {'method': 'auto', 'resample_freq': '7D', 'regularization_strength': 0.809, 'potential_changepoint_distance': '7D', 'no_changepoint_distance_from_end': '7D', 'yearly_seasonality_order': 8, 'yearly_seasonality_change_freq': None}, 'seasonality_changepoints_dict': None}, custom={'fit_algorithm_dict': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'feature_sets_enabled': 'auto', 'max_daily_seas_interaction_order': 5, 'max_weekly_seas_interaction_order': 2, 'extra_pred_cols': [], 'drop_pred_cols': None, 'explicit_pred_cols': None, 'min_admissible_value': None, 'max_admissible_value': None, 'regression_weight_col': None, 'normalize_method': 'zero_to_one'}, events={'auto_holiday': False, 'holidays_to_model_separately': (&quot;New Year's Day&quot;, 'Chinese New Year', 'Christmas Day', 'Independence Day', 'Thanksgiving', 'Labor Day', 'Good Friday', 'Easter Monday [England, Wales, Northern Ireland]', 'Memorial Day', 'Veterans Day'), 'holiday_lookup_countries': ('UnitedStates', 'UnitedKingdom', 'India', 'France', 'China'), 'holiday_pre_num_days': 2, 'holiday_post_num_days': 2, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, growth={'growth_term': 'linear'}, hyperparameter_override=None, regressors={'regressor_cols': []}, lagged_regressors={'lagged_regressor_dict': None}, seasonality={'auto_seasonality': False, 'yearly_seasonality': 8, 'quarterly_seasonality': 0, 'monthly_seasonality': 7, 'weekly_seasonality': 1, 'daily_seasonality': 0}, uncertainty={'uncertainty_dict': None}), SILVERKITE_DAILY_1_CONFIG_2=ModelComponentsParam(autoregression={'autoreg_dict': 'auto', 'simulation_num': 10, 'fast_simulation': False}, changepoints={'auto_growth': False, 'changepoints_dict': {'method': 'auto', 'resample_freq': '7D', 'regularization_strength': 0.624, 'potential_changepoint_distance': '7D', 'no_changepoint_distance_from_end': '17D', 'yearly_seasonality_order': 1, 'yearly_seasonality_change_freq': None}, 'seasonality_changepoints_dict': None}, custom={'fit_algorithm_dict': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'feature_sets_enabled': 'auto', 'max_daily_seas_interaction_order': 5, 'max_weekly_seas_interaction_order': 2, 'extra_pred_cols': [], 'drop_pred_cols': None, 'explicit_pred_cols': None, 'min_admissible_value': None, 'max_admissible_value': None, 'regression_weight_col': None, 'normalize_method': 'zero_to_one'}, events={'auto_holiday': False, 'holidays_to_model_separately': (&quot;New Year's Day&quot;, 'Chinese New Year', 'Christmas Day', 'Independence Day', 'Thanksgiving', 'Labor Day', 'Good Friday', 'Easter Monday [England, Wales, Northern Ireland]', 'Memorial Day', 'Veterans Day'), 'holiday_lookup_countries': ('UnitedStates', 'UnitedKingdom', 'India', 'France', 'China'), 'holiday_pre_num_days': 2, 'holiday_post_num_days': 2, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, growth={'growth_term': 'linear'}, hyperparameter_override=None, regressors={'regressor_cols': []}, lagged_regressors={'lagged_regressor_dict': None}, seasonality={'auto_seasonality': False, 'yearly_seasonality': 1, 'quarterly_seasonality': 0, 'monthly_seasonality': 4, 'weekly_seasonality': 6, 'daily_seasonality': 0}, uncertainty={'uncertainty_dict': None}), SILVERKITE_DAILY_1_CONFIG_3=ModelComponentsParam(autoregression={'autoreg_dict': 'auto', 'simulation_num': 10, 'fast_simulation': False}, changepoints={'auto_growth': False, 'changepoints_dict': {'method': 'auto', 'resample_freq': '7D', 'regularization_strength': 0.59, 'potential_changepoint_distance': '7D', 'no_changepoint_distance_from_end': '8D', 'yearly_seasonality_order': 40, 'yearly_seasonality_change_freq': None}, 'seasonality_changepoints_dict': None}, custom={'fit_algorithm_dict': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'feature_sets_enabled': 'auto', 'max_daily_seas_interaction_order': 5, 'max_weekly_seas_interaction_order': 2, 'extra_pred_cols': [], 'drop_pred_cols': None, 'explicit_pred_cols': None, 'min_admissible_value': None, 'max_admissible_value': None, 'regression_weight_col': None, 'normalize_method': 'zero_to_one'}, events={'auto_holiday': False, 'holidays_to_model_separately': (&quot;New Year's Day&quot;, 'Chinese New Year', 'Christmas Day', 'Independence Day', 'Thanksgiving', 'Labor Day', 'Good Friday', 'Easter Monday [England, Wales, Northern Ireland]', 'Memorial Day', 'Veterans Day'), 'holiday_lookup_countries': ('UnitedStates', 'UnitedKingdom', 'India', 'France', 'China'), 'holiday_pre_num_days': 2, 'holiday_post_num_days': 2, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, growth={'growth_term': 'linear'}, hyperparameter_override=None, regressors={'regressor_cols': []}, lagged_regressors={'lagged_regressor_dict': None}, seasonality={'auto_seasonality': False, 'yearly_seasonality': 40, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 2, 'daily_seasonality': 0}, uncertainty={'uncertainty_dict': None}), SILVERKITE_COMPONENT_KEYWORDS=&lt;enum 'SILVERKITE_COMPONENT_KEYWORDS'&gt;, SILVERKITE_EMPTY='DAILY_SEAS_NONE_GR_NONE_CP_NONE_HOL_NONE_FEASET_OFF_ALGO_LINEAR_AR_OFF_DSI_OFF_WSI_OFF', VALID_FREQ=['HOURLY', 'DAILY', 'WEEKLY'], SimpleSilverkiteTemplateOptions=&lt;class 'greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions'&gt;), estimator: greykite.sklearn.estimator.base_forecast_estimator.BaseForecastEstimator = SimpleSilverkiteEstimator()</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template.html#SimpleSilverkiteTemplate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="Permalink to this definition">¶</a></dt>
<dd><p>A template for <a class="reference internal" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator" title="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleSilverkiteEstimator</span></code></a>.</p>
<p>Takes input data and optional configuration parameters
to customize the model. Returns a set of parameters to call
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
<p class="rubric">Notes</p>
<p>The attributes of a <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a> for
<a class="reference internal" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator" title="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleSilverkiteEstimator</span></code></a> are:</p>
<blockquote>
<div><dl>
<dt>computation_param: <em class="xref py py-obj">ComputationParam</em> or None, default None</dt><dd><p>How to compute the result. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ComputationParam</span></code></a>.</p>
</dd>
<dt>coverage: <em class="xref py py-obj">float</em> or None, default None</dt><dd><p>Intended coverage of the prediction bands (0.0 to 1.0).
Same as coverage in <code class="docutils literal notranslate"><span class="pre">forecast_pipeline</span></code>.
You may tune how the uncertainty is computed
via <em class="xref py py-obj">model_components.uncertainty[“uncertainty_dict”]</em>.</p>
</dd>
<dt>evaluation_metric_param: <em class="xref py py-obj">EvaluationMetricParam</em> or None, default None</dt><dd><p>What metrics to evaluate. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a>.</p>
</dd>
<dt>evaluation_period_param: <em class="xref py py-obj">EvaluationPeriodParam</em> or None, default None</dt><dd><p>How to split data for evaluation. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a>.</p>
</dd>
<dt>forecast_horizon: <em class="xref py py-obj">int</em> or None, default None</dt><dd><p>Number of periods to forecast into the future. Must be &gt; 0
If None, default is determined from input data frequency
Same as forecast_horizon in <em class="xref py py-obj">forecast_pipeline</em></p>
</dd>
<dt>metadata_param: <em class="xref py py-obj">MetadataParam</em> or None, default None</dt><dd><p>Information about the input data. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetadataParam</span></code></a>.</p>
</dd>
<dt>model_components_param: <code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code>, <em class="xref py py-obj">list</em> [<code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code>] or None, default None</dt><dd><p>Parameters to tune the model. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>.
The fields are dictionaries with the following items.</p>
<p>See inline comments on which values accept lists for grid search.</p>
<dl>
<dt>seasonality: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>Seasonality configuration dictionary, with the following optional keys.
(keys are SilverkiteSeasonalityEnum members in lower case).</p>
<p>The keys are parameters of
<em class="xref py py-obj">forecast_simple_silverkite</em>.
Refer to that function for more details.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;auto_seasonality&quot;</span></code><span class="classifier"><em class="xref py py-obj">bool</em>, default False</span></dt><dd><p>Whether to automatically infer seasonality orders.
If True, the seasonality orders will be automatically inferred from input timeseries
and the following parameters will be ignored:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;yearly_seasonality&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;quarterly_seasonality&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;monthly_seasonality&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;weekly_seasonality&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;daily_seasonality&quot;</span></code></p></li>
</ul>
</div></blockquote>
<p>For detail, see <a class="reference internal" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferrer" title="greykite.algo.common.seasonality_inferrer.SeasonalityInferrer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SeasonalityInferrer</span></code></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;yearly_seasonality&quot;</span></code>: <em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em> or a list of such values for grid search, default ‘auto’</dt><dd><p>Determines the yearly seasonality
‘auto’, True, False, or a number for the Fourier order</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;quarterly_seasonality&quot;</span></code>: <em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em> or a list of such values for grid search, default ‘auto’</dt><dd><p>Determines the quarterly seasonality
‘auto’, True, False, or a number for the Fourier order</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;monthly_seasonality&quot;</span></code>: <em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em> or a list of such values for grid search, default ‘auto’</dt><dd><p>Determines the monthly seasonality
‘auto’, True, False, or a number for the Fourier order</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;weekly_seasonality&quot;</span></code>: <em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em> or a list of such values for grid search, default ‘auto’</dt><dd><p>Determines the weekly seasonality
‘auto’, True, False, or a number for the Fourier order</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;daily_seasonality&quot;</span></code>: <em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em> or a list of such values for grid search, default ‘auto’</dt><dd><p>Determines the daily seasonality
‘auto’, True, False, or a number for the Fourier order</p>
</dd>
</dl>
</dd>
<dt>growth: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>Growth configuration dictionary with the following optional key:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;growth_term&quot;</span></code>: <em class="xref py py-obj">str</em> or None or a list of such values for grid search</dt><dd><p>How to model the growth.
Valid options are “linear”, “quadratic”, “sqrt”, “cubic”, “cuberoot”.
See <a class="reference internal" href="#greykite.common.constants.GrowthColEnum" title="greykite.common.constants.GrowthColEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GrowthColEnum</span></code></a>.
All these terms have their origin at the train start date.</p>
</dd>
</dl>
</dd>
<dt>events: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>Holiday/events configuration dictionary with the following optional keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;auto_holiday&quot;</span></code><span class="classifier"><em class="xref py py-obj">bool</em>, default False</span></dt><dd><p>Whether to automatically infer holiday configuration based on the input timeseries.
If True, the following keys will be ignored:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;holiday_lookup_countries&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;holidays_to_model_separately&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;holiday_pre_num_days&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;holiday_post_num_days&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;holiday_pre_post_num_dict&quot;</span></code></p></li>
</ul>
</div></blockquote>
<p>For details, see <a class="reference internal" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer" title="greykite.algo.common.holiday_inferrer.HolidayInferrer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HolidayInferrer</span></code></a>.
Extra events specified in <code class="docutils literal notranslate"><span class="pre">daily_event_df_dict</span></code> will be added to the inferred holidays.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;holiday_lookup_countries&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or “auto” or None or a list of such values for grid search, default “auto”</dt><dd><p>The countries that contain the holidays you intend to model
(<code class="docutils literal notranslate"><span class="pre">holidays_to_model_separately</span></code>).</p>
<ul class="simple">
<li><p>If “auto”, uses a default list of countries
that contain the default <code class="docutils literal notranslate"><span class="pre">holidays_to_model_separately</span></code>.
See <a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAY_LOOKUP_COUNTRIES_AUTO" title="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAY_LOOKUP_COUNTRIES_AUTO"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HOLIDAY_LOOKUP_COUNTRIES_AUTO</span></code></a>.</p></li>
<li><p>If a list, must be a list of country names.</p></li>
<li><p>If None or an empty list, no holidays are modeled.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;holidays_to_model_separately&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or “auto” or <a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.ALL_HOLIDAYS_IN_COUNTRIES" title="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.ALL_HOLIDAYS_IN_COUNTRIES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ALL_HOLIDAYS_IN_COUNTRIES</span></code></a> or None or a list of such values for grid search, default “auto”  # noqa: E501</dt><dd><p>Which holidays to include in the model.
The model creates a separate key, value for each item in <code class="docutils literal notranslate"><span class="pre">holidays_to_model_separately</span></code>.
The other holidays in the countries are grouped together as a single effect.</p>
<ul class="simple">
<li><p>If “auto”, uses a default list of important holidays.
See <a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAYS_TO_MODEL_SEPARATELY_AUTO" title="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAYS_TO_MODEL_SEPARATELY_AUTO"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HOLIDAYS_TO_MODEL_SEPARATELY_AUTO</span></code></a>.</p></li>
<li><p>If <a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.ALL_HOLIDAYS_IN_COUNTRIES" title="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.ALL_HOLIDAYS_IN_COUNTRIES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ALL_HOLIDAYS_IN_COUNTRIES</span></code></a>,
uses all available holidays in <code class="docutils literal notranslate"><span class="pre">holiday_lookup_countries</span></code>. This can often
create a model that has too many parameters, and should typically be avoided.</p></li>
<li><p>If a list, must be a list of holiday names.</p></li>
<li><p>If None or an empty list, all holidays in <code class="docutils literal notranslate"><span class="pre">holiday_lookup_countries</span></code> are grouped together
as a single effect.</p></li>
</ul>
<p>Use <code class="docutils literal notranslate"><span class="pre">holiday_lookup_countries</span></code> to provide a list of countries where these holiday occur.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;holiday_pre_num_days&quot;</span></code>: <em class="xref py py-obj">int</em> or a list of such values for grid search, default 2</dt><dd><p>model holiday effects for pre_num days before the holiday.
The unit is days, not periods. It does not depend on input data frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;holiday_post_num_days&quot;</span></code>: <em class="xref py py-obj">int</em> or a list of such values for grid search, default 2</dt><dd><p>model holiday effects for post_num days after the holiday.
The unit is days, not periods. It does not depend on input data frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;holiday_pre_post_num_dict&quot;</span></code>: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, (<em class="xref py py-obj">int</em>, <em class="xref py py-obj">int</em>)] or None, default None</dt><dd><p>Overrides <code class="docutils literal notranslate"><span class="pre">pre_num</span></code> and <code class="docutils literal notranslate"><span class="pre">post_num</span></code> for each holiday in
<code class="docutils literal notranslate"><span class="pre">holidays_to_model_separately</span></code>.
For example, if <code class="docutils literal notranslate"><span class="pre">holidays_to_model_separately</span></code> contains “Thanksgiving” and “Labor Day”,
this parameter can be set to <code class="docutils literal notranslate"><span class="pre">{&quot;Thanksgiving&quot;:</span> <span class="pre">[1,</span> <span class="pre">3],</span> <span class="pre">&quot;Labor</span> <span class="pre">Day&quot;:</span> <span class="pre">[1,</span> <span class="pre">2]}</span></code>,
denoting that the “Thanksgiving” <code class="docutils literal notranslate"><span class="pre">pre_num</span></code> is 1 and <code class="docutils literal notranslate"><span class="pre">post_num</span></code> is 3, and “Labor Day”
<code class="docutils literal notranslate"><span class="pre">pre_num</span></code> is 1 and <code class="docutils literal notranslate"><span class="pre">post_num</span></code> is 2.
Holidays not specified use the default given by <code class="docutils literal notranslate"><span class="pre">pre_num</span></code> and <code class="docutils literal notranslate"><span class="pre">post_num</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;daily_event_df_dict&quot;</span></code>: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>] or None, default None</dt><dd><p>A dictionary of data frames, each representing events data for the corresponding key.
Specifies additional events to include besides the holidays specified above. The format
is the same as in <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.
The DataFrame has two columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>The first column contains event dates. Must be in a format
recognized by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.to_datetime.html#pandas.to_datetime" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.to_datetime</span></code></a>. Must be at daily
frequency for proper join. It is joined against the time
in <code class="docutils literal notranslate"><span class="pre">df</span></code>, converted to a day:
<code class="docutils literal notranslate"><span class="pre">pd.to_datetime(pd.DatetimeIndex(df[time_col]).date)</span></code>.</p></li>
<li><p>the second column contains the event label for each date</p></li>
</ul>
</div></blockquote>
<p>The column order is important; column names are ignored.
The event dates must span their occurrences in both the training
and future prediction period.</p>
<p>During modeling, each key in the dictionary is mapped to a categorical variable
named <code class="docutils literal notranslate"><span class="pre">f&quot;{EVENT_PREFIX}_{key}&quot;</span></code>, whose value at each timestamp is specified
by the corresponding DataFrame.</p>
<p>For example, to manually specify a yearly event on September 1
during a training/forecast period that spans 2020-2022:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;custom_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;is_event&quot;</span><span class="p">,</span> <span class="s2">&quot;is_event&quot;</span><span class="p">,</span> <span class="s2">&quot;is_event&quot;</span><span class="p">]</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It’s possible to specify multiple events in the same df. Two events,
<code class="docutils literal notranslate"><span class="pre">&quot;sep&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;oct&quot;</span></code> are specified below for 2020-2021:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;custom_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-10-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-10-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;sep&quot;</span><span class="p">,</span> <span class="s2">&quot;oct&quot;</span><span class="p">,</span> <span class="s2">&quot;sep&quot;</span><span class="p">,</span> <span class="s2">&quot;oct&quot;</span><span class="p">]</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Use multiple keys if two events may fall on the same date. These events
must be in separate DataFrames:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;fixed_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;fixed_event&quot;</span>
    <span class="p">}),</span>
    <span class="s2">&quot;moving_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-08-28&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09-03&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;moving_event&quot;</span>
    <span class="p">}),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The multiple event specification can be used even if events never overlap. An
equivalent specification to the second example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;sep&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;is_event&quot;</span>
    <span class="p">}),</span>
    <span class="s2">&quot;oct&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-10-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-10-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;is_event&quot;</span>
    <span class="p">}),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note: All these events are automatically added to the model. There is no need
to specify them in <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> as you would for
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.</p>
<p>Note: Do not use <a class="reference internal" href="#greykite.common.constants.EVENT_DEFAULT" title="greykite.common.constants.EVENT_DEFAULT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EVENT_DEFAULT</span></code></a>
in the second column. This is reserved to indicate dates that do not
correspond to an event.</p>
</dd>
</dl>
</dd>
<dt>changepoints: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">dict</em>] or None, optional</dt><dd><p>Specifies the changepoint configuration. Dictionary with the following
optional key:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;auto_growth&quot;</span></code><span class="classifier"><em class="xref py py-obj">bool</em>, default False</span></dt><dd><p>Whether to automatically infer growth configuration.
If True, the growth term and automatically changepoint detection configuration
will be inferred from input timeseries,
and the following parameters will be ignored:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;growth_term&quot;</span></code> in <code class="docutils literal notranslate"><span class="pre">growth</span></code> dictionary</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;changepoints_dict&quot;</span></code> (All parameters but custom changepoint parameters
to be combined with automatically detected changepoints.)</p></li>
</ul>
</div></blockquote>
<p>For detail, see
<code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_trend_changepoint_detection_params</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;changepoints_dict&quot;</span></code>: <em class="xref py py-obj">dict</em> or None or a list of such values for grid search</dt><dd><p>Changepoints dictionary passed to <code class="docutils literal notranslate"><span class="pre">forecast_simple_silverkite</span></code>. A dictionary
with the following optional keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;method&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>The method to locate changepoints. Valid options:</p>
<blockquote>
<div><ul class="simple">
<li><p>“uniform”. Places n_changepoints evenly spaced changepoints to allow growth to change.</p></li>
<li><p>“custom”. Places changepoints at the specified dates.</p></li>
<li><p>“auto”. Automatically detects change points.</p></li>
</ul>
</div></blockquote>
<p>Additional keys to provide parameters for each particular method are described below.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;continuous_time_col&quot;</span></code>: <em class="xref py py-obj">str</em> or None</dt><dd><p>Column to apply <em class="xref py py-obj">growth_func</em> to, to generate changepoint features
Typically, this should match the growth term in the model</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;growth_func&quot;</span></code>: callable or None</dt><dd><p>Growth function (<em class="xref py py-obj">numeric</em> -&gt; <em class="xref py py-obj">numeric</em>). Changepoint features are created
by applying <em class="xref py py-obj">growth_func</em> to “continuous_time_col” with offsets.
If None, uses identity function to use <em class="xref py py-obj">continuous_time_col</em> directly
as growth term</p>
</dd>
</dl>
<p>If changepoints_dict[“method”] == “uniform”, this other key is required:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;n_changepoints&quot;</span></code>: <em class="xref py py-obj">int</em></dt><dd><p>number of changepoints to evenly space across training period</p>
</dd>
</dl>
</div></blockquote>
<p>If changepoints_dict[“method”] == “custom”, this other key is required:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;dates&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em> or <em class="xref py py-obj">float</em> or <em class="xref py py-obj">str</em> or <a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#module-datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code></a>]</dt><dd><p>Changepoint dates. Must be parsable by pd.to_datetime.
Changepoints are set at the closest time on or after these dates
in the dataset.</p>
</dd>
</dl>
</div></blockquote>
<p>If changepoints_dict[“method”] == “auto”, optional keys can be passed that match the parameters in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_trend_changepoints</span></code></a>
(except <code class="docutils literal notranslate"><span class="pre">df</span></code>, <code class="docutils literal notranslate"><span class="pre">time_col</span></code> and <code class="docutils literal notranslate"><span class="pre">value_col</span></code>, which are already known).
To add manually specified changepoints to the automatically detected ones, the keys <code class="docutils literal notranslate"><span class="pre">dates</span></code>,
<code class="docutils literal notranslate"><span class="pre">combine_changepoint_min_distance</span></code> and <code class="docutils literal notranslate"><span class="pre">keep_detected</span></code> can be specified, which correspond to the
three parameters <code class="docutils literal notranslate"><span class="pre">custom_changepoint_dates</span></code>, <code class="docutils literal notranslate"><span class="pre">min_distance</span></code> and <code class="docutils literal notranslate"><span class="pre">keep_detected</span></code> in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoints_utils.combine_detected_and_custom_trend_changepoints" title="greykite.algo.changepoint.adalasso.changepoints_utils.combine_detected_and_custom_trend_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">combine_detected_and_custom_trend_changepoints</span></code></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;seasonality_changepoints_dict&quot;</span></code>: <em class="xref py py-obj">dict</em> or None or a list of such values for grid search</dt><dd><p>seasonality changepoints dictionary passed to <code class="docutils literal notranslate"><span class="pre">forecast_simple_silverkite</span></code>. The optional
keys are the parameters in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_seasonality_changepoints" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_seasonality_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_seasonality_changepoints</span></code></a>.
You don’t need to provide <code class="docutils literal notranslate"><span class="pre">df</span></code>, <code class="docutils literal notranslate"><span class="pre">time_col</span></code>, <code class="docutils literal notranslate"><span class="pre">value_col</span></code> or <code class="docutils literal notranslate"><span class="pre">trend_changepoints</span></code>, since they
are passed with the class automatically.</p>
</dd>
</dl>
</dd>
<dt>autoregression: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">dict</em>] or None, optional</dt><dd><p>Specifies the autoregression configuration. Dictionary with the following optional keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;autoreg_dict&quot;</span></code>: <em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em> or None or a list of such values for grid search</dt><dd><p>If a <em class="xref py py-obj">dict</em>: A dictionary with arguments for <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df</span></code>.
That function’s parameter <code class="docutils literal notranslate"><span class="pre">value_col</span></code> is inferred from the input of
current function <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>. Other keys are:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;agg_lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;series_na_fill_func&quot;</span></code> : callable</p>
</div></blockquote>
<p>If a <em class="xref py py-obj">str</em>: The string will represent a method and a dictionary will be
constructed using that <em class="xref py py-obj">str</em>.
Currently only implemented method is “auto” which uses
<em class="xref py py-obj">__get_default_autoreg_dict</em>
to create a dictionary.
See more details for above parameters in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;simulation_num&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em>, default 10</span></dt><dd><p>The number of simulations to use. Applies only if any of the lags in <code class="docutils literal notranslate"><span class="pre">autoreg_dict</span></code>
are smaller than <code class="docutils literal notranslate"><span class="pre">forecast_horizon</span></code>. In that case, simulations are needed to generate
forecasts and prediction intervals.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fast_simulation&quot;</span></code><span class="classifier"><em class="xref py py-obj">bool</em>, default False</span></dt><dd><p>Deterimes if fast simulations are to be used. This only impacts models
which include auto-regression. This method will only generate one simulation
without any error being added and then add the error using the volatility
model. The advantage is a major boost in speed during inference and the
disadvantage is potentially less accurate prediction intervals.</p>
</dd>
</dl>
</dd>
<dt>regressors: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>Specifies the regressors to include in the model (e.g. macro-economic factors).
Dictionary with the following optional keys:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;regressor_cols&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None or a list of such values for grid search</dt><dd><p>The columns in <code class="docutils literal notranslate"><span class="pre">df</span></code> to use as regressors.
Note that regressor values must be available in <code class="docutils literal notranslate"><span class="pre">df</span></code> for all prediction dates.
Thus, <code class="docutils literal notranslate"><span class="pre">df</span></code> will contain timestamps for both training and future prediction.</p>
<ul class="simple">
<li><p>regressors must be available on all dates</p></li>
<li><p>the response must be available for training dates (metadata[“value_col”])</p></li>
</ul>
</dd>
</dl>
<p>Use <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> to specify interactions of any model terms with the regressors.</p>
</dd>
<dt>lagged_regressors: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">dict</em>] or None, optional</dt><dd><p>Specifies the lagged regressors configuration. Dictionary with the following optional key:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;lagged_regressor_dict&quot;</span></code>: <em class="xref py py-obj">dict</em> or None or a list of such values for grid search</dt><dd><p>A dictionary with arguments for <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df_multi</span></code>.
The keys of the dictionary are the target lagged regressor column names.
It can leverage the regressors included in <code class="docutils literal notranslate"><span class="pre">df</span></code>.
The value of each key is either a <em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em>.
If <em class="xref py py-obj">dict</em>, it has the following keys:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;agg_lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;series_na_fill_func&quot;</span></code> : callable</p>
</div></blockquote>
<p>If <em class="xref py py-obj">str</em>, it represents a method and a dictionary will be constructed using that <em class="xref py py-obj">str</em>.
Currently the only implemented method is “auto” which uses <code class="docutils literal notranslate"><span class="pre">SilverkiteForecast</span></code>’s
<em class="xref py py-obj">__get_default_lagged_regressor_dict</em>
to create a dictionary for each lagged regressor.
An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lagged_regressor_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;regressor1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]},</span>
        <span class="s2">&quot;agg_lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;orders_list&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]],</span>
            <span class="s2">&quot;interval_list&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)]},</span>
        <span class="s2">&quot;series_na_fill_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()},</span>
    <span class="s2">&quot;regressor2&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>Check the docstring of <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df_multi</span></code>
for more details for each argument.</p>
</dd>
</dl>
</dd>
<dt>uncertainty: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">dict</em>] or None, optional</dt><dd><p>Along with <code class="docutils literal notranslate"><span class="pre">coverage</span></code>, specifies the uncertainty interval configuration. Use <code class="docutils literal notranslate"><span class="pre">coverage</span></code>
to set interval size. Use <code class="docutils literal notranslate"><span class="pre">uncertainty</span></code> to tune the calculation.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;uncertainty_dict&quot;</span></code>: <em class="xref py py-obj">str</em> or <em class="xref py py-obj">dict</em> or None or a list of such values for grid search</dt><dd><p>“auto” or a dictionary on how to fit the uncertainty model.
If a dictionary, valid keys are:</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;uncertainty_method&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>The title of the method.
Only <code class="docutils literal notranslate"><span class="pre">&quot;simple_conditional_residuals&quot;</span></code> is implemented
in <a class="reference internal" href="#greykite.algo.common.ml_models.fit_ml_model" title="greykite.algo.common.ml_models.fit_ml_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_ml_model</span></code></a>
which calculates intervals using residuals.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;params&quot;</span></code>: <em class="xref py py-obj">dict</em></dt><dd><p>A dictionary of parameters needed for
the requested <code class="docutils literal notranslate"><span class="pre">uncertainty_method</span></code>. For example, for
<code class="docutils literal notranslate"><span class="pre">uncertainty_method=&quot;simple_conditional_residuals&quot;</span></code>, see
parameters of <a class="reference internal" href="#greykite.algo.uncertainty.conditional.conf_interval.conf_interval" title="greykite.algo.uncertainty.conditional.conf_interval.conf_interval"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conf_interval</span></code></a>:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;conditional_cols&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;quantiles&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;quantile_estimation_method&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;sample_size_thresh&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;small_sample_size_method&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;small_sample_size_quantile&quot;</span></code></p></li>
</ul>
</div></blockquote>
<p>The default value for <code class="docutils literal notranslate"><span class="pre">quantiles</span></code> is inferred from coverage.</p>
</dd>
</dl>
</div></blockquote>
<p>If “auto”, see
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite_helper.get_silverkite_uncertainty_dict" title="greykite.algo.forecast.silverkite.forecast_silverkite_helper.get_silverkite_uncertainty_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_silverkite_uncertainty_dict</span></code></a>
for the default value. If <code class="docutils literal notranslate"><span class="pre">coverage</span></code> is not None and <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is not provided,
then the “auto” setting is used.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">coverage</span></code> is None and <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is None, then no intervals are returned.</p>
</dd>
</dl>
</dd>
<dt>custom: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>Custom parameters that don’t fit the categories above. Dictionary
with the following optional keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fit_algorithm_dict&quot;</span></code>: <em class="xref py py-obj">dict</em> or a list of such values for grid search</dt><dd><p>How to fit the model. A dictionary with the following optional keys.</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fit_algorithm&quot;</span></code>: <em class="xref py py-obj">str</em>, optional, default “ridge”</dt><dd><p>The type of predictive model used in fitting.</p>
<p>See <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>
for available options and their parameters.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fit_algorithm_params&quot;</span></code>: <em class="xref py py-obj">dict</em> or None, optional, default None</dt><dd><p>Parameters passed to the requested fit_algorithm.
If None, uses the defaults in <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>.</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;feature_sets_enabled&quot;</span></code>: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">bool</em> or “auto” or None] or <em class="xref py py-obj">bool</em> or “auto” or None; or a list of such values for grid search</dt><dd><p>Whether to include interaction terms and categorical variables to increase model flexibility.</p>
<p>If a <em class="xref py py-obj">dict</em>, boolean values indicate whether include various sets of features in the model.
The following keys are recognized
(from <a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn" title="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SilverkiteColumn</span></code></a>):</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_HOUR_OF_WEEK&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>Constant hour of week effect</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_WEEKEND_SEAS&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>Daily seasonality interaction with is_weekend</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_DAY_OF_WEEK_SEAS&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>Daily seasonality interaction with day of week</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_TREND_DAILY_SEAS&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>Allow daily seasonality to change over time by is_weekend</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_EVENT_SEAS&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>Allow sub-daily event effects</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_EVENT_WEEKEND_SEAS&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>Allow sub-daily event effect to interact with is_weekend</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_DAY_OF_WEEK&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>Constant day of week effect</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_TREND_WEEKEND&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>Allow trend (growth, changepoints) to interact with is_weekend</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_TREND_DAY_OF_WEEK&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>Allow trend to interact with day of week</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_TREND_WEEKLY_SEAS&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>Allow weekly seasonality to change over time</p>
</dd>
</dl>
</div></blockquote>
<p>The following dictionary values are recognized:</p>
<blockquote>
<div><ul class="simple">
<li><p>True: include the feature set in the model</p></li>
<li><p>False: do not include the feature set in the model</p></li>
<li><p>None: do not include the feature set in the model</p></li>
<li><p>“auto” or not provided: use the default setting based on data frequency and size</p></li>
</ul>
</div></blockquote>
<p>If not a <em class="xref py py-obj">dict</em>:</p>
<blockquote>
<div><ul class="simple">
<li><p>if a boolean, equivalent to a dictionary with all values set to the boolean.</p></li>
<li><p>if None, equivalent to a dictionary with all values set to False.</p></li>
<li><p>if “auto”, equivalent to a dictionary with all values set to “auto”.</p></li>
</ul>
</div></blockquote>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;max_daily_seas_interaction_order&quot;</span></code>: <em class="xref py py-obj">int</em> or None or a list of such values for grid search, default 5</dt><dd><p>Max fourier order to use for interactions with daily seasonality.
(COLS_EVENT_SEAS, COLS_EVENT_WEEKEND_SEAS, COLS_WEEKEND_SEAS, COLS_DAY_OF_WEEK_SEAS, COLS_TREND_DAILY_SEAS).</p>
<p>Model includes interactions terms specified by <code class="docutils literal notranslate"><span class="pre">feature_sets_enabled</span></code>
up to the order limited by this value and the available order from <code class="docutils literal notranslate"><span class="pre">seasonality</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;max_weekly_seas_interaction_order&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em> or None or a list of such values for grid search, default 2</span></dt><dd><p>Max fourier order to use for interactions with weekly seasonality (COLS_TREND_WEEKLY_SEAS).</p>
<p>Model includes interactions terms specified by <code class="docutils literal notranslate"><span class="pre">feature_sets_enabled</span></code>
up to the order limited by this value and the available order from <code class="docutils literal notranslate"><span class="pre">seasonality</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;extra_pred_cols&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None or a list of such values for grid search, default None</dt><dd><p>Names of extra predictor columns to pass to <code class="docutils literal notranslate"><span class="pre">forecast_silverkite</span></code>.
The standard interactions can be controlled via <code class="docutils literal notranslate"><span class="pre">feature_sets_enabled</span></code> parameter.
Accepts any valid patsy model formula term. Can be used to model complex interactions
of time features, events, seasonality, changepoints, regressors. Columns should be
generated by <code class="docutils literal notranslate"><span class="pre">build_silverkite_features</span></code> or included with input data.
These are added to any features already included by <code class="docutils literal notranslate"><span class="pre">feature_sets_enabled</span></code> and
terms specified by <code class="docutils literal notranslate"><span class="pre">model</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;drop_pred_cols&quot;</span></code><span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None</span></dt><dd><p>Names of predictor columns to be dropped from the final model.
Ignored if None.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;explicit_pred_cols&quot;</span></code><span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None</span></dt><dd><p>Names of the explicit predictor columns which will be
the only variables in the final model. Note that this overwrites
the generated predictors in the model and may include new
terms not appearing in the predictors (e.g. interaction terms).
Ignored if None.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;min_admissible_value&quot;</span></code>: <em class="xref py py-obj">float</em> or <em class="xref py py-obj">double</em> or <em class="xref py py-obj">int</em> or None, default None</dt><dd><p>The lowest admissible value for the forecasts and prediction
intervals. Any value below this will be mapped back to this value.
If None, there is no lower bound.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;max_admissible_value&quot;</span></code>: <em class="xref py py-obj">float</em> or <em class="xref py py-obj">double</em> or <em class="xref py py-obj">int</em> or None, default None</dt><dd><p>The highest admissible value for the forecasts and prediction
intervals. Any value above this will be mapped back to this value.
If None, there is no upper bound.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;normalize_method&quot;</span></code>: <em class="xref py py-obj">str</em> or None, default None</dt><dd><p>The normalization method for feature matrix.
If a string is provided, it will be used as the normalization method
in <code class="xref py py-obj docutils literal notranslate"><span class="pre">normalize_df</span></code>,
passed via the argument <code class="docutils literal notranslate"><span class="pre">method</span></code>.
Available values are “statistical”, “zero_to_one”, “minus_half_to_half”
and “zero_at_origin”. See that function for more details.</p>
</dd>
</dl>
</dd>
<dt>hyperparameter_override: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None], optional</dt><dd><p>After the above model components are used to create a hyperparameter grid, the result is
updated by this dictionary, to create new keys or override existing ones.
Allows for complete customization of the grid search.</p>
<p>Keys should have format <code class="docutils literal notranslate"><span class="pre">{named_step}__{parameter_name}</span></code> for the named steps of the
<a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a> returned by this function. See <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a>.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hyperparameter_override</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;estimator__silverkite&quot;</span><span class="p">:</span> <span class="n">SimpleSilverkiteForecast</span><span class="p">(),</span>
    <span class="s2">&quot;estimator__silverkite_diagnostics&quot;</span><span class="p">:</span> <span class="n">SilverkiteDiagnostics</span><span class="p">(),</span>
    <span class="s2">&quot;estimator__growth_term&quot;</span><span class="p">:</span> <span class="s2">&quot;linear&quot;</span><span class="p">,</span>
    <span class="s2">&quot;input__response__null__impute_algorithm&quot;</span><span class="p">:</span> <span class="s2">&quot;ts_interpolate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;input__response__null__impute_params&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">]},</span>
    <span class="s2">&quot;input__regressors_numeric__normalize__normalize_algorithm&quot;</span><span class="p">:</span> <span class="s2">&quot;RobustScaler&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If a list of dictionaries, grid search will be done for each dictionary in the list.
Each dictionary in the list override the defaults. This enables grid search
over specific combinations of parameters to reduce the search space.</p>
<ul class="simple">
<li><p>For example, the first dictionary could define combinations of parameters for a
“complex” model, and the second dictionary could define combinations of parameters
for a “simple” model, to prevent mixed combinations of simple and complex.</p></li>
<li><p>Or the first dictionary could grid search over fit algorithm, and the second dictionary
could use a single fit algorithm and grid search over seasonality.</p></li>
</ul>
<p>The result is passed as the <code class="docutils literal notranslate"><span class="pre">param_distributions</span></code> parameter
to <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.model_selection.RandomizedSearchCV</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt>model_template: <em class="xref py py-obj">str</em>, <em class="xref py py-obj">list`[`str</em>] or None, default None</dt><dd><p>The simple silverkite template support single templates, multi templates or a list of single/multi templates.
A valid single template must be one of <code class="docutils literal notranslate"><span class="pre">SILVERKITE</span></code>, <code class="docutils literal notranslate"><span class="pre">SILVERKITE_MONTHLY</span></code>,
<code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1_CONFIG_1</span></code>, <code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1_CONFIG_2</span></code>, <code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1_CONFIG_3</span></code>,
<code class="docutils literal notranslate"><span class="pre">SILVERKITE_EMPTY</span></code>, or that consists of</p>
<blockquote>
<div><p>{FREQ}_SEAS_{VAL}_GR_{VAL}_CP_{VAL}_HOL_{VAL}_FEASET_{VAL}_ALGO_{VAL}_AR_{VAL}</p>
</div></blockquote>
<p>For example, we have DAILY_SEAS_NM_GR_LINEAR_CP_LT_HOL_NONE_FEASET_ON_ALGO_RIDGE_AR_ON. The valid FREQ and VAL
can be found at <a class="reference internal" href="#module-greykite.framework.templates.simple_silverkite_template_config" title="greykite.framework.templates.simple_silverkite_template_config"><code class="xref py py-obj docutils literal notranslate"><span class="pre">simple_silverkite_template_config</span></code></a>. The components stand for seasonality,
growth, changepoints_dict, events, feature_sets_enabled, fit_algorithm and autoregression in
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>, which is used in
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a>. Users are allowed to</p>
<blockquote>
<div><ul class="simple">
<li><p>Omit any number of component-value pairs, and the omitted will be filled with default values.</p></li>
<li><p>Switch the order of different component-value pairs.</p></li>
</ul>
</div></blockquote>
<p>A valid multi template must belong to
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.MULTI_TEMPLATES" title="greykite.framework.templates.simple_silverkite_template_config.MULTI_TEMPLATES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MULTI_TEMPLATES</span></code></a>
or must be a list of single or multi template names.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.DEFAULT_MODEL_TEMPLATE">
<code class="sig-name descname">DEFAULT_MODEL_TEMPLATE</code><em class="property"> = 'SILVERKITE'</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.DEFAULT_MODEL_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd><p>The default model template. See <a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="greykite.framework.templates.model_templates.ModelTemplateEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelTemplateEnum</span></code></a>.
Uses a string to avoid circular imports.
Overrides the value from <code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfigDefaults</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.allow_model_template_list">
<em class="property">property </em><code class="sig-name descname">allow_model_template_list</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.allow_model_template_list" title="Permalink to this definition">¶</a></dt>
<dd><p>SimpleSilverkiteTemplate allows config.model_template to be a list.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.allow_model_components_param_list">
<em class="property">property </em><code class="sig-name descname">allow_model_components_param_list</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.allow_model_components_param_list" title="Permalink to this definition">¶</a></dt>
<dd><p>SilverkiteTemplate allows <em class="xref py py-obj">config.model_components_param</em> to be a list.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.constants">
<em class="property">property </em><code class="sig-name descname">constants</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.constants" title="Permalink to this definition">¶</a></dt>
<dd><p>Constants used by the template class. Includes the model templates and their default values.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.get_regressor_cols">
<code class="sig-name descname">get_regressor_cols</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template.html#SimpleSilverkiteTemplate.get_regressor_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.get_regressor_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns regressor column names from the model components.</p>
<p>Implements the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<p>Uses these attributes:</p>
<blockquote>
<div><p>model_components: <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>,
<em class="xref py py-obj">list</em> [<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>] or None, default None</p>
<blockquote>
<div><p>Configuration of model growth, seasonality, holidays, etc.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-func docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a>
for details.</p>
</div></blockquote>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>regressor_cols</strong> – The names of regressor columns used in any hyperparameter set
requested by <code class="docutils literal notranslate"><span class="pre">model_components</span></code>.
None if there are no regressors.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.get_lagged_regressor_info">
<code class="sig-name descname">get_lagged_regressor_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template.html#SimpleSilverkiteTemplate.get_lagged_regressor_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.get_lagged_regressor_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns lagged regressor column names and minimal/maximal lag order. The lag order
can be used to check potential imputation in the computation of lags.</p>
<p>Implements the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>lagged_regressor_info</strong> – A dictionary that includes the lagged regressor column names and maximal/minimal lag order
The keys are:</p>
<blockquote>
<div><dl>
<dt>lagged_regressor_cols<span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</span></dt><dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
</dl>
<p>overall_min_lag_order : <em class="xref py py-obj">int</em> or None
overall_max_lag_order : <em class="xref py py-obj">int</em> or None</p>
</div></blockquote>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_components_param</span><span class="o">.</span><span class="n">lagged_regressors</span><span class="p">[</span><span class="s2">&quot;lagged_regressor_dict&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;regressor1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">]},</span>
        <span class="s2">&quot;agg_lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;orders_list&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]],</span>
            <span class="s2">&quot;interval_list&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)]},</span>
        <span class="s2">&quot;series_na_fill_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()}</span>
    <span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;regressor2&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">]},</span>
        <span class="s2">&quot;agg_lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;orders_list&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">]],</span>
            <span class="s2">&quot;interval_list&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)]},</span>
        <span class="s2">&quot;series_na_fill_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()}</span>
    <span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;regressor3&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Then the function returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lagged_regressor_info</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;lagged_regressor_cols&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;regressor1&quot;</span><span class="p">,</span> <span class="s2">&quot;regressor2&quot;</span><span class="p">,</span> <span class="s2">&quot;regressor3&quot;</span><span class="p">],</span>
    <span class="s2">&quot;overall_min_lag_order&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;overall_max_lag_order&quot;</span><span class="p">:</span> <span class="mi">21</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that “regressor3” is skipped as the “auto” option makes sure the lag order is proper.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.get_hyperparameter_grid">
<code class="sig-name descname">get_hyperparameter_grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template.html#SimpleSilverkiteTemplate.get_hyperparameter_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.get_hyperparameter_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns hyperparameter grid.</p>
<p>Implements the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<p>Converts model components, time properties, and model template into
<a class="reference internal" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator" title="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleSilverkiteEstimator</span></code></a>
hyperparameters.</p>
<p>Uses these attributes:</p>
<blockquote>
<div><p>model_components: <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>,
<em class="xref py py-obj">list</em> [<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>] or None, default None</p>
<blockquote>
<div><p>Configuration of model growth, seasonality, events, etc.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-func docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a>
for details.</p>
</div></blockquote>
<dl>
<dt>time_properties: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, default None</dt><dd><p>Time properties dictionary (likely produced by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">get_forecast_time_properties</span></code>)
with keys:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;period&quot;</span></code>: <em class="xref py py-obj">int</em></dt><dd><p>Period of each observation (i.e. minimum time between observations, in seconds).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;simple_freq&quot;</span></code>: <em class="xref py py-obj">SimpleTimeFrequencyEnum</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">SimpleTimeFrequencyEnum</span></code> member corresponding to data frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_points&quot;</span></code>: <em class="xref py py-obj">int</em></dt><dd><p>Number of observations for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_days&quot;</span></code>: <em class="xref py py-obj">int</em></dt><dd><p>Number of days for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;start_year&quot;</span></code>: <em class="xref py py-obj">int</em></dt><dd><p>Start year of the training period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;end_year&quot;</span></code>: <em class="xref py py-obj">int</em></dt><dd><p>End year of the forecast period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;origin_for_time_vars&quot;</span></code>: <em class="xref py py-obj">float</em></dt><dd><p>Continuous time representation of the first date in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</dd>
</dl>
</dd>
<dt>model_template: <em class="xref py py-obj">str</em>, default “SILVERKITE”</dt><dd><p>The name of model template, must be one of the valid templates defined in
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a>.</p>
</dd>
</dl>
</div></blockquote>
<p class="rubric">Notes</p>
<p><a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>
handles the train/test splits according to <code class="docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code>,
so <code class="docutils literal notranslate"><span class="pre">estimator__train_test_thresh</span></code> and <code class="docutils literal notranslate"><span class="pre">estimator__training_fraction</span></code> are always None.</p>
<p>Similarly, <code class="docutils literal notranslate"><span class="pre">estimator__origin_for_time_vars</span></code> is set to None.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>hyperparameter_grid</strong> – hyperparameter_grid for grid search in <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.
The output dictionary values are lists, combined in grid search.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">any</em>]] or <em class="xref py py-obj">list</em> [ <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">any</em>]] ]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.check_template_type">
<code class="sig-name descname">check_template_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">template</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template.html#SimpleSilverkiteTemplate.check_template_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.check_template_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the template name is valid and whether it is single or multi template.
Raises an error if the template is not recognized.</p>
<p>A valid single template must be one of <code class="docutils literal notranslate"><span class="pre">SILVERKITE</span></code>, <code class="docutils literal notranslate"><span class="pre">SILVERKITE_MONTHLY</span></code>,
<code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1_CONFIG_1</span></code>, <code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1_CONFIG_2</span></code>, <code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1_CONFIG_3</span></code>,
<code class="docutils literal notranslate"><span class="pre">SILVERKITE_EMPTY</span></code>, or that consists of</p>
<blockquote>
<div><p>{FREQ}_SEAS_{VAL}_GR_{VAL}_CP_{VAL}_HOL_{VAL}_FEASET_{VAL}_ALGO_{VAL}_AR_{VAL}</p>
</div></blockquote>
<p>For example, we have DAILY_SEAS_NM_GR_LINEAR_CP_LT_HOL_NONE_FEASET_ON_ALGO_RIDGE_AR_ON. The valid FREQ and VAL
can be found at <a class="reference internal" href="#module-greykite.framework.templates.simple_silverkite_template_config" title="greykite.framework.templates.simple_silverkite_template_config"><code class="xref py py-obj docutils literal notranslate"><span class="pre">simple_silverkite_template_config</span></code></a>. The components stand for seasonality,
growth, changepoints_dict, events, feature_sets_enabled, fit_algorithm and autoregression in
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>, which is used in
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a>. Users are allowed to</p>
<blockquote>
<div><ul class="simple">
<li><p>Omit any number of component-value pairs, and the omitted will be filled with default values.</p></li>
<li><p>Switch the order of different component-value pairs.</p></li>
</ul>
</div></blockquote>
<p>A valid multi template must belong to
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.MULTI_TEMPLATES" title="greykite.framework.templates.simple_silverkite_template_config.MULTI_TEMPLATES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MULTI_TEMPLATES</span></code></a>
or must be a list of single or multi template names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>template</strong> (<em class="xref py py-obj">str</em>, <em class="xref py py-obj">SimpleSilverkiteTemplateName</em> or <em class="xref py py-obj">list`[`str</em>, <em class="xref py py-obj">SimpleSilverkiteTemplateName</em>]) – The <code class="docutils literal notranslate"><span class="pre">model_template</span></code> parameter fed into
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a>.
for simple silverkite templates.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>template_type</strong> – “single” or “multi”.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.get_model_components_from_model_template">
<code class="sig-name descname">get_model_components_from_model_template</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">template</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template.html#SimpleSilverkiteTemplate.get_model_components_from_model_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.get_model_components_from_model_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the <code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code> class from model template.</p>
<p>The template could be a name string, a <em class="xref py py-obj">SimpleSilverkiteTemplateOptions</em> dataclass,
or a list of such strings and/or dataclasses.
If a list is given, a list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code> is returned.
If a single element is given, a list of length 1 is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>template</strong> (<em class="xref py py-obj">str</em>, <em class="xref py py-obj">SimpleSilverkiteTemplateOptions</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">SimpleSilverkiteTemplateOptions</em>]) – The <code class="docutils literal notranslate"><span class="pre">model_template</span></code> in <em class="xref py py-obj">ForecastConfig</em>, could be a name string, a <em class="xref py py-obj">SimpleSilverkiteTemplateOptions</em> dataclass,
or a list of such strings and/or dataclasses.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_components_param</strong> – The list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code> class(es) that correspond to <code class="docutils literal notranslate"><span class="pre">template</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_computation_defaults">
<em class="property">static </em><code class="sig-name descname">apply_computation_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">computation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_computation_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default ComputationParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a ComputationParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>computation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationParam</span></code></a> or None) – The ComputationParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>computation</strong> – Valid ComputationParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_evaluation_metric_defaults">
<em class="property">static </em><code class="sig-name descname">apply_evaluation_metric_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evaluation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_evaluation_metric_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default EvaluationMetricParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a EvaluationMetricParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a> or None) – The EvaluationMetricParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation</strong> – Valid EvaluationMetricParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_evaluation_period_defaults">
<em class="property">static </em><code class="sig-name descname">apply_evaluation_period_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evaluation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_evaluation_period_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default EvaluationPeriodParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a EvaluationPeriodParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a> or None) – The EvaluationMetricParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation</strong> – Valid EvaluationPeriodParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_forecast_config_defaults">
<code class="sig-name descname">apply_forecast_config_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_forecast_config_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default Forecast Config values to the given config.
If an expected attribute value is provided, the value is unchanged.
Otherwise the default value for it is used.
Other attributes are untouched.
If the input config is None, it creates a Forecast Config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a> or None) – Forecast configuration if available. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>config</strong> – A valid Forecast Config which contains the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_metadata_defaults">
<em class="property">static </em><code class="sig-name descname">apply_metadata_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metadata</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_metadata_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default MetadataParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a MetadataParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metadata</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetadataParam</span></code></a> or None) – The MetadataParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>metadata</strong> – Valid MetadataParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetadataParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_model_components_defaults">
<em class="property">static </em><code class="sig-name descname">apply_model_components_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_components</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_model_components_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default ModelComponentsParam values to the given object.</p>
<p>Converts None to a ModelComponentsParam object.
Unpacks a list of a single element to the element itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_components</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or None or list of such items) – The ModelComponentsParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_components</strong> – Valid ModelComponentsParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or list of such items</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_model_template_defaults">
<code class="sig-name descname">apply_model_template_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_template</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_model_template_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default model template to the given object.</p>
<p>Unpacks a list of a single element to the element itself.
Sets default value if None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_template</strong> (<em class="xref py py-obj">str</em> or None or <em class="xref py py-obj">list</em> [None, <em class="xref py py-obj">str</em>]) – The model template name.
See valid names in <a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="greykite.framework.templates.model_templates.ModelTemplateEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelTemplateEnum</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_template</strong> – The model template name, with defaults value used if not provided.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_template_decorator">
<em class="property">static </em><code class="sig-name descname">apply_template_decorator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_template_decorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for <code class="docutils literal notranslate"><span class="pre">apply_template_for_pipeline_params</span></code> function.</p>
<p>By default, this applies <code class="docutils literal notranslate"><span class="pre">apply_forecast_config_defaults</span></code> to <code class="docutils literal notranslate"><span class="pre">config</span></code>.</p>
<p>Subclass may override this for pre/post processing of
<code class="docutils literal notranslate"><span class="pre">apply_template_for_pipeline_params</span></code>, such as input validation.
In this case, <code class="docutils literal notranslate"><span class="pre">apply_template_for_pipeline_params</span></code> must also be implemented in the subclass.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_template_for_pipeline_params">
<code class="sig-name descname">apply_template_for_pipeline_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Dict<a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.apply_template_for_pipeline_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements template interface method.
Takes input data and optional configuration parameters
to customize the model. Returns a set of parameters to call
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
<p>See template interface for parameters and return value.</p>
<p>Uses the methods in this class to set:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;regressor_cols&quot;</span></code> : get_regressor_cols()</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lagged_regressor_cols</span></code> : get_lagged_regressor_info()</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;pipeline&quot;</span></code> : get_pipeline()</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;time_properties&quot;</span></code> : get_forecast_time_properties()</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;hyperparameter_grid&quot;</span></code> : get_hyperparameter_grid()</p></li>
</ul>
</div></blockquote>
<p>All other parameters are taken directly from <code class="docutils literal notranslate"><span class="pre">config</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.estimator">
<em class="property">property </em><code class="sig-name descname">estimator</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>The estimator instance to use as the final step in the pipeline.
An instance of <code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.sklearn.estimator.base_forecast_estimator.BaseForecastEstimator</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.get_forecast_time_properties">
<code class="sig-name descname">get_forecast_time_properties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.get_forecast_time_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns forecast time parameters.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.df</span></code>, <code class="docutils literal notranslate"><span class="pre">self.config</span></code>, <code class="docutils literal notranslate"><span class="pre">self.regressor_cols</span></code>.</p>
<p>Available parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.df</p></li>
<li><p>self.config</p></li>
<li><p>self.score_func</p></li>
<li><p>self.score_func_greater_is_better</p></li>
<li><p>self.regressor_cols</p></li>
<li><p>self.lagged_regressor_cols</p></li>
<li><p>self.estimator</p></li>
<li><p>self.pipeline</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>time_properties</strong> – Time properties dictionary (likely produced by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">get_forecast_time_properties</span></code>)
with keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;period&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Period of each observation (i.e. minimum time between observations, in seconds).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;simple_freq&quot;</span></code><span class="classifier"><em class="xref py py-obj">SimpleTimeFrequencyEnum</em></span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">SimpleTimeFrequencyEnum</span></code> member corresponding to data frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_points&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of observations for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_days&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of days for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;start_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Start year of the training period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;end_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>End year of the forecast period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;origin_for_time_vars&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Continuous time representation of the first date in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.get_pipeline">
<code class="sig-name descname">get_pipeline</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate.get_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pipeline.</p>
<p>Implementation may be overridden by subclass
if a different pipeline is desired.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.estimator</span></code>, <code class="docutils literal notranslate"><span class="pre">self.score_func</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.score_func_greater_is_better</span></code>, <code class="docutils literal notranslate"><span class="pre">self.config</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.regressor_cols</span></code>.</p>
<p>Available parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.df</p></li>
<li><p>self.config</p></li>
<li><p>self.score_func</p></li>
<li><p>self.score_func_greater_is_better</p></li>
<li><p>self.regressor_cols</p></li>
<li><p>self.estimator</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>pipeline</strong> – See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.estimator.simple_silverkite_estimator.</code><code class="sig-name descname">SimpleSilverkiteEstimator</code><span class="sig-paren">(</span><em class="sig-param">silverkite: greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast = &lt;greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast object&gt;</em>, <em class="sig-param">silverkite_diagnostics: greykite.sklearn.estimator.silverkite_diagnostics.SilverkiteDiagnostics = &lt;greykite.sklearn.estimator.silverkite_diagnostics.SilverkiteDiagnostics object&gt;</em>, <em class="sig-param">score_func: callable = &lt;function mean_squared_error&gt;</em>, <em class="sig-param">coverage: float = None</em>, <em class="sig-param">null_model_params: Optional[Dict] = None</em>, <em class="sig-param">time_properties: Optional[Dict] = None</em>, <em class="sig-param">freq: Optional[str] = None</em>, <em class="sig-param">forecast_horizon: Optional[int] = None</em>, <em class="sig-param">origin_for_time_vars: Optional[float] = None</em>, <em class="sig-param">train_test_thresh: Optional[datetime.datetime] = None</em>, <em class="sig-param">training_fraction: Optional[float] = None</em>, <em class="sig-param">fit_algorithm_dict: Optional[Dict] = None</em>, <em class="sig-param">auto_holiday: bool = False</em>, <em class="sig-param">holidays_to_model_separately: Optional[Union[str</em>, <em class="sig-param">List[str]]] = 'auto'</em>, <em class="sig-param">holiday_lookup_countries: Optional[Union[str</em>, <em class="sig-param">List[str]]] = 'auto'</em>, <em class="sig-param">holiday_pre_num_days: int = 2</em>, <em class="sig-param">holiday_post_num_days: int = 2</em>, <em class="sig-param">holiday_pre_post_num_dict: Optional[Dict] = None</em>, <em class="sig-param">daily_event_df_dict: Optional[Dict] = None</em>, <em class="sig-param">auto_growth: bool = False</em>, <em class="sig-param">changepoints_dict: Optional[Dict] = None</em>, <em class="sig-param">auto_seasonality: bool = False</em>, <em class="sig-param">yearly_seasonality: Union[bool</em>, <em class="sig-param">str</em>, <em class="sig-param">int] = 'auto'</em>, <em class="sig-param">quarterly_seasonality: Union[bool</em>, <em class="sig-param">str</em>, <em class="sig-param">int] = 'auto'</em>, <em class="sig-param">monthly_seasonality: Union[bool</em>, <em class="sig-param">str</em>, <em class="sig-param">int] = 'auto'</em>, <em class="sig-param">weekly_seasonality: Union[bool</em>, <em class="sig-param">str</em>, <em class="sig-param">int] = 'auto'</em>, <em class="sig-param">daily_seasonality: Union[bool</em>, <em class="sig-param">str</em>, <em class="sig-param">int] = 'auto'</em>, <em class="sig-param">max_daily_seas_interaction_order: Optional[int] = None</em>, <em class="sig-param">max_weekly_seas_interaction_order: Optional[int] = None</em>, <em class="sig-param">autoreg_dict: Optional[Dict] = None</em>, <em class="sig-param">past_df: Optional[pandas.core.frame.DataFrame] = None</em>, <em class="sig-param">lagged_regressor_dict: Optional[Dict] = None</em>, <em class="sig-param">seasonality_changepoints_dict: Optional[Dict] = None</em>, <em class="sig-param">min_admissible_value: Optional[float] = None</em>, <em class="sig-param">max_admissible_value: Optional[float] = None</em>, <em class="sig-param">uncertainty_dict: Optional[Dict] = None</em>, <em class="sig-param">normalize_method: Optional[str] = None</em>, <em class="sig-param">growth_term: Optional[str] = 'linear'</em>, <em class="sig-param">regressor_cols: Optional[List[str]] = None</em>, <em class="sig-param">feature_sets_enabled: Optional[Union[bool</em>, <em class="sig-param">Dict[str</em>, <em class="sig-param">bool]]] = None</em>, <em class="sig-param">extra_pred_cols: Optional[List[str]] = None</em>, <em class="sig-param">drop_pred_cols: Optional[List[str]] = None</em>, <em class="sig-param">explicit_pred_cols: Optional[List[str]] = None</em>, <em class="sig-param">regression_weight_col: Optional[str] = None</em>, <em class="sig-param">simulation_based: Optional[bool] = False</em>, <em class="sig-param">simulation_num: int = 10</em>, <em class="sig-param">fast_simulation: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/simple_silverkite_estimator.html#SimpleSilverkiteEstimator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for <em class="xref py py-obj">forecast_simple_silverkite</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score_func</strong> (<em>callable</em><em>, </em><em>optional</em><em>, </em><em>default mean_squared_error</em>) – See <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>.</p></li>
<li><p><strong>coverage</strong> (<em class="xref py py-obj">float</em> between [0.0, 1.0] or None, optional) – See <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>.</p></li>
<li><p><strong>null_model_params</strong> (<em class="xref py py-obj">dict</em> or None, optional) – Dictionary with arguments to define <code class="docutils literal notranslate"><span class="pre">DummyRegressor</span></code> null model, default is <em class="xref py py-obj">None</em>.
See <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>.</p></li>
<li><p><strong>fit_algorithm_dict</strong> (<em class="xref py py-obj">dict</em> or None, optional) – <p>How to fit the model. A dictionary with the following optional keys.</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fit_algorithm&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em>, optional, default “ridge”</span></dt><dd><p>The type of predictive model used in fitting.</p>
<p>See <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>
for available options and their parameters.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fit_algorithm_params&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict</em> or None, optional, default None</span></dt><dd><p>Parameters passed to the requested fit_algorithm.
If None, uses the defaults in <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em> or None, optional) – How to fit the uncertainty model.
See <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.
Note that this is allowed to be “auto”. If None or “auto”, will be set to
a default value by <code class="docutils literal notranslate"><span class="pre">coverage</span></code> before calling <code class="docutils literal notranslate"><span class="pre">forecast_silverkite</span></code>.
See <code class="docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code> for details.</p></li>
<li><p><strong>kwargs</strong> (<em>additional parameters</em>) – <p>Other parameters are the same as in
<em class="xref py py-obj">forecast_simple_silverkite</em>.</p>
<p>See source code <code class="docutils literal notranslate"><span class="pre">__init__</span></code> for the parameter names, and refer to
<em class="xref py py-obj">forecast_simple_silverkite</em> for
their description.</p>
<p>If this Estimator is called from
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">train_test_thresh</span></code> and <code class="docutils literal notranslate"><span class="pre">training_fraction</span></code> should almost
always be <em class="xref py py-obj">None</em>, because train/test is handled outside
this Estimator.</p>
</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Attributes match those of
<a class="reference internal" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator" title="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseSilverkiteEstimator</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>For attributes and details on fit, predict, and component plots.</p>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>Function to transform the parameters to call <code class="docutils literal notranslate"><span class="pre">forecast_silverkite</span></code> fit.</p>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>Functions performing the fit and predict.</p>
</dd>
</dl>
</div>
<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="o">=</span><span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fit_params</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/simple_silverkite_estimator.html#SimpleSilverkiteEstimator.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits <code class="docutils literal notranslate"><span class="pre">Silverkite</span></code> forecast model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries, with timestamp column,
value column, and any additional regressors.
The value column is the response, included in
<code class="docutils literal notranslate"><span class="pre">X</span></code> to allow transformation by <a class="reference external" href="https://scikit-learn.org/0.24/modules/classes.html#module-sklearn.pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline</span></code></a>.</p></li>
<li><p><strong>y</strong> (<em>ignored</em>) – The original timeseries values, ignored.
(The <code class="docutils literal notranslate"><span class="pre">y</span></code> for fitting is included in <code class="docutils literal notranslate"><span class="pre">X</span></code>).</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – Time column name in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – Value column name in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em>) – additional parameters for null model.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Fitted model is stored in <code class="docutils literal notranslate"><span class="pre">self.model_dict</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.finish_fit">
<code class="sig-name descname">finish_fit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.finish_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes important values of <code class="docutils literal notranslate"><span class="pre">self.model_dict</span></code> conveniently accessible.</p>
<p>To be called by subclasses at the end of their <code class="docutils literal notranslate"><span class="pre">fit</span></code> method. Sets
{<code class="docutils literal notranslate"><span class="pre">pred_cols</span></code>, <code class="docutils literal notranslate"><span class="pre">feature_cols</span></code>, and <code class="docutils literal notranslate"><span class="pre">coef_</span></code>}.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.fit_uncertainty">
<code class="sig-name descname">fit_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">uncertainty_dict</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></span></em>, <em class="sig-param"><span class="n">fit_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.fit_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the uncertainty model with a given <code class="docutils literal notranslate"><span class="pre">df</span></code> and <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A dataframe representing the data to fit the uncertainty model.</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any]) – <p>The uncertainty model specification. It should have the following keys:</p>
<blockquote>
<div><dl class="simple">
<dt>”uncertainty_method”: a string that is in</dt><dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">UncertaintyMethodEnum</span></code>.</p>
</dd>
</dl>
<p>”params”: a dictionary that includes any additional parameters needed by the uncertainty method.</p>
</div></blockquote>
</p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">fit</span></code> function.</p></li>
<li><p><strong>kwargs</strong> (<em>additional parameters to be fed into the uncertainty method.</em>) – These parameters are from the estimator attributes, not given by user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The function sets <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code> and does not return anything.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.forecast_breakdown">
<code class="sig-name descname">forecast_breakdown</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grouping_regex_patterns_dict</span></em>, <em class="sig-param"><span class="n">forecast_x_mat</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_values</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">center_components</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">denominator</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plt_title</span><span class="o">=</span><span class="default_value">'breakdown of forecasts'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.forecast_breakdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates silverkite forecast breakdown for groupings given in
<code class="docutils literal notranslate"><span class="pre">grouping_regex_patterns_dict</span></code>. Note that this only works for
additive regression models and not for models such as random forest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grouping_regex_patterns_dict</strong> (<em class="xref py py-obj">dict</em> {<em class="xref py py-obj">str</em>: <em class="xref py py-obj">str</em>}) – A dictionary with group names as keys and regexes as values.
This dictinary is used to partition the columns into various groups</p></li>
<li><p><strong>forecast_x_mat</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>, default None) – The dataframe of design matrix of regression model.
If None, this will be extracted from the estimator.</p></li>
<li><p><strong>time_values</strong> (<em class="xref py py-obj">list</em> or <em class="xref py py-obj">np.array</em>, default None) – A collection of values (usually timestamps) to be used in the figure.
It can also be used to join breakdown data with other data when needed.
If None, and <code class="docutils literal notranslate"><span class="pre">forecast_x_mat</span></code> is not passed, timestamps will be extracted
from the estimator to match the``forecast_x_mat`` which is also extracted
from the estimator.
If None, and``forecast_x_mat`` is passed, the timestamps cannot be inferred.
Therefore we simply create an integer index with size of <code class="docutils literal notranslate"><span class="pre">forecast_x_mat</span></code>.</p></li>
<li><p><strong>center_components</strong> (<em class="xref py py-obj">bool</em>, default False) – It determines if components should be centered at their mean and the mean
be added to the intercept. More concretely if a componet is “x” then it will
be mapped to “x - mean(x)”; and “mean(x)” will be added to the intercept so
that the sum of the components remains the same.</p></li>
<li><p><strong>denominator</strong> (<em class="xref py py-obj">str</em>, default None) – <p>If not None, it will specify a way to divide the components. There are
two options implemented:</p>
<ul>
<li><dl>
<dt>”abs_y_mean”<span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>The absolute value of the observed mean of the response</p>
</dd>
</dl>
</li>
<li><dl>
<dt>”y_std”<span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>The standard deviation of the observed response</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>plt_title</strong> (<em class="xref py py-obj">str</em>, default “prediction breakdown”) – The title of generated plot</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – Dictionary returned by <code class="xref py py-obj docutils literal notranslate"><span class="pre">breakdown_regression_based_prediction</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.get_max_ar_order">
<code class="sig-name descname">get_max_ar_order</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.get_max_ar_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the maximum autoregression order.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>max_ar_order</strong> – The maximum autoregression order.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deep</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.plot_seasonalities">
<code class="sig-name descname">plot_seasonalities</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.plot_seasonalities" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to plot the data and the seasonality components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>title</strong> (<em class="xref py py-obj">str</em>, optional, default <em class="xref py py-obj">None</em>) – Plot title.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Figure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.plot_trend">
<code class="sig-name descname">plot_trend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.plot_trend" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to plot the data and the trend component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>title</strong> (<em class="xref py py-obj">str</em>, optional, default <em class="xref py py-obj">None</em>) – Plot title.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Figure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.plot_trend_changepoint_detection">
<code class="sig-name descname">plot_trend_changepoint_detection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.plot_trend_changepoint_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to plot the original trend changepoint detection results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em class="xref py py-obj">dict</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – <p>The parameters in <a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.plot" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>.
If set to <em class="xref py py-obj">None</em>, all components will be plotted.</p>
<p>Note: seasonality components plotting is not supported currently. <code class="docutils literal notranslate"><span class="pre">plot</span></code> parameter must be False.</p>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Figure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.pred_category">
<em class="property">property </em><code class="sig-name descname">pred_category</code><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.pred_category" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary that stores the predictor names in each category.</p>
<p>This property is not initialized until used. This speeds up the
fitting process. The categories includes</p>
<blockquote>
<div><ul class="simple">
<li><p>“intercept” : the intercept.</p></li>
<li><p>“time_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.TimeFeaturesEnum" title="greykite.common.constants.TimeFeaturesEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeFeaturesEnum</span></code></a>
but not
<a class="reference internal" href="#greykite.common.constants.SEASONALITY_REGEX" title="greykite.common.constants.SEASONALITY_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEASONALITY_REGEX</span></code></a>.</p></li>
<li><p>“event_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.EVENT_PREFIX" title="greykite.common.constants.EVENT_PREFIX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EVENT_PREFIX</span></code></a>.</p></li>
<li><p>“trend_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.TREND_REGEX" title="greykite.common.constants.TREND_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TREND_REGEX</span></code></a>
but not
<a class="reference internal" href="#greykite.common.constants.SEASONALITY_REGEX" title="greykite.common.constants.SEASONALITY_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEASONALITY_REGEX</span></code></a>.</p></li>
<li><p>“seasonality_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.SEASONALITY_REGEX" title="greykite.common.constants.SEASONALITY_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEASONALITY_REGEX</span></code></a>.</p></li>
<li><p>“lag_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.LAG_REGEX" title="greykite.common.constants.LAG_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LAG_REGEX</span></code></a>.</p></li>
<li><p>“regressor_features” : external regressors and other predictors
manually passed to <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>, but not in the categories above.</p></li>
<li><p>“interaction_features” : the predictors that include
interaction terms, i.e., including a colon.</p></li>
</ul>
</div></blockquote>
<p>Note that each predictor falls into at least one category.
Some “time_features” may also be “trend_features”.
Predictors with an interaction are classified into all categories matched by
the interaction components. Thus, “interaction_features” are already included
in the other categories.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates forecast for the dates specified in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Timestamps are the dates for prediction.
Value column, if provided in <code class="docutils literal notranslate"><span class="pre">X</span></code>, is ignored.</p></li>
<li><p><strong>y</strong> (<em>ignored.</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>predictions</strong> –</p>
<p>Forecasted values for the dates in <code class="docutils literal notranslate"><span class="pre">X</span></code>. Columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TIME_COL</span></code>: dates</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_COL</span></code>: predictions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_LOWER_COL</span></code>: lower bound of predictions, optional</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_UPPER_COL</span></code>: upper bound of predictions, optional</p></li>
<li><p>[other columns], optional</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">PREDICTED_LOWER_COL</span></code> and <code class="docutils literal notranslate"><span class="pre">PREDICTED_UPPER_COL</span></code> are present
if <code class="docutils literal notranslate"><span class="pre">self.coverage</span></code> is not None.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.predict_uncertainty">
<code class="sig-name descname">predict_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">predict_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.predict_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of prediction intervals for <code class="docutils literal notranslate"><span class="pre">df</span></code> based on the predictions
and <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The dataframe to calculate prediction intervals upon.
It should have either <code class="docutils literal notranslate"><span class="pre">self.value_col_</span></code> or
<em class="xref py py-obj">PREDICT_COL</em> which the
prediction interval is based on.</p></li>
<li><p><strong>predict_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">predict</span></code> function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result_df</strong> – The <code class="docutils literal notranslate"><span class="pre">df</span></code> with prediction interval columns.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">sample_weight</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Default scorer for the estimator (Used in GridSearchCV/RandomizedSearchCV if scoring=None)</p>
<p class="rubric">Notes</p>
<p>If null_model_params is not None, returns R2_null_model_score of model error
relative to null model, evaluated by score_func.</p>
<p>If null_model_params is None, returns score_func of the model itself.</p>
<p>By default, grid search (with no <em class="xref py py-obj">scoring</em> parameter) optimizes improvement of <code class="docutils literal notranslate"><span class="pre">score_func</span></code>
against null model.</p>
<p>To optimize a different score function, pass <em class="xref py py-obj">scoring</em> to GridSearchCV/RandomizedSearchCV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Value column, if provided in X, is ignored</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – Actual value, used to compute error</p></li>
<li><p><strong>sample_weight</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – Comparison of predictions against null predictions, according to specified score function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>). The latter have
parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s
possible to update each component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimator instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_colwidth</span><span class="o">=</span><span class="default_value">20</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates human readable string of how the model works, including relevant diagnostics
These details cannot be extracted from the forecast alone
Prints model configuration. Extend this in child class to print the trained model parameters.</p>
<p>Log message is printed to the cst.LOGGER_NAME logger.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.estimator.silverkite_estimator.</code><code class="sig-name descname">SilverkiteEstimator</code><span class="sig-paren">(</span><em class="sig-param">silverkite: greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast = &lt;greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast object&gt;</em>, <em class="sig-param">silverkite_diagnostics: greykite.sklearn.estimator.silverkite_diagnostics.SilverkiteDiagnostics = &lt;greykite.sklearn.estimator.silverkite_diagnostics.SilverkiteDiagnostics object&gt;</em>, <em class="sig-param">score_func=&lt;function mean_squared_error&gt;</em>, <em class="sig-param">coverage=None</em>, <em class="sig-param">null_model_params=None</em>, <em class="sig-param">freq=None</em>, <em class="sig-param">origin_for_time_vars=None</em>, <em class="sig-param">extra_pred_cols=None</em>, <em class="sig-param">drop_pred_cols=None</em>, <em class="sig-param">explicit_pred_cols=None</em>, <em class="sig-param">train_test_thresh=None</em>, <em class="sig-param">training_fraction=None</em>, <em class="sig-param">fit_algorithm_dict=None</em>, <em class="sig-param">daily_event_df_dict=None</em>, <em class="sig-param">fs_components_df=         name  period  order seas_names 0         tod    24.0      3      daily 1         tow     7.0      3     weekly 2  conti_year     1.0      5     yearly</em>, <em class="sig-param">autoreg_dict=None</em>, <em class="sig-param">past_df=None</em>, <em class="sig-param">lagged_regressor_dict=None</em>, <em class="sig-param">changepoints_dict=None</em>, <em class="sig-param">seasonality_changepoints_dict=None</em>, <em class="sig-param">changepoint_detector=None</em>, <em class="sig-param">min_admissible_value=None</em>, <em class="sig-param">max_admissible_value=None</em>, <em class="sig-param">uncertainty_dict=None</em>, <em class="sig-param">normalize_method=None</em>, <em class="sig-param">adjust_anomalous_dict=None</em>, <em class="sig-param">impute_dict=None</em>, <em class="sig-param">regression_weight_col=None</em>, <em class="sig-param">forecast_horizon=None</em>, <em class="sig-param">simulation_based=False</em>, <em class="sig-param">simulation_num=10</em>, <em class="sig-param">fast_simulation=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/silverkite_estimator.html#SilverkiteEstimator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score_func</strong> (<em>callable</em><em>, </em><em>optional</em><em>, </em><em>default mean_squared_error</em>) – See <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>.</p></li>
<li><p><strong>coverage</strong> (<em class="xref py py-obj">float</em> between [0.0, 1.0] or None, optional) – See <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>.</p></li>
<li><p><strong>null_model_params</strong> (<em class="xref py py-obj">dict</em> or None, optional) – Dictionary with arguments to define <code class="docutils literal notranslate"><span class="pre">DummyRegressor</span></code> null model, default is <em class="xref py py-obj">None</em>.
See <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>.</p></li>
<li><p><strong>fit_algorithm_dict</strong> (<em class="xref py py-obj">dict</em> or None, optional) – <p>How to fit the model. A dictionary with the following optional keys.</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fit_algorithm&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em>, optional, default “linear”</span></dt><dd><p>The type of predictive model used in fitting.</p>
<p>See <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>
for available options and their parameters.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fit_algorithm_params&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict</em> or None, optional, default None</span></dt><dd><p>Parameters passed to the requested fit_algorithm.
If None, uses the defaults in <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em> or None, optional) – How to fit the uncertainty model.
See <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.
Note that this is allowed to be “auto”. If None or “auto”, will be set to
a default value by <code class="docutils literal notranslate"><span class="pre">coverage</span></code> before calling <code class="docutils literal notranslate"><span class="pre">forecast_silverkite</span></code>.
See <code class="docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code> for details.</p></li>
<li><p><strong>fs_components_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, optional) – <p>A dataframe with information about fourier series generation.
If provided, it must contain columns with following names:</p>
<ul>
<li><p><em class="xref py py-obj">”name”</em>: name of the timeseries feature (e.g. <code class="docutils literal notranslate"><span class="pre">tod</span></code>, <code class="docutils literal notranslate"><span class="pre">tow</span></code> etc.).</p></li>
<li><p><em class="xref py py-obj">”period”</em>: Period of the fourier series.</p></li>
<li><p><em class="xref py py-obj">”order”</em>: Order of the fourier series.
<em class="xref py py-obj">“seas_names”</em>: Label for the type of seasonality (e.g. <code class="docutils literal notranslate"><span class="pre">daily</span></code>, <code class="docutils literal notranslate"><span class="pre">weekly</span></code> etc.)
and should be unique.</p></li>
<li><p><a class="reference internal" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.validate_fs_components_df" title="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.validate_fs_components_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate_fs_components_df</span></code></a>
checks for it, so that component plots don’t have duplicate y-axis labels.</p></li>
</ul>
<p>This differs from the expected input of <em class="xref py py-obj">forecast_silverkite</em> where <em class="xref py py-obj">“period”</em>, <em class="xref py py-obj">“order”</em>
and <em class="xref py py-obj">“seas_names”</em> are optional. This restriction is to facilitate appropriate computation
of component (e.g. trend, seasonalities and holidays) effects. See Notes section in this
docstring for a more detailed explanation with examples.</p>
</p></li>
</ul>
</dd>
</dl>
<p>Other parameters are the same as in
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.</p>
<p>If this Estimator is called from
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">train_test_thresh</span></code> and <code class="docutils literal notranslate"><span class="pre">training_fraction</span></code> should almost
always be <em class="xref py py-obj">None</em>, because train/test is handled outside
this Estimator.</p>
<p>The attributes are the same as
<a class="reference internal" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator" title="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseSilverkiteEstimator</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>For details on fit, predict, and component plots.</p>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>Functions performing the fit and predict.</p>
</dd>
</dl>
</div>
<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.validate_inputs">
<code class="sig-name descname">validate_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/silverkite_estimator.html#SilverkiteEstimator.validate_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.validate_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the inputs to <code class="docutils literal notranslate"><span class="pre">SilverkiteEstimator</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="o">=</span><span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fit_params</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/silverkite_estimator.html#SilverkiteEstimator.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits <code class="docutils literal notranslate"><span class="pre">Silverkite</span></code> forecast model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries, with timestamp column,
value column, and any additional regressors.
The value column is the response, included in
<code class="docutils literal notranslate"><span class="pre">X</span></code> to allow transformation by <a class="reference external" href="https://scikit-learn.org/0.24/modules/classes.html#module-sklearn.pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline</span></code></a>.</p></li>
<li><p><strong>y</strong> (<em>ignored</em>) – The original timeseries values, ignored.
(The <code class="docutils literal notranslate"><span class="pre">y</span></code> for fitting is included in <code class="docutils literal notranslate"><span class="pre">X</span></code>).</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – Time column name in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – Value column name in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em>) – additional parameters for null model.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.validate_fs_components_df">
<em class="property">static </em><code class="sig-name descname">validate_fs_components_df</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fs_components_df</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/silverkite_estimator.html#SilverkiteEstimator.validate_fs_components_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.validate_fs_components_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the inputs of a fourier series components dataframe
called by <code class="docutils literal notranslate"><span class="pre">SilverkiteEstimator</span></code> to validate the input <code class="docutils literal notranslate"><span class="pre">fs_components_df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fs_components_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – <p>A DataFrame with information about fourier series generation.
Must contain columns with following names:</p>
<ul class="simple">
<li><p>”name”: name of the timeseries feature (e.g. “tod”, “tow” etc.)</p></li>
<li><p>”period”: Period of the fourier series</p></li>
<li><p>”order”: Order of the fourier series</p></li>
<li><p>”seas_names”: seas_name corresponding to the name (e.g. “daily”, “weekly” etc.).</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.finish_fit">
<code class="sig-name descname">finish_fit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.finish_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes important values of <code class="docutils literal notranslate"><span class="pre">self.model_dict</span></code> conveniently accessible.</p>
<p>To be called by subclasses at the end of their <code class="docutils literal notranslate"><span class="pre">fit</span></code> method. Sets
{<code class="docutils literal notranslate"><span class="pre">pred_cols</span></code>, <code class="docutils literal notranslate"><span class="pre">feature_cols</span></code>, and <code class="docutils literal notranslate"><span class="pre">coef_</span></code>}.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.fit_uncertainty">
<code class="sig-name descname">fit_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">uncertainty_dict</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></span></em>, <em class="sig-param"><span class="n">fit_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.fit_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the uncertainty model with a given <code class="docutils literal notranslate"><span class="pre">df</span></code> and <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A dataframe representing the data to fit the uncertainty model.</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any]) – <p>The uncertainty model specification. It should have the following keys:</p>
<blockquote>
<div><dl class="simple">
<dt>”uncertainty_method”: a string that is in</dt><dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">UncertaintyMethodEnum</span></code>.</p>
</dd>
</dl>
<p>”params”: a dictionary that includes any additional parameters needed by the uncertainty method.</p>
</div></blockquote>
</p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">fit</span></code> function.</p></li>
<li><p><strong>kwargs</strong> (<em>additional parameters to be fed into the uncertainty method.</em>) – These parameters are from the estimator attributes, not given by user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The function sets <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code> and does not return anything.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.forecast_breakdown">
<code class="sig-name descname">forecast_breakdown</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grouping_regex_patterns_dict</span></em>, <em class="sig-param"><span class="n">forecast_x_mat</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_values</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">center_components</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">denominator</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plt_title</span><span class="o">=</span><span class="default_value">'breakdown of forecasts'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.forecast_breakdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates silverkite forecast breakdown for groupings given in
<code class="docutils literal notranslate"><span class="pre">grouping_regex_patterns_dict</span></code>. Note that this only works for
additive regression models and not for models such as random forest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grouping_regex_patterns_dict</strong> (<em class="xref py py-obj">dict</em> {<em class="xref py py-obj">str</em>: <em class="xref py py-obj">str</em>}) – A dictionary with group names as keys and regexes as values.
This dictinary is used to partition the columns into various groups</p></li>
<li><p><strong>forecast_x_mat</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>, default None) – The dataframe of design matrix of regression model.
If None, this will be extracted from the estimator.</p></li>
<li><p><strong>time_values</strong> (<em class="xref py py-obj">list</em> or <em class="xref py py-obj">np.array</em>, default None) – A collection of values (usually timestamps) to be used in the figure.
It can also be used to join breakdown data with other data when needed.
If None, and <code class="docutils literal notranslate"><span class="pre">forecast_x_mat</span></code> is not passed, timestamps will be extracted
from the estimator to match the``forecast_x_mat`` which is also extracted
from the estimator.
If None, and``forecast_x_mat`` is passed, the timestamps cannot be inferred.
Therefore we simply create an integer index with size of <code class="docutils literal notranslate"><span class="pre">forecast_x_mat</span></code>.</p></li>
<li><p><strong>center_components</strong> (<em class="xref py py-obj">bool</em>, default False) – It determines if components should be centered at their mean and the mean
be added to the intercept. More concretely if a componet is “x” then it will
be mapped to “x - mean(x)”; and “mean(x)” will be added to the intercept so
that the sum of the components remains the same.</p></li>
<li><p><strong>denominator</strong> (<em class="xref py py-obj">str</em>, default None) – <p>If not None, it will specify a way to divide the components. There are
two options implemented:</p>
<ul>
<li><dl>
<dt>”abs_y_mean”<span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>The absolute value of the observed mean of the response</p>
</dd>
</dl>
</li>
<li><dl>
<dt>”y_std”<span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>The standard deviation of the observed response</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>plt_title</strong> (<em class="xref py py-obj">str</em>, default “prediction breakdown”) – The title of generated plot</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – Dictionary returned by <code class="xref py py-obj docutils literal notranslate"><span class="pre">breakdown_regression_based_prediction</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.get_max_ar_order">
<code class="sig-name descname">get_max_ar_order</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.get_max_ar_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the maximum autoregression order.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>max_ar_order</strong> – The maximum autoregression order.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deep</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.plot_seasonalities">
<code class="sig-name descname">plot_seasonalities</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.plot_seasonalities" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to plot the data and the seasonality components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>title</strong> (<em class="xref py py-obj">str</em>, optional, default <em class="xref py py-obj">None</em>) – Plot title.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Figure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.plot_trend">
<code class="sig-name descname">plot_trend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.plot_trend" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to plot the data and the trend component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>title</strong> (<em class="xref py py-obj">str</em>, optional, default <em class="xref py py-obj">None</em>) – Plot title.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Figure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.plot_trend_changepoint_detection">
<code class="sig-name descname">plot_trend_changepoint_detection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.plot_trend_changepoint_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to plot the original trend changepoint detection results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em class="xref py py-obj">dict</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – <p>The parameters in <a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.plot" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>.
If set to <em class="xref py py-obj">None</em>, all components will be plotted.</p>
<p>Note: seasonality components plotting is not supported currently. <code class="docutils literal notranslate"><span class="pre">plot</span></code> parameter must be False.</p>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Figure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.pred_category">
<em class="property">property </em><code class="sig-name descname">pred_category</code><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.pred_category" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary that stores the predictor names in each category.</p>
<p>This property is not initialized until used. This speeds up the
fitting process. The categories includes</p>
<blockquote>
<div><ul class="simple">
<li><p>“intercept” : the intercept.</p></li>
<li><p>“time_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.TimeFeaturesEnum" title="greykite.common.constants.TimeFeaturesEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeFeaturesEnum</span></code></a>
but not
<a class="reference internal" href="#greykite.common.constants.SEASONALITY_REGEX" title="greykite.common.constants.SEASONALITY_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEASONALITY_REGEX</span></code></a>.</p></li>
<li><p>“event_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.EVENT_PREFIX" title="greykite.common.constants.EVENT_PREFIX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EVENT_PREFIX</span></code></a>.</p></li>
<li><p>“trend_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.TREND_REGEX" title="greykite.common.constants.TREND_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TREND_REGEX</span></code></a>
but not
<a class="reference internal" href="#greykite.common.constants.SEASONALITY_REGEX" title="greykite.common.constants.SEASONALITY_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEASONALITY_REGEX</span></code></a>.</p></li>
<li><p>“seasonality_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.SEASONALITY_REGEX" title="greykite.common.constants.SEASONALITY_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEASONALITY_REGEX</span></code></a>.</p></li>
<li><p>“lag_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.LAG_REGEX" title="greykite.common.constants.LAG_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LAG_REGEX</span></code></a>.</p></li>
<li><p>“regressor_features” : external regressors and other predictors
manually passed to <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>, but not in the categories above.</p></li>
<li><p>“interaction_features” : the predictors that include
interaction terms, i.e., including a colon.</p></li>
</ul>
</div></blockquote>
<p>Note that each predictor falls into at least one category.
Some “time_features” may also be “trend_features”.
Predictors with an interaction are classified into all categories matched by
the interaction components. Thus, “interaction_features” are already included
in the other categories.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates forecast for the dates specified in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Timestamps are the dates for prediction.
Value column, if provided in <code class="docutils literal notranslate"><span class="pre">X</span></code>, is ignored.</p></li>
<li><p><strong>y</strong> (<em>ignored.</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>predictions</strong> –</p>
<p>Forecasted values for the dates in <code class="docutils literal notranslate"><span class="pre">X</span></code>. Columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TIME_COL</span></code>: dates</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_COL</span></code>: predictions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_LOWER_COL</span></code>: lower bound of predictions, optional</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_UPPER_COL</span></code>: upper bound of predictions, optional</p></li>
<li><p>[other columns], optional</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">PREDICTED_LOWER_COL</span></code> and <code class="docutils literal notranslate"><span class="pre">PREDICTED_UPPER_COL</span></code> are present
if <code class="docutils literal notranslate"><span class="pre">self.coverage</span></code> is not None.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.predict_uncertainty">
<code class="sig-name descname">predict_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">predict_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.predict_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of prediction intervals for <code class="docutils literal notranslate"><span class="pre">df</span></code> based on the predictions
and <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The dataframe to calculate prediction intervals upon.
It should have either <code class="docutils literal notranslate"><span class="pre">self.value_col_</span></code> or
<em class="xref py py-obj">PREDICT_COL</em> which the
prediction interval is based on.</p></li>
<li><p><strong>predict_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">predict</span></code> function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result_df</strong> – The <code class="docutils literal notranslate"><span class="pre">df</span></code> with prediction interval columns.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">sample_weight</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Default scorer for the estimator (Used in GridSearchCV/RandomizedSearchCV if scoring=None)</p>
<p class="rubric">Notes</p>
<p>If null_model_params is not None, returns R2_null_model_score of model error
relative to null model, evaluated by score_func.</p>
<p>If null_model_params is None, returns score_func of the model itself.</p>
<p>By default, grid search (with no <em class="xref py py-obj">scoring</em> parameter) optimizes improvement of <code class="docutils literal notranslate"><span class="pre">score_func</span></code>
against null model.</p>
<p>To optimize a different score function, pass <em class="xref py py-obj">scoring</em> to GridSearchCV/RandomizedSearchCV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Value column, if provided in X, is ignored</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – Actual value, used to compute error</p></li>
<li><p><strong>sample_weight</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – Comparison of predictions against null predictions, according to specified score function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>). The latter have
parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s
possible to update each component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimator instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_colwidth</span><span class="o">=</span><span class="default_value">20</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates human readable string of how the model works, including relevant diagnostics
These details cannot be extracted from the forecast alone
Prints model configuration. Extend this in child class to print the trained model parameters.</p>
<p>Log message is printed to the cst.LOGGER_NAME logger.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.estimator.base_silverkite_estimator.</code><code class="sig-name descname">BaseSilverkiteEstimator</code><span class="sig-paren">(</span><em class="sig-param">silverkite: greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast = &lt;greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast object&gt;</em>, <em class="sig-param">silverkite_diagnostics: greykite.sklearn.estimator.silverkite_diagnostics.SilverkiteDiagnostics = &lt;greykite.sklearn.estimator.silverkite_diagnostics.SilverkiteDiagnostics object&gt;</em>, <em class="sig-param">score_func: callable = &lt;function mean_squared_error&gt;</em>, <em class="sig-param">coverage: float = None</em>, <em class="sig-param">null_model_params: Optional[Dict] = None</em>, <em class="sig-param">uncertainty_dict: Optional[Dict] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/base_silverkite_estimator.html#BaseSilverkiteEstimator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>A base class for forecast estimators that fit using
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.</p>
<p class="rubric">Notes</p>
<p>Allows estimators that fit using
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>
to share the same functions for input data validation,
fit postprocessing, predict, summary, plot_components, etc.</p>
<p>Subclasses should:</p>
<blockquote>
<div><ul>
<li><p>Implement their own <code class="docutils literal notranslate"><span class="pre">__init__</span></code> that uses a superset of the parameters here.</p></li>
<li><p>Implement their own <code class="docutils literal notranslate"><span class="pre">fit</span></code>, with this sequence of steps:</p>
<blockquote>
<div><ul class="simple">
<li><p>calls <code class="docutils literal notranslate"><span class="pre">super().fit</span></code></p></li>
<li><p>calls <code class="docutils literal notranslate"><span class="pre">SilverkiteForecast.forecast</span></code> or <code class="docutils literal notranslate"><span class="pre">SimpleSilverkiteForecast.forecast_simple</span></code> and stores the result in <code class="docutils literal notranslate"><span class="pre">self.model_dict</span></code></p></li>
<li><p>calls <code class="docutils literal notranslate"><span class="pre">super().finish_fit</span></code></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Uses <code class="docutils literal notranslate"><span class="pre">coverage</span></code> to set prediction band width. Even though
coverage is not needed by <code class="docutils literal notranslate"><span class="pre">forecast_silverkite</span></code>, it is included
in every <code class="docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code> to be used universally for
forecast evaluation.</p>
<p>Therefore, <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> must be consistent with <code class="docutils literal notranslate"><span class="pre">coverage</span></code>
if provided as a dictionary. If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is None or
“auto”, an appropriate default value is set, according to <code class="docutils literal notranslate"><span class="pre">coverage</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score_func</strong> (<em>callable</em><em>, </em><em>optional</em><em>, </em><em>default mean_squared_error</em>) – See <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>.</p></li>
<li><p><strong>coverage</strong> (<em class="xref py py-obj">float</em> between [0.0, 1.0] or None, optional) – See <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>.</p></li>
<li><p><strong>null_model_params</strong> (<em class="xref py py-obj">dict</em>, optional) – Dictionary with arguments to define DummyRegressor null model, default is <em class="xref py py-obj">None</em>.
See <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>.</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em> or None, optional) – How to fit the uncertainty model.
See <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.
Note that this is allowed to be “auto”. If None or “auto”, will be set to
a default value by <code class="docutils literal notranslate"><span class="pre">coverage</span></code> before calling <code class="docutils literal notranslate"><span class="pre">forecast_silverkite</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.silverkite">
<code class="sig-name descname">silverkite</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.silverkite" title="Permalink to this definition">¶</a></dt>
<dd><p>The silverkite algorithm instance used for forecasting</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Class or a derived class of <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SilverkiteForecast</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.silverkite_diagnostics">
<code class="sig-name descname">silverkite_diagnostics</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.silverkite_diagnostics" title="Permalink to this definition">¶</a></dt>
<dd><p>The silverkite class used for plotting and generating model summary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Class or a derived class of <code class="xref py py-obj docutils literal notranslate"><span class="pre">SilverkiteDiagnostics</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.model_dict">
<code class="sig-name descname">model_dict</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.model_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict with fitted model and its attributes.
The output of <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.pred_cols">
<code class="sig-name descname">pred_cols</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.pred_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Names of the features used in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.feature_cols">
<code class="sig-name descname">feature_cols</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.feature_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Column names of the patsy design matrix built by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">design_mat_from_formula</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.df">
<code class="sig-name descname">df</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.df" title="Permalink to this definition">¶</a></dt>
<dd><p>The training data used to fit the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.coef_">
<code class="sig-name descname">coef_</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.coef_" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimated coefficient matrix for the model.
Not available for <code class="docutils literal notranslate"><span class="pre">random</span> <span class="pre">forest</span></code> and <code class="docutils literal notranslate"><span class="pre">gradient</span> <span class="pre">boosting</span></code> methods and
set to the default value <em class="xref py py-obj">None</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator._pred_category">
<code class="sig-name descname">_pred_category</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator._pred_category" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary with keys being the predictor category and
values being the predictors belonging to the category.
For details, see
<a class="reference internal" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.pred_category" title="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.pred_category"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pred_category</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.extra_pred_cols">
<code class="sig-name descname">extra_pred_cols</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.extra_pred_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>User provided extra predictor names, for details, see
<a class="reference internal" href="#greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator" title="greykite.sklearn.estimator.simple_silverkite_estimator.SimpleSilverkiteEstimator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteEstimator</span></code></a>
or
<a class="reference internal" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator" title="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SilverkiteEstimator</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.past_df">
<code class="sig-name descname">past_df</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.past_df" title="Permalink to this definition">¶</a></dt>
<dd><p>The extra past data before training data used to generate autoregression terms.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.forecast">
<code class="sig-name descname">forecast</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Output of <code class="docutils literal notranslate"><span class="pre">predict_silverkite</span></code>, set by <code class="docutils literal notranslate"><span class="pre">self.predict</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.forecast_x_mat">
<code class="sig-name descname">forecast_x_mat</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.forecast_x_mat" title="Permalink to this definition">¶</a></dt>
<dd><p>The design matrix of the model at the predict time.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.model_summary">
<code class="sig-name descname">model_summary</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.model_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#greykite.algo.common.model_summary.ModelSummary" title="greykite.algo.common.model_summary.ModelSummary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelSummary</span></code></a> class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">class</em> or <em class="xref py py-obj">None</em></p>
</dd>
</dl>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>Function performing the fit and predict.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The subclasses will pass <code class="docutils literal notranslate"><span class="pre">fs_components_df</span></code> to <code class="docutils literal notranslate"><span class="pre">forecast_silverkite</span></code>. The model terms
it creates internally are used to generate the component plots.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">fourier_series_multi_fcn</span></code> uses
<code class="docutils literal notranslate"><span class="pre">fs_components_df[&quot;names&quot;]</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">tod</span></code>, <code class="docutils literal notranslate"><span class="pre">tow</span></code>) to build the fourier series
and to create column names.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fs_components_df[&quot;seas_names&quot;]</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">daily</span></code>, <code class="docutils literal notranslate"><span class="pre">weekly</span></code>) is appended
to the column names, if provided.</p></li>
</ul>
</div></blockquote>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_silverkite_components</span></code> groups
based on <code class="docutils literal notranslate"><span class="pre">fs_components_df[&quot;seas_names&quot;]</span></code> passed to <code class="docutils literal notranslate"><span class="pre">forecast_silverkite</span></code> during fit.
E.g. any column containing <code class="docutils literal notranslate"><span class="pre">daily</span></code> is added to daily seasonality effect. The reason
is as follows:</p>
<blockquote>
<div><p>1. User can provide <code class="docutils literal notranslate"><span class="pre">tow</span></code> and <code class="docutils literal notranslate"><span class="pre">str_dow</span></code> for weekly seasonality.
These should be aggregated, and we can do that only based on “seas_names”.
2. yearly and quarterly seasonality both use <code class="docutils literal notranslate"><span class="pre">ct1</span></code> as “names” column.
Only way to distinguish those effects is via “seas_names”.
3. <code class="docutils literal notranslate"><span class="pre">ct1</span></code> is also used for growth. If it is interacted with seasonality, the columns become
indistinguishable without “seas_names”.</p>
</div></blockquote>
<p>Additionally, the function sets yaxis labels based on <code class="docutils literal notranslate"><span class="pre">seas_names</span></code>:
<code class="docutils literal notranslate"><span class="pre">daily</span></code> as ylabel is much more informative than <code class="docutils literal notranslate"><span class="pre">tod</span></code> as ylabel in component plots.</p>
<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="o">=</span><span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fit_params</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/base_silverkite_estimator.html#BaseSilverkiteEstimator.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-processing before fitting <code class="docutils literal notranslate"><span class="pre">Silverkite</span></code> forecast model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries, with timestamp column,
value column, and any additional regressors.
The value column is the response, included in
<code class="docutils literal notranslate"><span class="pre">X</span></code> to allow transformation by <a class="reference external" href="https://scikit-learn.org/0.24/modules/classes.html#module-sklearn.pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline</span></code></a>.</p></li>
<li><p><strong>y</strong> (<em>ignored</em>) – The original timeseries values, ignored.
(The <code class="docutils literal notranslate"><span class="pre">y</span></code> for fitting is included in <code class="docutils literal notranslate"><span class="pre">X</span></code>).</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – Time column name in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – Value column name in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em>) – additional parameters for null model.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Subclasses are expected to call this at the beginning of their <code class="docutils literal notranslate"><span class="pre">fit</span></code> method,
before calling <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.finish_fit">
<code class="sig-name descname">finish_fit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/base_silverkite_estimator.html#BaseSilverkiteEstimator.finish_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.finish_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes important values of <code class="docutils literal notranslate"><span class="pre">self.model_dict</span></code> conveniently accessible.</p>
<p>To be called by subclasses at the end of their <code class="docutils literal notranslate"><span class="pre">fit</span></code> method. Sets
{<code class="docutils literal notranslate"><span class="pre">pred_cols</span></code>, <code class="docutils literal notranslate"><span class="pre">feature_cols</span></code>, and <code class="docutils literal notranslate"><span class="pre">coef_</span></code>}.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/base_silverkite_estimator.html#BaseSilverkiteEstimator.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates forecast for the dates specified in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Timestamps are the dates for prediction.
Value column, if provided in <code class="docutils literal notranslate"><span class="pre">X</span></code>, is ignored.</p></li>
<li><p><strong>y</strong> (<em>ignored.</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>predictions</strong> –</p>
<p>Forecasted values for the dates in <code class="docutils literal notranslate"><span class="pre">X</span></code>. Columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TIME_COL</span></code>: dates</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_COL</span></code>: predictions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_LOWER_COL</span></code>: lower bound of predictions, optional</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_UPPER_COL</span></code>: upper bound of predictions, optional</p></li>
<li><p>[other columns], optional</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">PREDICTED_LOWER_COL</span></code> and <code class="docutils literal notranslate"><span class="pre">PREDICTED_UPPER_COL</span></code> are present
if <code class="docutils literal notranslate"><span class="pre">self.coverage</span></code> is not None.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.forecast_breakdown">
<code class="sig-name descname">forecast_breakdown</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grouping_regex_patterns_dict</span></em>, <em class="sig-param"><span class="n">forecast_x_mat</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_values</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">center_components</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">denominator</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plt_title</span><span class="o">=</span><span class="default_value">'breakdown of forecasts'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/base_silverkite_estimator.html#BaseSilverkiteEstimator.forecast_breakdown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.forecast_breakdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates silverkite forecast breakdown for groupings given in
<code class="docutils literal notranslate"><span class="pre">grouping_regex_patterns_dict</span></code>. Note that this only works for
additive regression models and not for models such as random forest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grouping_regex_patterns_dict</strong> (<em class="xref py py-obj">dict</em> {<em class="xref py py-obj">str</em>: <em class="xref py py-obj">str</em>}) – A dictionary with group names as keys and regexes as values.
This dictinary is used to partition the columns into various groups</p></li>
<li><p><strong>forecast_x_mat</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>, default None) – The dataframe of design matrix of regression model.
If None, this will be extracted from the estimator.</p></li>
<li><p><strong>time_values</strong> (<em class="xref py py-obj">list</em> or <em class="xref py py-obj">np.array</em>, default None) – A collection of values (usually timestamps) to be used in the figure.
It can also be used to join breakdown data with other data when needed.
If None, and <code class="docutils literal notranslate"><span class="pre">forecast_x_mat</span></code> is not passed, timestamps will be extracted
from the estimator to match the``forecast_x_mat`` which is also extracted
from the estimator.
If None, and``forecast_x_mat`` is passed, the timestamps cannot be inferred.
Therefore we simply create an integer index with size of <code class="docutils literal notranslate"><span class="pre">forecast_x_mat</span></code>.</p></li>
<li><p><strong>center_components</strong> (<em class="xref py py-obj">bool</em>, default False) – It determines if components should be centered at their mean and the mean
be added to the intercept. More concretely if a componet is “x” then it will
be mapped to “x - mean(x)”; and “mean(x)” will be added to the intercept so
that the sum of the components remains the same.</p></li>
<li><p><strong>denominator</strong> (<em class="xref py py-obj">str</em>, default None) – <p>If not None, it will specify a way to divide the components. There are
two options implemented:</p>
<ul>
<li><dl>
<dt>”abs_y_mean”<span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>The absolute value of the observed mean of the response</p>
</dd>
</dl>
</li>
<li><dl>
<dt>”y_std”<span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>The standard deviation of the observed response</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>plt_title</strong> (<em class="xref py py-obj">str</em>, default “prediction breakdown”) – The title of generated plot</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – Dictionary returned by <code class="xref py py-obj docutils literal notranslate"><span class="pre">breakdown_regression_based_prediction</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.pred_category">
<em class="property">property </em><code class="sig-name descname">pred_category</code><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.pred_category" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary that stores the predictor names in each category.</p>
<p>This property is not initialized until used. This speeds up the
fitting process. The categories includes</p>
<blockquote>
<div><ul class="simple">
<li><p>“intercept” : the intercept.</p></li>
<li><p>“time_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.TimeFeaturesEnum" title="greykite.common.constants.TimeFeaturesEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeFeaturesEnum</span></code></a>
but not
<a class="reference internal" href="#greykite.common.constants.SEASONALITY_REGEX" title="greykite.common.constants.SEASONALITY_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEASONALITY_REGEX</span></code></a>.</p></li>
<li><p>“event_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.EVENT_PREFIX" title="greykite.common.constants.EVENT_PREFIX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EVENT_PREFIX</span></code></a>.</p></li>
<li><p>“trend_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.TREND_REGEX" title="greykite.common.constants.TREND_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TREND_REGEX</span></code></a>
but not
<a class="reference internal" href="#greykite.common.constants.SEASONALITY_REGEX" title="greykite.common.constants.SEASONALITY_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEASONALITY_REGEX</span></code></a>.</p></li>
<li><p>“seasonality_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.SEASONALITY_REGEX" title="greykite.common.constants.SEASONALITY_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEASONALITY_REGEX</span></code></a>.</p></li>
<li><p>“lag_features” : the predictors that include
<a class="reference internal" href="#greykite.common.constants.LAG_REGEX" title="greykite.common.constants.LAG_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LAG_REGEX</span></code></a>.</p></li>
<li><p>“regressor_features” : external regressors and other predictors
manually passed to <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>, but not in the categories above.</p></li>
<li><p>“interaction_features” : the predictors that include
interaction terms, i.e., including a colon.</p></li>
</ul>
</div></blockquote>
<p>Note that each predictor falls into at least one category.
Some “time_features” may also be “trend_features”.
Predictors with an interaction are classified into all categories matched by
the interaction components. Thus, “interaction_features” are already included
in the other categories.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.get_max_ar_order">
<code class="sig-name descname">get_max_ar_order</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/base_silverkite_estimator.html#BaseSilverkiteEstimator.get_max_ar_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.get_max_ar_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the maximum autoregression order.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>max_ar_order</strong> – The maximum autoregression order.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_colwidth</span><span class="o">=</span><span class="default_value">20</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/base_silverkite_estimator.html#BaseSilverkiteEstimator.summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates human readable string of how the model works, including relevant diagnostics
These details cannot be extracted from the forecast alone
Prints model configuration. Extend this in child class to print the trained model parameters.</p>
<p>Log message is printed to the cst.LOGGER_NAME logger.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.plot_trend">
<code class="sig-name descname">plot_trend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/base_silverkite_estimator.html#BaseSilverkiteEstimator.plot_trend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.plot_trend" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to plot the data and the trend component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>title</strong> (<em class="xref py py-obj">str</em>, optional, default <em class="xref py py-obj">None</em>) – Plot title.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Figure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.plot_seasonalities">
<code class="sig-name descname">plot_seasonalities</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/base_silverkite_estimator.html#BaseSilverkiteEstimator.plot_seasonalities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.plot_seasonalities" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to plot the data and the seasonality components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>title</strong> (<em class="xref py py-obj">str</em>, optional, default <em class="xref py py-obj">None</em>) – Plot title.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Figure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.plot_trend_changepoint_detection">
<code class="sig-name descname">plot_trend_changepoint_detection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/base_silverkite_estimator.html#BaseSilverkiteEstimator.plot_trend_changepoint_detection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.plot_trend_changepoint_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to plot the original trend changepoint detection results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em class="xref py py-obj">dict</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – <p>The parameters in <a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.plot" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>.
If set to <em class="xref py py-obj">None</em>, all components will be plotted.</p>
<p>Note: seasonality components plotting is not supported currently. <code class="docutils literal notranslate"><span class="pre">plot</span></code> parameter must be False.</p>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Figure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.fit_uncertainty">
<code class="sig-name descname">fit_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">uncertainty_dict</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></span></em>, <em class="sig-param"><span class="n">fit_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.fit_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the uncertainty model with a given <code class="docutils literal notranslate"><span class="pre">df</span></code> and <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A dataframe representing the data to fit the uncertainty model.</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any]) – <p>The uncertainty model specification. It should have the following keys:</p>
<blockquote>
<div><dl class="simple">
<dt>”uncertainty_method”: a string that is in</dt><dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">UncertaintyMethodEnum</span></code>.</p>
</dd>
</dl>
<p>”params”: a dictionary that includes any additional parameters needed by the uncertainty method.</p>
</div></blockquote>
</p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">fit</span></code> function.</p></li>
<li><p><strong>kwargs</strong> (<em>additional parameters to be fed into the uncertainty method.</em>) – These parameters are from the estimator attributes, not given by user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The function sets <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code> and does not return anything.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deep</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.predict_uncertainty">
<code class="sig-name descname">predict_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">predict_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.predict_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of prediction intervals for <code class="docutils literal notranslate"><span class="pre">df</span></code> based on the predictions
and <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The dataframe to calculate prediction intervals upon.
It should have either <code class="docutils literal notranslate"><span class="pre">self.value_col_</span></code> or
<em class="xref py py-obj">PREDICT_COL</em> which the
prediction interval is based on.</p></li>
<li><p><strong>predict_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">predict</span></code> function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result_df</strong> – The <code class="docutils literal notranslate"><span class="pre">df</span></code> with prediction interval columns.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">sample_weight</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Default scorer for the estimator (Used in GridSearchCV/RandomizedSearchCV if scoring=None)</p>
<p class="rubric">Notes</p>
<p>If null_model_params is not None, returns R2_null_model_score of model error
relative to null model, evaluated by score_func.</p>
<p>If null_model_params is None, returns score_func of the model itself.</p>
<p>By default, grid search (with no <em class="xref py py-obj">scoring</em> parameter) optimizes improvement of <code class="docutils literal notranslate"><span class="pre">score_func</span></code>
against null model.</p>
<p>To optimize a different score function, pass <em class="xref py py-obj">scoring</em> to GridSearchCV/RandomizedSearchCV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Value column, if provided in X, is ignored</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – Actual value, used to compute error</p></li>
<li><p><strong>sample_weight</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – Comparison of predictions against null predictions, according to specified score function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.base_silverkite_estimator.BaseSilverkiteEstimator.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>). The latter have
parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s
possible to update each component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimator instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SimpleSilverkiteTemplateOptions</code><span class="sig-paren">(</span><em class="sig-param">freq: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ = &lt;SILVERKITE_FREQ.DAILY: 'DAILY'&gt;</em>, <em class="sig-param">seas: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS = &lt;SILVERKITE_SEAS.LT: 'LT'&gt;</em>, <em class="sig-param">gr: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR = &lt;SILVERKITE_GR.LINEAR: 'LINEAR'&gt;</em>, <em class="sig-param">cp: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP = &lt;SILVERKITE_CP.NONE: 'NONE'&gt;</em>, <em class="sig-param">hol: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL = &lt;SILVERKITE_HOL.NONE: 'NONE'&gt;</em>, <em class="sig-param">feaset: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET = &lt;SILVERKITE_FEASET.OFF: 'OFF'&gt;</em>, <em class="sig-param">algo: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO = &lt;SILVERKITE_ALGO.LINEAR: 'LINEAR'&gt;</em>, <em class="sig-param">ar: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR = &lt;SILVERKITE_AR.OFF: 'OFF'&gt;</em>, <em class="sig-param">dsi: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI = &lt;SILVERKITE_DSI.AUTO: 'AUTO'&gt;</em>, <em class="sig-param">wsi: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI = &lt;SILVERKITE_WSI.AUTO: 'AUTO'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SimpleSilverkiteTemplateOptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines generic simple silverkite template options.</p>
<p>Attributes can be set to different values using
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_COMPONENT_KEYWORDS" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_COMPONENT_KEYWORDS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_COMPONENT_KEYWORDS</span></code></a>
for high level tuning.</p>
<p><code class="docutils literal notranslate"><span class="pre">freq</span></code> represents data frequency.</p>
<p>The other attributes stand for seasonality,
growth, changepoints_dict, events, feature_sets_enabled, fit_algorithm and autoregression in
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>, which are used in
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a>.</p>
<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.freq">
<code class="sig-name descname">freq</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ</a></em><em class="property"> = 'DAILY'</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.freq" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name frequency.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_FREQ</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.seas">
<code class="sig-name descname">seas</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS</a></em><em class="property"> = 'LT'</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.seas" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name seasonality.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_SEAS</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.gr">
<code class="sig-name descname">gr</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR</a></em><em class="property"> = 'LINEAR'</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.gr" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name growth.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_GR</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.cp">
<code class="sig-name descname">cp</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP</a></em><em class="property"> = 'NONE'</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.cp" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name changepoints.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_CP</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.hol">
<code class="sig-name descname">hol</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL</a></em><em class="property"> = 'NONE'</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.hol" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name holiday.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_HOL</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.feaset">
<code class="sig-name descname">feaset</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET</a></em><em class="property"> = 'OFF'</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.feaset" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name feature sets enabled.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_FEASET</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.algo">
<code class="sig-name descname">algo</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO</a></em><em class="property"> = 'LINEAR'</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.algo" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name fit algorithm.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_ALGO</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.ar">
<code class="sig-name descname">ar</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR</a></em><em class="property"> = 'OFF'</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.ar" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name autoregression.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_AR</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.dsi">
<code class="sig-name descname">dsi</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI</a></em><em class="property"> = 'AUTO'</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.dsi" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name max daily seasonality interaction order.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_DSI</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.wsi">
<code class="sig-name descname">wsi</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI</a></em><em class="property"> = 'AUTO'</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions.wsi" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name max weekly seasonality interaction order.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_WSI</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.silverkite_template.</code><code class="sig-name descname">SilverkiteTemplate</code><a class="reference internal" href="../../_modules/greykite/framework/templates/silverkite_template.html#SilverkiteTemplate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate" title="Permalink to this definition">¶</a></dt>
<dd><p>A template for <a class="reference internal" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator" title="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">SilverkiteEstimator</span></code></a>.</p>
<p>Takes input data and optional configuration parameters
to customize the model. Returns a set of parameters to call
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
<p class="rubric">Notes</p>
<p>The attributes of a <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a> for
<a class="reference internal" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator" title="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">SilverkiteEstimator</span></code></a> are:</p>
<blockquote>
<div><dl>
<dt>computation_param: <em class="xref py py-obj">ComputationParam</em> or None, default None</dt><dd><p>How to compute the result. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ComputationParam</span></code></a>.</p>
</dd>
<dt>coverage: <em class="xref py py-obj">float</em> or None, default None</dt><dd><p>Intended coverage of the prediction bands (0.0 to 1.0).
Same as coverage in <code class="docutils literal notranslate"><span class="pre">forecast_pipeline</span></code>.
You may tune how the uncertainty is computed
via <em class="xref py py-obj">model_components.uncertainty[“uncertainty_dict”]</em>.</p>
</dd>
<dt>evaluation_metric_param: <em class="xref py py-obj">EvaluationMetricParam</em> or None, default None</dt><dd><p>What metrics to evaluate. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a>.</p>
</dd>
<dt>evaluation_period_param: <em class="xref py py-obj">EvaluationPeriodParam</em> or None, default None</dt><dd><p>How to split data for evaluation. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a>.</p>
</dd>
<dt>forecast_horizon: <em class="xref py py-obj">int</em> or None, default None</dt><dd><p>Number of periods to forecast into the future. Must be &gt; 0
If None, default is determined from input data frequency
Same as forecast_horizon in <em class="xref py py-obj">forecast_pipeline</em></p>
</dd>
<dt>metadata_param: <em class="xref py py-obj">MetadataParam</em> or None, default None</dt><dd><p>Information about the input data. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetadataParam</span></code></a>.</p>
</dd>
<dt>model_components_param: <code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code> or None, default None</dt><dd><p>Parameters to tune the model. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>.
The fields are dictionaries with the following items.</p>
<p>See inline comments on which values accept lists for grid search.</p>
<dl>
<dt>seasonality: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>How to model the seasonality. A dictionary with keys corresponding to
parameters in <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.</p>
<p>Allowed keys: <code class="docutils literal notranslate"><span class="pre">&quot;fs_components_df&quot;</span></code>.</p>
</dd>
<dt>growth: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>How to model the growth.</p>
<p>Allowed keys: None. (Use <code class="docutils literal notranslate"><span class="pre">model_components.custom[&quot;extra_pred_cols&quot;]</span></code> to specify
growth terms.)</p>
</dd>
<dt>events: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>How to model the holidays/events. A dictionary with keys corresponding to
parameters in <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.</p>
<p>Allowed keys: <code class="docutils literal notranslate"><span class="pre">&quot;daily_event_df_dict&quot;</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Event names derived from <code class="docutils literal notranslate"><span class="pre">daily_event_df_dict</span></code> must be specified via
<code class="docutils literal notranslate"><span class="pre">model_components.custom[&quot;extra_pred_cols&quot;]</span></code> to be included in the model.
This parameter has no effect on the model unless event names are passed to
<code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>.</p>
<p>The function
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite_helper.get_event_pred_cols" title="greykite.algo.forecast.silverkite.forecast_simple_silverkite_helper.get_event_pred_cols"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_event_pred_cols</span></code></a>
can be used to extract all event names from <code class="docutils literal notranslate"><span class="pre">daily_event_df_dict</span></code>.</p>
</div>
</dd>
<dt>changepoints: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>How to model changes in trend and seasonality. A dictionary with keys corresponding to
parameters in <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.</p>
<p>Allowed keys: “changepoints_dict”, “seasonality_changepoints_dict”, “changepoint_detector”.</p>
</dd>
<dt>autoregression: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>Specifies the autoregression configuration. Dictionary with the following optional key:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;autoreg_dict&quot;</span></code>: <em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em> or None or a list of such values for grid search</dt><dd><p>If a <em class="xref py py-obj">dict</em>: A dictionary with arguments for <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df</span></code>.
That function’s parameter <code class="docutils literal notranslate"><span class="pre">value_col</span></code> is inferred from the input of
current function <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>. Other keys are:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;agg_lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;series_na_fill_func&quot;</span></code> : callable</p>
</div></blockquote>
<p>If a <em class="xref py py-obj">str</em>: The string will represent a method and a dictionary will be
constructed using that <em class="xref py py-obj">str</em>.
Currently only implemented method is “auto” which uses
<em class="xref py py-obj">__get_default_autoreg_dict</em>
to create a dictionary.
See more details for above parameters in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df</span></code>.</p>
</dd>
</dl>
</dd>
<dt>regressors: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>How to model the regressors.</p>
<p>Allowed keys: None. (Use <code class="docutils literal notranslate"><span class="pre">model_components.custom[&quot;extra_pred_cols&quot;]</span></code> to specify
regressors.)</p>
</dd>
<dt>lagged_regressors: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">dict</em>] or None, optional</dt><dd><p>Specifies the lagged regressors configuration. Dictionary with the following optional key:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;lagged_regressor_dict&quot;</span></code>: <em class="xref py py-obj">dict</em> or None or a list of such values for grid search</dt><dd><p>A dictionary with arguments for <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df_multi</span></code>.
The keys of the dictionary are the target lagged regressor column names.
It can leverage the regressors included in <code class="docutils literal notranslate"><span class="pre">df</span></code>.
The value of each key is either a <em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em>.
If <em class="xref py py-obj">dict</em>, it has the following keys:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;agg_lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;series_na_fill_func&quot;</span></code> : callable</p>
</div></blockquote>
<p>If <em class="xref py py-obj">str</em>, it represents a method and a dictionary will be constructed using that <em class="xref py py-obj">str</em>.
Currently the only implemented method is “auto” which uses <code class="docutils literal notranslate"><span class="pre">SilverkiteForecast</span></code>’s
<em class="xref py py-obj">__get_default_lagged_regressor_dict</em>
to create a dictionary for each lagged regressor.
An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lagged_regressor_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;regressor1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]},</span>
        <span class="s2">&quot;agg_lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;orders_list&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]],</span>
            <span class="s2">&quot;interval_list&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)]},</span>
        <span class="s2">&quot;series_na_fill_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()},</span>
    <span class="s2">&quot;regressor2&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>Check the docstring of <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df_multi</span></code>
for more details for each argument.</p>
</dd>
</dl>
</dd>
<dt>uncertainty: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>How to model the uncertainty. A dictionary with keys corresponding to
parameters in <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.</p>
<p>Allowed keys: <code class="docutils literal notranslate"><span class="pre">&quot;uncertainty_dict&quot;</span></code>.</p>
</dd>
<dt>custom: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional</dt><dd><p>Custom parameters that don’t fit the categories above. A dictionary with keys corresponding to
parameters in <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.</p>
<dl class="simple">
<dt>Allowed keys:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&quot;silverkite&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;silverkite_diagnostics&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;origin_for_time_vars&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;extra_pred_cols&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;drop_pred_cols&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;explicit_pred_cols&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;fit_algorithm_dict&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;min_admissible_value&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;max_admissible_value&quot;</span></code>.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;extra_pred_cols&quot;</span></code> should contain the desired growth terms, regressor names, and event names.</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">fit_algorithm_dict</span></code> is a dictionary with <code class="docutils literal notranslate"><span class="pre">fit_algorithm</span></code> and <code class="docutils literal notranslate"><span class="pre">fit_algorithm_params</span></code>
parameters to <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>:</p>
<blockquote>
<div><dl>
<dt>fit_algorithm_dict<span class="classifier"><em class="xref py py-obj">dict</em> or None, optional</span></dt><dd><p>How to fit the model. A dictionary with the following optional keys.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fit_algorithm&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em>, optional, default “linear”</span></dt><dd><p>The type of predictive model used in fitting.</p>
<p>See <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>
for available options and their parameters.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fit_algorithm_params&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict</em> or None, optional, default None</span></dt><dd><p>Parameters passed to the requested fit_algorithm.
If None, uses the defaults in <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>hyperparameter_override: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None], optional</dt><dd><p>After the above model components are used to create a hyperparameter grid, the result is
updated by this dictionary, to create new keys or override existing ones.
Allows for complete customization of the grid search.</p>
<p>Keys should have format <code class="docutils literal notranslate"><span class="pre">{named_step}__{parameter_name}</span></code> for the named steps of the
<a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a> returned by this function. See <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a>.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hyperparameter_override</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;estimator__origin_for_time_vars&quot;</span><span class="p">:</span> <span class="mf">2018.0</span><span class="p">,</span>
    <span class="s2">&quot;input__response__null__impute_algorithm&quot;</span><span class="p">:</span> <span class="s2">&quot;ts_interpolate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;input__response__null__impute_params&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">]},</span>
    <span class="s2">&quot;input__regressors_numeric__normalize__normalize_algorithm&quot;</span><span class="p">:</span> <span class="s2">&quot;RobustScaler&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If a list of dictionaries, grid search will be done for each dictionary in the list.
Each dictionary in the list override the defaults. This enables grid search
over specific combinations of parameters to reduce the search space.</p>
<blockquote>
<div><ul class="simple">
<li><p>For example, the first dictionary could define combinations of parameters for a
“complex” model, and the second dictionary could define combinations of parameters
for a “simple” model, to prevent mixed combinations of simple and complex.</p></li>
<li><p>Or the first dictionary could grid search over fit algorithm, and the second dictionary
could use a single fit algorithm and grid search over seasonality.</p></li>
</ul>
</div></blockquote>
<p>The result is passed as the <code class="docutils literal notranslate"><span class="pre">param_distributions</span></code> parameter
to <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.model_selection.RandomizedSearchCV</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt>model_template: <em class="xref py py-obj">str</em></dt><dd><p>This class only accepts “SK”.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py attribute">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.DEFAULT_MODEL_TEMPLATE">
<code class="sig-name descname">DEFAULT_MODEL_TEMPLATE</code><em class="property"> = 'SK'</em><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.DEFAULT_MODEL_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd><p>The default model template. See <a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="greykite.framework.templates.model_templates.ModelTemplateEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelTemplateEnum</span></code></a>.
Uses a string to avoid circular imports.
Overrides the value from <code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfigDefaults</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.allow_model_template_list">
<em class="property">property </em><code class="sig-name descname">allow_model_template_list</code><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.allow_model_template_list" title="Permalink to this definition">¶</a></dt>
<dd><p>SilverkiteTemplate does not allow <em class="xref py py-obj">config.model_template</em> to be a list.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.allow_model_components_param_list">
<em class="property">property </em><code class="sig-name descname">allow_model_components_param_list</code><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.allow_model_components_param_list" title="Permalink to this definition">¶</a></dt>
<dd><p>SilverkiteTemplate does not allow <em class="xref py py-obj">config.model_components_param</em> to be a list.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.get_regressor_cols">
<code class="sig-name descname">get_regressor_cols</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/silverkite_template.html#SilverkiteTemplate.get_regressor_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.get_regressor_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns regressor column names.</p>
<p>Implements the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<p>The intersection of <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> from model components
and <code class="docutils literal notranslate"><span class="pre">self.df</span></code> columns, excluding <code class="docutils literal notranslate"><span class="pre">time_col</span></code> and <code class="docutils literal notranslate"><span class="pre">value_col</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>regressor_cols</strong> – See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.get_lagged_regressor_info">
<code class="sig-name descname">get_lagged_regressor_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/silverkite_template.html#SilverkiteTemplate.get_lagged_regressor_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.get_lagged_regressor_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns lagged regressor column names and minimal/maximal lag order. The lag order
can be used to check potential imputation in the computation of lags.</p>
<p>Implements the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>lagged_regressor_info</strong> – A dictionary that includes the lagged regressor column names and maximal/minimal lag order
The keys are:</p>
<blockquote>
<div><dl>
<dt>lagged_regressor_cols<span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</span></dt><dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
</dl>
<p>overall_min_lag_order : <em class="xref py py-obj">int</em> or None
overall_max_lag_order : <em class="xref py py-obj">int</em> or None</p>
</div></blockquote>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model_components_param</span><span class="o">.</span><span class="n">lagged_regressors</span><span class="p">[</span><span class="s2">&quot;lagged_regressor_dict&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;regressor1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">]},</span>
        <span class="s2">&quot;agg_lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;orders_list&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]],</span>
            <span class="s2">&quot;interval_list&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)]},</span>
        <span class="s2">&quot;series_na_fill_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()}</span>
    <span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;regressor2&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">]},</span>
        <span class="s2">&quot;agg_lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;orders_list&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">]],</span>
            <span class="s2">&quot;interval_list&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)]},</span>
        <span class="s2">&quot;series_na_fill_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()}</span>
    <span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;regressor3&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Then the function returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lagged_regressor_info</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;lagged_regressor_cols&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;regressor1&quot;</span><span class="p">,</span> <span class="s2">&quot;regressor2&quot;</span><span class="p">,</span> <span class="s2">&quot;regressor3&quot;</span><span class="p">],</span>
    <span class="s2">&quot;overall_min_lag_order&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;overall_max_lag_order&quot;</span><span class="p">:</span> <span class="mi">21</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that “regressor3” is skipped as the “auto” option makes sure the lag order is proper.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.get_hyperparameter_grid">
<code class="sig-name descname">get_hyperparameter_grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/silverkite_template.html#SilverkiteTemplate.get_hyperparameter_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.get_hyperparameter_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns hyperparameter grid.</p>
<p>Implements the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.time_properties</span></code> and <code class="docutils literal notranslate"><span class="pre">self.config</span></code> to generate the hyperparameter grid.</p>
<p>Converts model components and time properties into
<a class="reference internal" href="#greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator" title="greykite.sklearn.estimator.silverkite_estimator.SilverkiteEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">SilverkiteEstimator</span></code></a>
hyperparameters.</p>
<p class="rubric">Notes</p>
<p><a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>
handles the train/test splits according to <code class="docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code>,
so <code class="docutils literal notranslate"><span class="pre">estimator__train_test_thresh</span></code> and <code class="docutils literal notranslate"><span class="pre">estimator__training_fraction</span></code> are always None.</p>
<p><code class="docutils literal notranslate"><span class="pre">estimator__changepoint_detector</span></code> is always None, to prevent leaking future information
into the past. Pass <code class="docutils literal notranslate"><span class="pre">changepoints_dict</span></code> with method=”auto” for automatic detection.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>hyperparameter_grid</strong> – See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.
The output dictionary values are lists, combined in grid search.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">dict</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_computation_defaults">
<em class="property">static </em><code class="sig-name descname">apply_computation_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">computation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_computation_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default ComputationParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a ComputationParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>computation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationParam</span></code></a> or None) – The ComputationParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>computation</strong> – Valid ComputationParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_evaluation_metric_defaults">
<em class="property">static </em><code class="sig-name descname">apply_evaluation_metric_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evaluation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_evaluation_metric_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default EvaluationMetricParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a EvaluationMetricParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a> or None) – The EvaluationMetricParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation</strong> – Valid EvaluationMetricParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_evaluation_period_defaults">
<em class="property">static </em><code class="sig-name descname">apply_evaluation_period_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evaluation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_evaluation_period_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default EvaluationPeriodParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a EvaluationPeriodParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a> or None) – The EvaluationMetricParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation</strong> – Valid EvaluationPeriodParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_forecast_config_defaults">
<code class="sig-name descname">apply_forecast_config_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_forecast_config_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default Forecast Config values to the given config.
If an expected attribute value is provided, the value is unchanged.
Otherwise the default value for it is used.
Other attributes are untouched.
If the input config is None, it creates a Forecast Config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a> or None) – Forecast configuration if available. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>config</strong> – A valid Forecast Config which contains the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_metadata_defaults">
<em class="property">static </em><code class="sig-name descname">apply_metadata_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metadata</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_metadata_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default MetadataParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a MetadataParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metadata</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetadataParam</span></code></a> or None) – The MetadataParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>metadata</strong> – Valid MetadataParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetadataParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_model_components_defaults">
<em class="property">static </em><code class="sig-name descname">apply_model_components_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_components</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_model_components_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default ModelComponentsParam values to the given object.</p>
<p>Converts None to a ModelComponentsParam object.
Unpacks a list of a single element to the element itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_components</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or None or list of such items) – The ModelComponentsParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_components</strong> – Valid ModelComponentsParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or list of such items</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_model_template_defaults">
<code class="sig-name descname">apply_model_template_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_template</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_model_template_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default model template to the given object.</p>
<p>Unpacks a list of a single element to the element itself.
Sets default value if None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_template</strong> (<em class="xref py py-obj">str</em> or None or <em class="xref py py-obj">list</em> [None, <em class="xref py py-obj">str</em>]) – The model template name.
See valid names in <a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="greykite.framework.templates.model_templates.ModelTemplateEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelTemplateEnum</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_template</strong> – The model template name, with defaults value used if not provided.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_template_for_pipeline_params">
<code class="sig-name descname">apply_template_for_pipeline_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Dict<a class="reference internal" href="../../_modules/greykite/framework/templates/silverkite_template.html#SilverkiteTemplate.apply_template_for_pipeline_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_template_for_pipeline_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Explicitly calls the method in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>
to make use of the decorator in this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The time series dataframe with <code class="docutils literal notranslate"><span class="pre">time_col</span></code> and <code class="docutils literal notranslate"><span class="pre">value_col</span></code> and optional regressor columns.</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a>.) – The <code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code> class that includes model training parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pipeline_parameters</strong> – The pipeline parameters consumable by
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.estimator">
<em class="property">property </em><code class="sig-name descname">estimator</code><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>The estimator instance to use as the final step in the pipeline.
An instance of <code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.sklearn.estimator.base_forecast_estimator.BaseForecastEstimator</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.get_forecast_time_properties">
<code class="sig-name descname">get_forecast_time_properties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.get_forecast_time_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns forecast time parameters.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.df</span></code>, <code class="docutils literal notranslate"><span class="pre">self.config</span></code>, <code class="docutils literal notranslate"><span class="pre">self.regressor_cols</span></code>.</p>
<p>Available parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.df</p></li>
<li><p>self.config</p></li>
<li><p>self.score_func</p></li>
<li><p>self.score_func_greater_is_better</p></li>
<li><p>self.regressor_cols</p></li>
<li><p>self.lagged_regressor_cols</p></li>
<li><p>self.estimator</p></li>
<li><p>self.pipeline</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>time_properties</strong> – Time properties dictionary (likely produced by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">get_forecast_time_properties</span></code>)
with keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;period&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Period of each observation (i.e. minimum time between observations, in seconds).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;simple_freq&quot;</span></code><span class="classifier"><em class="xref py py-obj">SimpleTimeFrequencyEnum</em></span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">SimpleTimeFrequencyEnum</span></code> member corresponding to data frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_points&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of observations for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_days&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of days for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;start_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Start year of the training period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;end_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>End year of the forecast period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;origin_for_time_vars&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Continuous time representation of the first date in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.get_pipeline">
<code class="sig-name descname">get_pipeline</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.get_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pipeline.</p>
<p>Implementation may be overridden by subclass
if a different pipeline is desired.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.estimator</span></code>, <code class="docutils literal notranslate"><span class="pre">self.score_func</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.score_func_greater_is_better</span></code>, <code class="docutils literal notranslate"><span class="pre">self.config</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.regressor_cols</span></code>.</p>
<p>Available parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.df</p></li>
<li><p>self.config</p></li>
<li><p>self.score_func</p></li>
<li><p>self.score_func_greater_is_better</p></li>
<li><p>self.regressor_cols</p></li>
<li><p>self.estimator</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>pipeline</strong> – See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_template_decorator">
<em class="property">static </em><code class="sig-name descname">apply_template_decorator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/silverkite_template.html#SilverkiteTemplate.apply_template_decorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.silverkite_template.SilverkiteTemplate.apply_template_decorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for <code class="docutils literal notranslate"><span class="pre">apply_template_for_pipeline_params</span></code> function.</p>
<p>Overrides the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if config.model_template != &quot;SK&quot;</strong> – </p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="lag-based-template">
<h2>Lag Based Template<a class="headerlink" href="#lag-based-template" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.lag_based_template.</code><code class="sig-name descname">LagBasedTemplate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">estimator</span><span class="p">:</span> <span class="n">greykite.sklearn.estimator.base_forecast_estimator.BaseForecastEstimator</span> <span class="o">=</span> <span class="default_value">LagBasedEstimator()</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/lag_based_template.html#LagBasedTemplate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate" title="Permalink to this definition">¶</a></dt>
<dd><p>A template for :class: <a class="reference internal" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator" title="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LagBasedEstimator</span></code></a>.</p>
<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.allow_model_template_list">
<em class="property">property </em><code class="sig-name descname">allow_model_template_list</code><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.allow_model_template_list" title="Permalink to this definition">¶</a></dt>
<dd><p>LagBasedTemplate does not allow <em class="xref py py-obj">config.model_template</em> to be a list.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.allow_model_components_param_list">
<em class="property">property </em><code class="sig-name descname">allow_model_components_param_list</code><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.allow_model_components_param_list" title="Permalink to this definition">¶</a></dt>
<dd><p>LagBasedTemplate does not allow <em class="xref py py-obj">config.model_components_param</em> to be a list.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.get_regressor_cols">
<code class="sig-name descname">get_regressor_cols</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/lag_based_template.html#LagBasedTemplate.get_regressor_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.get_regressor_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns regressor column names from the model components.
LagBasedTemplate does not support regressors.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_lag_based_model_components_defaults">
<code class="sig-name descname">apply_lag_based_model_components_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_components</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/lag_based_template.html#LagBasedTemplate.apply_lag_based_model_components_defaults"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_lag_based_model_components_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Fills the default values to <code class="docutils literal notranslate"><span class="pre">model_components</span></code> if not provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_components</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or None, default None) – Configuration for <a class="reference internal" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate" title="greykite.framework.templates.lag_based_template.LagBasedTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LagBasedTemplate</span></code></a>.
Should only have values in the “custom” key.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_components</strong> – The provided <code class="docutils literal notranslate"><span class="pre">model_components</span></code> with default values set.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.get_hyperparameter_grid">
<code class="sig-name descname">get_hyperparameter_grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/lag_based_template.html#LagBasedTemplate.get_hyperparameter_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.get_hyperparameter_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns hyperparameter grid.</p>
<p>Implements the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.config</span></code> to generate the hyperparameter grid.</p>
<p>Converts model components into
<a class="reference internal" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator" title="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">LagBasedEstimator</span></code></a>
hyperparameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>hyperparameter_grid</strong> – See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.
The output dictionary values are lists, combined in grid search.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">dict</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_template_for_pipeline_params">
<code class="sig-name descname">apply_template_for_pipeline_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Dict<a class="reference internal" href="../../_modules/greykite/framework/templates/lag_based_template.html#LagBasedTemplate.apply_template_for_pipeline_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_template_for_pipeline_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Explicitly calls the method in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>
to make use of the decorator in this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The time series dataframe with <code class="docutils literal notranslate"><span class="pre">time_col</span></code> and <code class="docutils literal notranslate"><span class="pre">value_col</span></code> and optional regressor columns.</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a>.) – The <code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code> class that includes model training parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pipeline_parameters</strong> – The pipeline parameters consumable by
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_computation_defaults">
<em class="property">static </em><code class="sig-name descname">apply_computation_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">computation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_computation_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default ComputationParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a ComputationParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>computation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationParam</span></code></a> or None) – The ComputationParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>computation</strong> – Valid ComputationParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_evaluation_metric_defaults">
<em class="property">static </em><code class="sig-name descname">apply_evaluation_metric_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evaluation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_evaluation_metric_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default EvaluationMetricParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a EvaluationMetricParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a> or None) – The EvaluationMetricParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation</strong> – Valid EvaluationMetricParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_evaluation_period_defaults">
<em class="property">static </em><code class="sig-name descname">apply_evaluation_period_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evaluation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_evaluation_period_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default EvaluationPeriodParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a EvaluationPeriodParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a> or None) – The EvaluationMetricParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation</strong> – Valid EvaluationPeriodParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_forecast_config_defaults">
<code class="sig-name descname">apply_forecast_config_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_forecast_config_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default Forecast Config values to the given config.
If an expected attribute value is provided, the value is unchanged.
Otherwise the default value for it is used.
Other attributes are untouched.
If the input config is None, it creates a Forecast Config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a> or None) – Forecast configuration if available. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>config</strong> – A valid Forecast Config which contains the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_metadata_defaults">
<em class="property">static </em><code class="sig-name descname">apply_metadata_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metadata</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_metadata_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default MetadataParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a MetadataParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metadata</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetadataParam</span></code></a> or None) – The MetadataParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>metadata</strong> – Valid MetadataParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetadataParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_model_components_defaults">
<em class="property">static </em><code class="sig-name descname">apply_model_components_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_components</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_model_components_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default ModelComponentsParam values to the given object.</p>
<p>Converts None to a ModelComponentsParam object.
Unpacks a list of a single element to the element itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_components</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or None or list of such items) – The ModelComponentsParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_components</strong> – Valid ModelComponentsParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or list of such items</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_model_template_defaults">
<code class="sig-name descname">apply_model_template_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_template</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_model_template_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default model template to the given object.</p>
<p>Unpacks a list of a single element to the element itself.
Sets default value if None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_template</strong> (<em class="xref py py-obj">str</em> or None or <em class="xref py py-obj">list</em> [None, <em class="xref py py-obj">str</em>]) – The model template name.
See valid names in <a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="greykite.framework.templates.model_templates.ModelTemplateEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelTemplateEnum</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_template</strong> – The model template name, with defaults value used if not provided.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_template_decorator">
<em class="property">static </em><code class="sig-name descname">apply_template_decorator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/lag_based_template.html#LagBasedTemplate.apply_template_decorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.apply_template_decorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for <code class="docutils literal notranslate"><span class="pre">apply_template_for_pipeline_params</span></code> function.</p>
<p>Overrides the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if config.model_template != &quot;LAG_BASED&quot;</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.estimator">
<em class="property">property </em><code class="sig-name descname">estimator</code><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>The estimator instance to use as the final step in the pipeline.
An instance of <code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.sklearn.estimator.base_forecast_estimator.BaseForecastEstimator</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.get_forecast_time_properties">
<code class="sig-name descname">get_forecast_time_properties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.get_forecast_time_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns forecast time parameters.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.df</span></code>, <code class="docutils literal notranslate"><span class="pre">self.config</span></code>, <code class="docutils literal notranslate"><span class="pre">self.regressor_cols</span></code>.</p>
<p>Available parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.df</p></li>
<li><p>self.config</p></li>
<li><p>self.score_func</p></li>
<li><p>self.score_func_greater_is_better</p></li>
<li><p>self.regressor_cols</p></li>
<li><p>self.lagged_regressor_cols</p></li>
<li><p>self.estimator</p></li>
<li><p>self.pipeline</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>time_properties</strong> – Time properties dictionary (likely produced by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">get_forecast_time_properties</span></code>)
with keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;period&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Period of each observation (i.e. minimum time between observations, in seconds).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;simple_freq&quot;</span></code><span class="classifier"><em class="xref py py-obj">SimpleTimeFrequencyEnum</em></span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">SimpleTimeFrequencyEnum</span></code> member corresponding to data frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_points&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of observations for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_days&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of days for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;start_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Start year of the training period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;end_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>End year of the forecast period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;origin_for_time_vars&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Continuous time representation of the first date in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.get_lagged_regressor_info">
<code class="sig-name descname">get_lagged_regressor_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.get_lagged_regressor_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns lagged regressor column names and minimal/maximal lag order. The lag order
can be used to check potential imputation in the computation of lags.</p>
<p>Can be overridden by subclass.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>lagged_regressor_info</strong> – A dictionary that includes the lagged regressor column names and maximal/minimal lag order
The keys are:</p>
<blockquote>
<div><dl>
<dt>lagged_regressor_cols<span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</span></dt><dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
</dl>
<p>overall_min_lag_order : <em class="xref py py-obj">int</em> or None
overall_max_lag_order : <em class="xref py py-obj">int</em> or None</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.lag_based_template.LagBasedTemplate.get_pipeline">
<code class="sig-name descname">get_pipeline</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.lag_based_template.LagBasedTemplate.get_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pipeline.</p>
<p>Implementation may be overridden by subclass
if a different pipeline is desired.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.estimator</span></code>, <code class="docutils literal notranslate"><span class="pre">self.score_func</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.score_func_greater_is_better</span></code>, <code class="docutils literal notranslate"><span class="pre">self.config</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.regressor_cols</span></code>.</p>
<p>Available parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.df</p></li>
<li><p>self.config</p></li>
<li><p>self.score_func</p></li>
<li><p>self.score_func_greater_is_better</p></li>
<li><p>self.regressor_cols</p></li>
<li><p>self.estimator</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>pipeline</strong> – See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.estimator.lag_based_estimator.</code><code class="sig-name descname">LagBasedEstimator</code><span class="sig-paren">(</span><em class="sig-param">score_func=&lt;function mean_squared_error&gt;</em>, <em class="sig-param">coverage=None</em>, <em class="sig-param">null_model_params=None</em>, <em class="sig-param">freq: Optional[str] = None</em>, <em class="sig-param">lag_unit: str = 'week'</em>, <em class="sig-param">lags: Optional[Union[int</em>, <em class="sig-param">List[int]]] = None</em>, <em class="sig-param">agg_func: Union[str</em>, <em class="sig-param">callable] = 'mean'</em>, <em class="sig-param">agg_func_params: Optional[dict] = None</em>, <em class="sig-param">uncertainty_dict: Optional[dict] = None</em>, <em class="sig-param">past_df: Optional[pandas.core.frame.DataFrame] = None</em>, <em class="sig-param">series_na_fill_func: Optional[callable] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/lag_based_estimator.html#LagBasedEstimator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>The lag based estimator, using lagged observations with aggregation functions
to forecast the future. This estimator includes the common week-over-week estimation method.</p>
<p>The algorithm support specifying the following:</p>
<blockquote>
<div><dl>
<dt>lag_unit<span class="classifier">the unit to calculate lagged values. One of the values in</span></dt><dd><p><a class="reference internal" href="#greykite.sklearn.estimator.lag_based_estimator.LagUnitEnum" title="greykite.sklearn.estimator.lag_based_estimator.LagUnitEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LagUnitEnum</span></code></a>.</p>
</dd>
<dt>lags<span class="classifier">a list of lags indicating which lagged <code class="docutils literal notranslate"><span class="pre">lag_unit</span></code> data are used in prediction.</span></dt><dd><p>For example, [1, 2] indicating using the past two <code class="docutils literal notranslate"><span class="pre">lag_unit</span></code> same time data.</p>
</dd>
</dl>
<p>agg_func : the aggregation function used over the lagged observations.
agg_func_params : extra parameters used for <code class="docutils literal notranslate"><span class="pre">agg_func</span></code>.</p>
</div></blockquote>
<p>When certain lags are not available, extra data will be extrapolated.
When predicting into the future and future data is not available,
predicted values will be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – The data frequency, used to validate lags.</p></li>
<li><p><strong>lag_unit</strong> (<em class="xref py py-obj">str</em>, default “week”) – The unit to calculate lagged observations.
Available options are in <a class="reference internal" href="#greykite.sklearn.estimator.lag_based_estimator.LagUnitEnum" title="greykite.sklearn.estimator.lag_based_estimator.LagUnitEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LagUnitEnum</span></code></a>.</p></li>
<li><p><strong>lags</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>] or None, default None) – The lags in <code class="docutils literal notranslate"><span class="pre">lag_unit</span></code>’s. [1, 2] indicates using the past two <code class="docutils literal notranslate"><span class="pre">lag_unit</span></code> same time values.
If not provided, the default is to use lag 1 observation only.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">str</em> or callable, default “mean”) – The aggregation functions used over lagged observations.</p></li>
<li><p><strong>agg_func_params</strong> (<em class="xref py py-obj">dict</em> or None, default None) – Extra parameters used for <code class="docutils literal notranslate"><span class="pre">agg_func</span></code>.</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> or None, default None) – How to fit the uncertainty model.
See <code class="xref py py-obj docutils literal notranslate"><span class="pre">UncertaintyMethodEnum</span></code>.
If not provided but <code class="docutils literal notranslate"><span class="pre">coverage</span></code> is given, this falls back to
<code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleConditionalResidualsModel</span></code>.</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – The past data used to append to the training data.
If not provided the past data needed will be interpolated.</p></li>
<li><p><strong>series_na_fill_func</strong> (<em class="xref py py-obj">callable</em> or None, default <em class="xref py py-obj">lambda s: s.bfill().ffill()</em>) – The function to fill NAs when they exist.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.df">
<code class="sig-name descname">df</code><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.df" title="Permalink to this definition">¶</a></dt>
<dd><p>The fitted and interpolated training data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.uncertainty_model">
<code class="sig-name descname">uncertainty_model</code><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.uncertainty_model" title="Permalink to this definition">¶</a></dt>
<dd><p>The trained uncertainty model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>any or <a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.max_lag_order">
<code class="sig-name descname">max_lag_order</code><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.max_lag_order" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum lag order.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.min_lag_order">
<code class="sig-name descname">min_lag_order</code><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.min_lag_order" title="Permalink to this definition">¶</a></dt>
<dd><p>The minimum lag order.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.train_start">
<code class="sig-name descname">train_start</code><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.train_start" title="Permalink to this definition">¶</a></dt>
<dd><p>The training start timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.train_end">
<code class="sig-name descname">train_end</code><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.train_end" title="Permalink to this definition">¶</a></dt>
<dd><p>The training end timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="o">=</span><span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fit_params</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/lag_based_estimator.html#LagBasedEstimator.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the lag based forecast model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries, with timestamp column and value column.
The value column is the response, included in
<code class="docutils literal notranslate"><span class="pre">X</span></code> to allow transformation by <a class="reference external" href="https://scikit-learn.org/0.24/modules/classes.html#module-sklearn.pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline</span></code></a>.</p></li>
<li><p><strong>y</strong> (<em>ignored</em>) – The original timeseries values, ignored.
(The <code class="docutils literal notranslate"><span class="pre">y</span></code> for fitting is included in <code class="docutils literal notranslate"><span class="pre">X</span></code>).</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – Time column name in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – Value column name in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em>) – additional parameters for null model.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Fitted class instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/lag_based_estimator.html#LagBasedEstimator.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates forecast for the dates specified in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column.
Timestamps are the dates for prediction.
Value column, if provided in <code class="docutils literal notranslate"><span class="pre">X</span></code>, is ignored.</p></li>
<li><p><strong>y</strong> (<em>ignored.</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>predictions</strong> –</p>
<p>Forecasted values for the dates in <code class="docutils literal notranslate"><span class="pre">X</span></code>. Columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TIME_COL</span></code>: dates</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_COL</span></code>: predictions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_LOWER_COL</span></code>: lower bound of predictions, optional</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_UPPER_COL</span></code>: upper bound of predictions, optional</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">PREDICTED_LOWER_COL</span></code> and <code class="docutils literal notranslate"><span class="pre">PREDICTED_UPPER_COL</span></code> are present
if <code class="docutils literal notranslate"><span class="pre">self.coverage</span></code> is not None.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/lag_based_estimator.html#LagBasedEstimator.summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>The summary of model.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.fit_uncertainty">
<code class="sig-name descname">fit_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">uncertainty_dict</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></span></em>, <em class="sig-param"><span class="n">fit_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.fit_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the uncertainty model with a given <code class="docutils literal notranslate"><span class="pre">df</span></code> and <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A dataframe representing the data to fit the uncertainty model.</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any]) – <p>The uncertainty model specification. It should have the following keys:</p>
<blockquote>
<div><dl class="simple">
<dt>”uncertainty_method”: a string that is in</dt><dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">UncertaintyMethodEnum</span></code>.</p>
</dd>
</dl>
<p>”params”: a dictionary that includes any additional parameters needed by the uncertainty method.</p>
</div></blockquote>
</p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">fit</span></code> function.</p></li>
<li><p><strong>kwargs</strong> (<em>additional parameters to be fed into the uncertainty method.</em>) – These parameters are from the estimator attributes, not given by user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The function sets <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code> and does not return anything.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deep</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.predict_uncertainty">
<code class="sig-name descname">predict_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">predict_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.predict_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of prediction intervals for <code class="docutils literal notranslate"><span class="pre">df</span></code> based on the predictions
and <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The dataframe to calculate prediction intervals upon.
It should have either <code class="docutils literal notranslate"><span class="pre">self.value_col_</span></code> or
<em class="xref py py-obj">PREDICT_COL</em> which the
prediction interval is based on.</p></li>
<li><p><strong>predict_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">predict</span></code> function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result_df</strong> – The <code class="docutils literal notranslate"><span class="pre">df</span></code> with prediction interval columns.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">sample_weight</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Default scorer for the estimator (Used in GridSearchCV/RandomizedSearchCV if scoring=None)</p>
<p class="rubric">Notes</p>
<p>If null_model_params is not None, returns R2_null_model_score of model error
relative to null model, evaluated by score_func.</p>
<p>If null_model_params is None, returns score_func of the model itself.</p>
<p>By default, grid search (with no <em class="xref py py-obj">scoring</em> parameter) optimizes improvement of <code class="docutils literal notranslate"><span class="pre">score_func</span></code>
against null model.</p>
<p>To optimize a different score function, pass <em class="xref py py-obj">scoring</em> to GridSearchCV/RandomizedSearchCV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Value column, if provided in X, is ignored</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – Actual value, used to compute error</p></li>
<li><p><strong>sample_weight</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – Comparison of predictions against null predictions, according to specified score function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>). The latter have
parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s
possible to update each component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimator instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.sklearn.estimator.lag_based_estimator.LagUnitEnum">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.estimator.lag_based_estimator.</code><code class="sig-name descname">LagUnitEnum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/lag_based_estimator.html#LagUnitEnum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.lag_based_estimator.LagUnitEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the lag units available in
<a class="reference internal" href="#greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator" title="greykite.sklearn.estimator.lag_based_estimator.LagBasedEstimator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LagBasedEstimator</span></code></a>.
The keys are available string names and the values are the corresponding
<code class="xref py py-obj docutils literal notranslate"><span class="pre">dateutil.relativedelta.relativedelta</span></code> objects.</p>
</dd></dl>

</div>
<div class="section" id="multistage-forecast-template">
<h2>Multistage Forecast Template<a class="headerlink" href="#multistage-forecast-template" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.multistage_forecast_template.</code><code class="sig-name descname">MultistageForecastTemplate</code><span class="sig-paren">(</span><em class="sig-param">constants: greykite.framework.templates.multistage_forecast_template_config.MultistageForecastTemplateConstants = &lt;class 'greykite.framework.templates.multistage_forecast_template_config.MultistageForecastTemplateConstants'&gt;</em>, <em class="sig-param">estimator: greykite.sklearn.estimator.base_forecast_estimator.BaseForecastEstimator = MultistageForecastEstimator(forecast_horizon=1</em>, <em class="sig-param">model_configs=[])</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/multistage_forecast_template.html#MultistageForecastTemplate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate" title="Permalink to this definition">¶</a></dt>
<dd><p>The model template for Multistage Forecast Estimator.</p>
<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.constants">
<em class="property">property </em><code class="sig-name descname">constants</code><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.constants" title="Permalink to this definition">¶</a></dt>
<dd><p>Constants used by the template class. Includes the model templates and their default values.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.get_regressor_cols">
<code class="sig-name descname">get_regressor_cols</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/multistage_forecast_template.html#MultistageForecastTemplate.get_regressor_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.get_regressor_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the regressor columns in the model.</p>
<p>Iterates over each submodel to extract the regressor columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>regressor_cols</strong> – A list of the regressor column names used in any of the submodels.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.get_lagged_regressor_info">
<code class="sig-name descname">get_lagged_regressor_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/multistage_forecast_template.html#MultistageForecastTemplate.get_lagged_regressor_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.get_lagged_regressor_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the lagged regressor info for the model</p>
<p>Iterates over each submodel to extract the lagged regressor info.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>lagged_regressor_info</strong> – The combined lagged regressor info from all submodels.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.get_hyperparameter_grid">
<code class="sig-name descname">get_hyperparameter_grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/multistage_forecast_template.html#MultistageForecastTemplate.get_hyperparameter_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.get_hyperparameter_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the hyperparameter grid for the Multistage Forecast Model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>hyperparameter_grid</strong> – hyperparameter_grid for grid search in
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.
The output dictionary values are lists, combined in grid search.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">any</em>]] or <em class="xref py py-obj">list</em> [ <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">any</em>]] ]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.allow_model_template_list">
<em class="property">property </em><code class="sig-name descname">allow_model_template_list</code><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.allow_model_template_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the template accepts a list for <em class="xref py py-obj">config.model_template</em> (bool)</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.allow_model_components_param_list">
<em class="property">property </em><code class="sig-name descname">allow_model_components_param_list</code><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.allow_model_components_param_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the template accepts a list for <em class="xref py py-obj">config.model_components_param</em> (bool)</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_computation_defaults">
<em class="property">static </em><code class="sig-name descname">apply_computation_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">computation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_computation_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default ComputationParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a ComputationParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>computation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationParam</span></code></a> or None) – The ComputationParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>computation</strong> – Valid ComputationParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_evaluation_metric_defaults">
<em class="property">static </em><code class="sig-name descname">apply_evaluation_metric_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evaluation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_evaluation_metric_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default EvaluationMetricParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a EvaluationMetricParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a> or None) – The EvaluationMetricParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation</strong> – Valid EvaluationMetricParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_evaluation_period_defaults">
<em class="property">static </em><code class="sig-name descname">apply_evaluation_period_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evaluation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_evaluation_period_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default EvaluationPeriodParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a EvaluationPeriodParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a> or None) – The EvaluationMetricParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation</strong> – Valid EvaluationPeriodParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_forecast_config_defaults">
<code class="sig-name descname">apply_forecast_config_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_forecast_config_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default Forecast Config values to the given config.
If an expected attribute value is provided, the value is unchanged.
Otherwise the default value for it is used.
Other attributes are untouched.
If the input config is None, it creates a Forecast Config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a> or None) – Forecast configuration if available. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>config</strong> – A valid Forecast Config which contains the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_metadata_defaults">
<em class="property">static </em><code class="sig-name descname">apply_metadata_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metadata</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_metadata_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default MetadataParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a MetadataParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metadata</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetadataParam</span></code></a> or None) – The MetadataParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>metadata</strong> – Valid MetadataParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetadataParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_model_components_defaults">
<em class="property">static </em><code class="sig-name descname">apply_model_components_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_components</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_model_components_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default ModelComponentsParam values to the given object.</p>
<p>Converts None to a ModelComponentsParam object.
Unpacks a list of a single element to the element itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_components</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or None or list of such items) – The ModelComponentsParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_components</strong> – Valid ModelComponentsParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or list of such items</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_model_template_defaults">
<code class="sig-name descname">apply_model_template_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_template</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_model_template_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default model template to the given object.</p>
<p>Unpacks a list of a single element to the element itself.
Sets default value if None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_template</strong> (<em class="xref py py-obj">str</em> or None or <em class="xref py py-obj">list</em> [None, <em class="xref py py-obj">str</em>]) – The model template name.
See valid names in <a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="greykite.framework.templates.model_templates.ModelTemplateEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelTemplateEnum</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_template</strong> – The model template name, with defaults value used if not provided.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_template_decorator">
<em class="property">static </em><code class="sig-name descname">apply_template_decorator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_template_decorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for <code class="docutils literal notranslate"><span class="pre">apply_template_for_pipeline_params</span></code> function.</p>
<p>By default, this applies <code class="docutils literal notranslate"><span class="pre">apply_forecast_config_defaults</span></code> to <code class="docutils literal notranslate"><span class="pre">config</span></code>.</p>
<p>Subclass may override this for pre/post processing of
<code class="docutils literal notranslate"><span class="pre">apply_template_for_pipeline_params</span></code>, such as input validation.
In this case, <code class="docutils literal notranslate"><span class="pre">apply_template_for_pipeline_params</span></code> must also be implemented in the subclass.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_template_for_pipeline_params">
<code class="sig-name descname">apply_template_for_pipeline_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Dict<a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.apply_template_for_pipeline_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements template interface method.
Takes input data and optional configuration parameters
to customize the model. Returns a set of parameters to call
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
<p>See template interface for parameters and return value.</p>
<p>Uses the methods in this class to set:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;regressor_cols&quot;</span></code> : get_regressor_cols()</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lagged_regressor_cols</span></code> : get_lagged_regressor_info()</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;pipeline&quot;</span></code> : get_pipeline()</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;time_properties&quot;</span></code> : get_forecast_time_properties()</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;hyperparameter_grid&quot;</span></code> : get_hyperparameter_grid()</p></li>
</ul>
</div></blockquote>
<p>All other parameters are taken directly from <code class="docutils literal notranslate"><span class="pre">config</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.estimator">
<em class="property">property </em><code class="sig-name descname">estimator</code><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>The estimator instance to use as the final step in the pipeline.
An instance of <code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.sklearn.estimator.base_forecast_estimator.BaseForecastEstimator</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.get_forecast_time_properties">
<code class="sig-name descname">get_forecast_time_properties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.get_forecast_time_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns forecast time parameters.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.df</span></code>, <code class="docutils literal notranslate"><span class="pre">self.config</span></code>, <code class="docutils literal notranslate"><span class="pre">self.regressor_cols</span></code>.</p>
<p>Available parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.df</p></li>
<li><p>self.config</p></li>
<li><p>self.score_func</p></li>
<li><p>self.score_func_greater_is_better</p></li>
<li><p>self.regressor_cols</p></li>
<li><p>self.lagged_regressor_cols</p></li>
<li><p>self.estimator</p></li>
<li><p>self.pipeline</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>time_properties</strong> – Time properties dictionary (likely produced by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">get_forecast_time_properties</span></code>)
with keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;period&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Period of each observation (i.e. minimum time between observations, in seconds).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;simple_freq&quot;</span></code><span class="classifier"><em class="xref py py-obj">SimpleTimeFrequencyEnum</em></span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">SimpleTimeFrequencyEnum</span></code> member corresponding to data frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_points&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of observations for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_days&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of days for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;start_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Start year of the training period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;end_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>End year of the forecast period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;origin_for_time_vars&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Continuous time representation of the first date in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.get_pipeline">
<code class="sig-name descname">get_pipeline</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.multistage_forecast_template.MultistageForecastTemplate.get_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pipeline.</p>
<p>Implementation may be overridden by subclass
if a different pipeline is desired.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.estimator</span></code>, <code class="docutils literal notranslate"><span class="pre">self.score_func</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.score_func_greater_is_better</span></code>, <code class="docutils literal notranslate"><span class="pre">self.config</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.regressor_cols</span></code>.</p>
<p>Available parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.df</p></li>
<li><p>self.config</p></li>
<li><p>self.score_func</p></li>
<li><p>self.score_func_greater_is_better</p></li>
<li><p>self.regressor_cols</p></li>
<li><p>self.estimator</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>pipeline</strong> – See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.estimator.multistage_forecast_estimator.</code><code class="sig-name descname">MultistageForecastEstimator</code><span class="sig-paren">(</span><em class="sig-param">model_configs: List[greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastModelConfig], forecast_horizon: int, freq: Optional[str] = None, uncertainty_dict: Optional[dict] = None, score_func: Callable = &lt;function mean_squared_error&gt;, coverage: Optional[float] = None, null_model_params: Optional[dict] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/multistage_forecast_estimator.html#MultistageForecastEstimator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>The Multistage Forecast Estimator class.
Implements the Multistage forecast method.</p>
<p>The Multistage forecast method allows users to fit multiple stages of
models with each stage in the following fashions:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>subseting: take a subset of data from the end of training data;</p></li>
<li><p>aggregation: aggregate the subset of data into desired frequency;</p></li>
<li><p>training: train a model with the desired estimator and parameters.</p></li>
</ol>
</div></blockquote>
<p>Users can just use one stage model to train on a subset/aggregation of the original data,
or can specify multiple stages, where the later stages will be trained on the fitted
residuals of the previous stages.</p>
<p>This can significantly speed up the training process if the original data is long
and in fine granularity.</p>
<p class="rubric">Notes</p>
<p>The following assumptions or special implementations are made in this class:</p>
<blockquote>
<div><ul class="simple">
<li><p>The actual <code class="docutils literal notranslate"><span class="pre">fit_length</span></code>, the length of data where the fitted values are calculated,
is the longer of <code class="docutils literal notranslate"><span class="pre">train_length</span></code> and <code class="docutils literal notranslate"><span class="pre">fit_length</span></code>. The reason is that there is no
benefit of calculating a shorter period of fitted values. The fitted values are already
available during training (in Silverkite) so there is no loss to calculate fitted values
on a super set of the training data.</p></li>
<li><p>The estimator sorts the <code class="docutils literal notranslate"><span class="pre">model_configs</span></code> according to the <code class="docutils literal notranslate"><span class="pre">train_length</span></code> in descending order.
The corresponding aggregation frequency, aggregation function, fit length,
estimator and parameters will be sorted accordingly.
This is to ensure that we have enough data to use from the previous model
when we fit the next model.</p></li>
<li><p>When calculating the length of training data, the length of past df, etc,
the actual length used may include 1 more period to avoid missing timestamps.
For example, for an AR order of 5, you may see the length of <code class="docutils literal notranslate"><span class="pre">past_df</span></code> to be 6;
or for a train length of “365D”, you may see the actual length to be 366.
This is expected, just to avoid potential missing timestamps after dropping
incomplete aggregation periods.</p></li>
<li><p>Since the models in each stage may not fit on the entire training data,
there could be periods where fitted values are not calculated.
Leading fitted values in the training period may be NA.
These values are ignored when computing evaluation metrics.</p></li>
</ul>
</div></blockquote>
<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.model_configs">
<code class="sig-name descname">model_configs</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.model_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of model configs for Multistage Forecast estimator,
representing the stages in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<code class="xref py py-obj docutils literal notranslate"><span class="pre">MultistageForecastModelConfig</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.forecast_horizon">
<code class="sig-name descname">forecast_horizon</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.forecast_horizon" title="Permalink to this definition">¶</a></dt>
<dd><p>The forecast horizon on the original data frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.freq">
<code class="sig-name descname">freq</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.freq" title="Permalink to this definition">¶</a></dt>
<dd><p>The frequency of the original data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.train_lengths">
<code class="sig-name descname">train_lengths</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.train_lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of training data lengths for the models.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.fit_lengths">
<code class="sig-name descname">fit_lengths</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.fit_lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of fitting data lengths for the models.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.agg_funcs">
<code class="sig-name descname">agg_funcs</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.agg_funcs" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of aggregation functions for the models.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em> or Callable] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.agg_freqs">
<code class="sig-name descname">agg_freqs</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.agg_freqs" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of aggregation frequencies for the models.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.estimators">
<code class="sig-name descname">estimators</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.estimators" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of estimators used in the models.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.estimator_params">
<code class="sig-name descname">estimator_params</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.estimator_params" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of estimator parameters for the estimators.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">dict</em> or None] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.train_lengths_in_seconds">
<code class="sig-name descname">train_lengths_in_seconds</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.train_lengths_in_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of training lengths in seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.fit_lengths_in_seconds">
<code class="sig-name descname">fit_lengths_in_seconds</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.fit_lengths_in_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of fitting lengths in seconds.
If the original <code class="docutils literal notranslate"><span class="pre">fit_length</span></code> is None or is shorter than the corresponding
<code class="docutils literal notranslate"><span class="pre">train_length</span></code>, it will be replaced by the corresponding <code class="docutils literal notranslate"><span class="pre">train_length</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.max_ar_orders">
<code class="sig-name descname">max_ar_orders</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.max_ar_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of maximum AR orders in the models.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.data_freq_in_seconds">
<code class="sig-name descname">data_freq_in_seconds</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.data_freq_in_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>The data frequency in seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.num_points_per_agg_freqs">
<code class="sig-name descname">num_points_per_agg_freqs</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.num_points_per_agg_freqs" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of data points in each aggregation frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.models">
<code class="sig-name descname">models</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.models" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of model instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.fit_df">
<code class="sig-name descname">fit_df</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.fit_df" title="Permalink to this definition">¶</a></dt>
<dd><p>The prediction df.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.train_end">
<code class="sig-name descname">train_end</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.train_end" title="Permalink to this definition">¶</a></dt>
<dd><p>The train end timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.forecast_horizons">
<code class="sig-name descname">forecast_horizons</code><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.forecast_horizons" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of forecast horizons for all models in terms of the aggregated frequencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="o">=</span><span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fit_params</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/multistage_forecast_estimator.html#MultistageForecastEstimator.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits <code class="docutils literal notranslate"><span class="pre">MultistageForecast</span></code> forecast model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries, with timestamp column,
value column, and any additional regressors.
The value column is the response, included in
<code class="docutils literal notranslate"><span class="pre">X</span></code> to allow transformation by <a class="reference external" href="https://scikit-learn.org/0.24/modules/classes.html#module-sklearn.pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline</span></code></a>.</p></li>
<li><p><strong>y</strong> (<em>ignored</em>) – The original timeseries values, ignored.
(The <code class="docutils literal notranslate"><span class="pre">y</span></code> for fitting is included in <code class="docutils literal notranslate"><span class="pre">X</span></code>).</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – Time column name in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – Value column name in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em>) – additional parameters for null model.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Fitted model is stored in <code class="docutils literal notranslate"><span class="pre">self.model_dict</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/multistage_forecast_estimator.html#MultistageForecastEstimator.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates forecast for the dates specified in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Timestamps are the dates for prediction.
Value column, if provided in <code class="docutils literal notranslate"><span class="pre">X</span></code>, is ignored.</p></li>
<li><p><strong>y</strong> (<em>ignored.</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>predictions</strong> –</p>
<p>Forecasted values for the dates in <code class="docutils literal notranslate"><span class="pre">X</span></code>. Columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TIME_COL</span></code>: dates</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_COL</span></code>: predictions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_LOWER_COL</span></code>: lower bound of predictions, optional</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_UPPER_COL</span></code>: upper bound of predictions, optional</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">PREDICTED_LOWER_COL</span></code> and <code class="docutils literal notranslate"><span class="pre">PREDICTED_UPPER_COL</span></code> are present
if <code class="docutils literal notranslate"><span class="pre">self.coverage</span></code> is not None.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.plot_components">
<code class="sig-name descname">plot_components</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/multistage_forecast_estimator.html#MultistageForecastEstimator.plot_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.plot_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes component plots.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>figs</strong> – A list of figures from each model.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">list</em> [<a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a> or None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/multistage_forecast_estimator.html#MultistageForecastEstimator.summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets model summaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>summaries</strong> – A list of model summaries from each model.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">list</em> [<a class="reference internal" href="#greykite.algo.common.model_summary.ModelSummary" title="greykite.algo.common.model_summary.ModelSummary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelSummary</span></code></a> or None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.fit_uncertainty">
<code class="sig-name descname">fit_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">uncertainty_dict</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></span></em>, <em class="sig-param"><span class="n">fit_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.fit_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the uncertainty model with a given <code class="docutils literal notranslate"><span class="pre">df</span></code> and <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A dataframe representing the data to fit the uncertainty model.</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any]) – <p>The uncertainty model specification. It should have the following keys:</p>
<blockquote>
<div><dl class="simple">
<dt>”uncertainty_method”: a string that is in</dt><dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">UncertaintyMethodEnum</span></code>.</p>
</dd>
</dl>
<p>”params”: a dictionary that includes any additional parameters needed by the uncertainty method.</p>
</div></blockquote>
</p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">fit</span></code> function.</p></li>
<li><p><strong>kwargs</strong> (<em>additional parameters to be fed into the uncertainty method.</em>) – These parameters are from the estimator attributes, not given by user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The function sets <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code> and does not return anything.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deep</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.predict_uncertainty">
<code class="sig-name descname">predict_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">predict_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.predict_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of prediction intervals for <code class="docutils literal notranslate"><span class="pre">df</span></code> based on the predictions
and <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The dataframe to calculate prediction intervals upon.
It should have either <code class="docutils literal notranslate"><span class="pre">self.value_col_</span></code> or
<em class="xref py py-obj">PREDICT_COL</em> which the
prediction interval is based on.</p></li>
<li><p><strong>predict_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">predict</span></code> function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result_df</strong> – The <code class="docutils literal notranslate"><span class="pre">df</span></code> with prediction interval columns.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">sample_weight</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Default scorer for the estimator (Used in GridSearchCV/RandomizedSearchCV if scoring=None)</p>
<p class="rubric">Notes</p>
<p>If null_model_params is not None, returns R2_null_model_score of model error
relative to null model, evaluated by score_func.</p>
<p>If null_model_params is None, returns score_func of the model itself.</p>
<p>By default, grid search (with no <em class="xref py py-obj">scoring</em> parameter) optimizes improvement of <code class="docutils literal notranslate"><span class="pre">score_func</span></code>
against null model.</p>
<p>To optimize a different score function, pass <em class="xref py py-obj">scoring</em> to GridSearchCV/RandomizedSearchCV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Value column, if provided in X, is ignored</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – Actual value, used to compute error</p></li>
<li><p><strong>sample_weight</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – Comparison of predictions against null predictions, according to specified score function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.multistage_forecast_estimator.MultistageForecastEstimator.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>). The latter have
parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s
possible to update each component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimator instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="prophet-template">
<h2>Prophet Template<a class="headerlink" href="#prophet-template" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.prophet_template.</code><code class="sig-name descname">ProphetTemplate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">estimator</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>greykite.sklearn.estimator.base_forecast_estimator.BaseForecastEstimator<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/prophet_template.html#ProphetTemplate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate" title="Permalink to this definition">¶</a></dt>
<dd><p>A template for <a class="reference internal" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator" title="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProphetEstimator</span></code></a>.</p>
<p>Takes input data and optional configuration parameters
to customize the model. Returns a set of parameters to call
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
<p class="rubric">Notes</p>
<p>The attributes of a <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a> for
<a class="reference internal" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator" title="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProphetEstimator</span></code></a> are:</p>
<blockquote>
<div><dl>
<dt>computation_param: <em class="xref py py-obj">ComputationParam</em> or None, default None</dt><dd><p>How to compute the result. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ComputationParam</span></code></a>.</p>
</dd>
<dt>coverage: <em class="xref py py-obj">float</em> or None, default None</dt><dd><p>Intended coverage of the prediction bands (0.0 to 1.0)
If None, the upper/lower predictions are not returned
Same as coverage in <code class="docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></p>
</dd>
<dt>evaluation_metric_param: <em class="xref py py-obj">EvaluationMetricParam</em> or None, default None</dt><dd><p>What metrics to evaluate. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a>.</p>
</dd>
<dt>evaluation_period_param: <em class="xref py py-obj">EvaluationPeriodParam</em> or None, default None</dt><dd><p>How to split data for evaluation. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a>.</p>
</dd>
<dt>forecast_horizon: <em class="xref py py-obj">int</em> or None, default None</dt><dd><p>Number of periods to forecast into the future. Must be &gt; 0
If None, default is determined from input data frequency
Same as forecast_horizon in <em class="xref py py-obj">forecast_pipeline</em></p>
</dd>
<dt>metadata_param: <em class="xref py py-obj">MetadataParam</em> or None, default None</dt><dd><p>Information about the input data. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetadataParam</span></code></a>.</p>
</dd>
<dt>model_components_param: <code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code> or None, default None</dt><dd><p>Parameters to tune the model. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>.
The fields are dictionaries with the following items.</p>
<dl>
<dt>seasonality: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Seasonality config dictionary, with the following optional keys.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;seasonality_mode&quot;</span></code>: <em class="xref py py-obj">str</em> or None or list of such values for grid search</dt><dd><p>Can be ‘additive’ (default) or ‘multiplicative’.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;seasonality_prior_scale&quot;</span></code>: <em class="xref py py-obj">float</em> or None or list of such values for grid search</dt><dd><p>Parameter modulating the strength of the seasonality model.
Larger values allow the model to fit larger seasonal fluctuations, smaller values dampen the seasonality.
Specify for individual seasonalities using add_seasonality_dict.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;yearly_seasonality&quot;</span></code>: <em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em> or list of such values for grid search, default ‘auto’</dt><dd><p>Determines the yearly seasonality
Can be ‘auto’, True, False, or a number of Fourier terms to generate.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;weekly_seasonality&quot;</span></code>: <em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em> or list of such values for grid search, default ‘auto’</dt><dd><p>Determines the weekly seasonality
Can be ‘auto’, True, False, or a number of Fourier terms to generate.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;daily_seasonality&quot;</span></code>: <em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em> or list of such values for grid search, default ‘auto’</dt><dd><p>Determines the daily seasonality
Can be ‘auto’, True, False, or a number of Fourier terms to generate.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;add_seasonality_dict&quot;</span></code>: <em class="xref py py-obj">dict</em> or None or list of such values for grid search</dt><dd><p>dict of custom seasonality parameters to be added to the model, default=None
Key is the seasonality component name e.g. ‘monthly’; parameters are specified via dict.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">prophet_estimator</span></code> for details.</p>
</dd>
</dl>
</dd>
<dt>growth: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Specifies the growth parameter configuration.
Dictionary with the following optional key:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;growth_term&quot;</span></code>: <em class="xref py py-obj">str</em> or None or list of such values for grid search</dt><dd><p>How to model the growth. Valid options are “linear” and “logistic”
Specify a linear or logistic trend, these terms have their origin at the train start date.</p>
</dd>
</dl>
</dd>
<dt>events: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Holiday/events configuration dictionary with the following optional keys:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;holiday_lookup_countries&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or “auto” or None</dt><dd><p>Which countries’ holidays to include. Must contain all the holidays you intend to model.
If “auto”, uses a default list of countries with a good coverage of global holidays.
If None or an empty list, no holidays are modeled.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;holidays_prior_scale&quot;</span></code>: <em class="xref py py-obj">float</em> or None or list of such values for grid search, default 10.0</dt><dd><p>Modulates the strength of the holiday effect.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;holiday_pre_num_days&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>] or None, default 2</dt><dd><p>Model holiday effects for holiday_pre_num_days days before the holiday.
Grid search is not supported. Must be a list with one element or None.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;holiday_post_num_days&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>] or None, default 2</dt><dd><p>Model holiday effects for holiday_post_num_days days after the holiday
Grid search is not supported. Must be a list with one element or None.</p>
</dd>
</dl>
</dd>
<dt>changepoints: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Specifies the changepoint configuration. Dictionary with the following
optional keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;changepoint_prior_scale&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em> or None or list of such values for grid search, default 0.05</span></dt><dd><p>Parameter modulating the flexibility of the automatic changepoint selection. Large values will allow many
changepoints, small values will allow few changepoints.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;changepoints&quot;</span></code><span class="classifier"><em class="xref py py-obj">list</em> [<a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>] or None or list of such values for grid search, default None</span></dt><dd><p>List of dates at which to include potential changepoints. If not specified,
potential changepoints are selected automatically.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;n_changepoints&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em> or None or list of such values for grid search, default 25</span></dt><dd><p>Number of potential changepoints to include. Not used if input <em class="xref py py-obj">changepoints</em> is supplied.
If <em class="xref py py-obj">changepoints</em> is not supplied, then n_changepoints potential changepoints are selected uniformly from
the first <em class="xref py py-obj">changepoint_range</em> proportion of the history.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;changepoint_range&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em> or None or list of such values for grid search, default 0.8</span></dt><dd><p>Proportion of history in which trend changepoints will be estimated. Permitted values: (0,1]
Not used if input <em class="xref py py-obj">changepoints</em> is supplied.</p>
</dd>
</dl>
</dd>
<dt>regressors: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Specifies the regressors to include in the model (e.g. macro-economic factors).
Dictionary with the following optional keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;add_regressor_dict&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict</em> or None or list of such values for grid search, default None</span></dt><dd><p>Dictionary of extra regressors to be modeled.
See <a class="reference internal" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator" title="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProphetEstimator</span></code></a> for details.</p>
</dd>
</dl>
</dd>
<dt>uncertainty: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Specifies the uncertainty configuration. A dictionary with the following optional keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;mcmc_samples&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em> or None or list of such values for grid search, default 0</span></dt><dd><p>if greater than 0, will do full Bayesian inference with the specified number of MCMC samples.
If 0, will do MAP estimation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;uncertainty_samples&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em> or None or list of such values for grid search, default 1000</span></dt><dd><p>Number of simulated draws used to estimate
uncertainty intervals. Setting this value to 0 or False will disable
uncertainty estimation and speed up the calculation.</p>
</dd>
</dl>
</dd>
<dt>hyperparameter_override: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None]</dt><dd><p>After the above model components are used to create a hyperparameter grid, the result is
updated by this dictionary, to create new keys or override existing ones.
Allows for complete customization of the grid search.</p>
<p>Keys should have format <code class="docutils literal notranslate"><span class="pre">{named_step}__{parameter_name}</span></code> for the named steps of the
<a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a> returned by this function. See <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a>.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hyperparameter_override</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;estimator__yearly_seasonality&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
    <span class="s2">&quot;estimator__seasonality_prior_scale&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">],</span>
    <span class="s2">&quot;input__response__null__impute_algorithm&quot;</span><span class="p">:</span> <span class="s2">&quot;ts_interpolate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;input__response__null__impute_params&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">]},</span>
    <span class="s2">&quot;input__regressors_numeric__normalize__normalize_algorithm&quot;</span><span class="p">:</span> <span class="s2">&quot;RobustScaler&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If a list of dictionaries, grid search will be done for each dictionary in the list.
Each dictionary in the list override the defaults. This enables grid search
over specific combinations of parameters to reduce the search space.</p>
<blockquote>
<div><ul class="simple">
<li><p>For example, the first dictionary could define combinations of parameters for a
“complex” model, and the second dictionary could define combinations of parameters
for a “simple” model, to prevent mixed combinations of simple and complex.</p></li>
<li><p>Or the first dictionary could grid search over fit algorithm, and the second dictionary
could use a single fit algorithm and grid search over seasonality.</p></li>
</ul>
</div></blockquote>
<p>The result is passed as the <code class="docutils literal notranslate"><span class="pre">param_distributions</span></code> parameter
to <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.model_selection.RandomizedSearchCV</span></code></a>.</p>
</dd>
<dt>autoregression: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Ignored. Prophet template does not support autoregression.</p>
</dd>
<dt>lagged_regressors: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Ignored. Prophet template does not support lagged regressors.</p>
</dd>
<dt>custom: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Ignored. There are no custom options.</p>
</dd>
</dl>
</dd>
<dt>model_template: <em class="xref py py-obj">str</em></dt><dd><p>This class only accepts “PROPHET”.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py attribute">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.DEFAULT_MODEL_TEMPLATE">
<code class="sig-name descname">DEFAULT_MODEL_TEMPLATE</code><em class="property"> = 'PROPHET'</em><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.DEFAULT_MODEL_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd><p>The default model template. See <a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="greykite.framework.templates.model_templates.ModelTemplateEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelTemplateEnum</span></code></a>.
Uses a string to avoid circular imports.
Overrides the value from <code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfigDefaults</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.HOLIDAY_LOOKUP_COUNTRIES_AUTO">
<code class="sig-name descname">HOLIDAY_LOOKUP_COUNTRIES_AUTO</code><em class="property"> = ('UnitedStates', 'UnitedKingdom', 'India', 'France', 'China')</em><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.HOLIDAY_LOOKUP_COUNTRIES_AUTO" title="Permalink to this definition">¶</a></dt>
<dd><p>Default holiday countries to use if countries=’auto’</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.allow_model_template_list">
<em class="property">property </em><code class="sig-name descname">allow_model_template_list</code><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.allow_model_template_list" title="Permalink to this definition">¶</a></dt>
<dd><p>ProphetTemplate does not allow <em class="xref py py-obj">config.model_template</em> to be a list.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.allow_model_components_param_list">
<em class="property">property </em><code class="sig-name descname">allow_model_components_param_list</code><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.allow_model_components_param_list" title="Permalink to this definition">¶</a></dt>
<dd><p>ProphetTemplate does not allow <em class="xref py py-obj">config.model_components_param</em> to be a list.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.get_prophet_holidays">
<code class="sig-name descname">get_prophet_holidays</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">year_list</span></em>, <em class="sig-param"><span class="n">countries</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">lower_window</span><span class="o">=</span><span class="default_value">- 2</span></em>, <em class="sig-param"><span class="n">upper_window</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/prophet_template.html#ProphetTemplate.get_prophet_holidays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.get_prophet_holidays" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates holidays for Prophet model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year_list</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>]) – List of years for selecting the holidays across given countries.</p></li>
<li><p><strong>countries</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or “auto” or None, default “auto”) – <p>Countries for selecting holidays.</p>
<ul>
<li><p>If “auto”, uses a default list of countries with a good coverage of global holidays.</p></li>
<li><p>If a list, a list of country names.</p></li>
<li><p>If None, the function returns None.</p></li>
</ul>
</p></li>
<li><p><strong>lower_window</strong> (<em class="xref py py-obj">int</em> or None, default -2) – Negative integer. Model holiday effects for given number of days before the holiday.</p></li>
<li><p><strong>upper_window</strong> (<em class="xref py py-obj">int</em> or None, default 2) – Positive integer. Model holiday effects for given number of days after the holiday.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>holidays</strong> – holidays dataframe to pass to Prophet’s <code class="xref py py-obj docutils literal notranslate"><span class="pre">holidays</span></code> argument.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">None</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">to</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">None</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.get_regressor_cols">
<code class="sig-name descname">get_regressor_cols</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/prophet_template.html#ProphetTemplate.get_regressor_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.get_regressor_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns regressor column names.</p>
<p>Implements the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>regressor_cols</strong> – The names of regressor columns used in any hyperparameter set
requested by <code class="docutils literal notranslate"><span class="pre">model_components</span></code>.
None if there are no regressors.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.apply_prophet_model_components_defaults">
<code class="sig-name descname">apply_prophet_model_components_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_components</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_properties</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/prophet_template.html#ProphetTemplate.apply_prophet_model_components_defaults"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.apply_prophet_model_components_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets default values for <code class="docutils literal notranslate"><span class="pre">model_components</span></code>.</p>
<p>Called by <code class="docutils literal notranslate"><span class="pre">get_hyperparameter_grid</span></code> after <code class="docutils literal notranslate"><span class="pre">time_properties`</span> <span class="pre">is</span> <span class="pre">defined.</span>
<span class="pre">Requires</span> <span class="pre">``time_properties</span></code> as well as <code class="docutils literal notranslate"><span class="pre">model_components</span></code>
so we do not simply override
<code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_model_components_defaults</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_components</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or None, default None) – Configuration of model growth, seasonality, events, etc.
See the docstring of this class for details.</p></li>
<li><p><strong>time_properties</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, default None) – <p>Time properties dictionary (likely produced by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">get_forecast_time_properties</span></code>)
with keys:</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;period&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Period of each observation (i.e. minimum time between observations, in seconds).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;simple_freq&quot;</span></code><span class="classifier"><em class="xref py py-obj">SimpleTimeFrequencyEnum</em></span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">SimpleTimeFrequencyEnum</span></code> member corresponding to data frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_points&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of observations for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_days&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of days for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;start_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Start year of the training period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;end_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>End year of the forecast period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;origin_for_time_vars&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Continuous time representation of the first date in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</dd>
</dl>
</div></blockquote>
<p>If None, start_year is set to 2015 and end_year to 2030.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_components</strong> – The provided <code class="docutils literal notranslate"><span class="pre">model_components</span></code> with default values set</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.get_hyperparameter_grid">
<code class="sig-name descname">get_hyperparameter_grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/prophet_template.html#ProphetTemplate.get_hyperparameter_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.get_hyperparameter_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns hyperparameter grid.</p>
<p>Implements the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.time_properties</span></code> and <code class="docutils literal notranslate"><span class="pre">self.config</span></code> to generate the hyperparameter grid.</p>
<p>Converts model components and time properties into
<a class="reference internal" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator" title="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProphetEstimator</span></code></a>
hyperparameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>hyperparameter_grid</strong> – <a class="reference internal" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator" title="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProphetEstimator</span></code></a>
hyperparameters.</p>
<p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.
The output dictionary values are lists, combined in grid search.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">any</em>]] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.apply_computation_defaults">
<em class="property">static </em><code class="sig-name descname">apply_computation_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">computation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.apply_computation_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default ComputationParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a ComputationParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>computation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationParam</span></code></a> or None) – The ComputationParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>computation</strong> – Valid ComputationParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.apply_evaluation_metric_defaults">
<em class="property">static </em><code class="sig-name descname">apply_evaluation_metric_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evaluation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.apply_evaluation_metric_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default EvaluationMetricParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a EvaluationMetricParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a> or None) – The EvaluationMetricParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation</strong> – Valid EvaluationMetricParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.apply_evaluation_period_defaults">
<em class="property">static </em><code class="sig-name descname">apply_evaluation_period_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evaluation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.apply_evaluation_period_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default EvaluationPeriodParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a EvaluationPeriodParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a> or None) – The EvaluationMetricParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation</strong> – Valid EvaluationPeriodParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.apply_forecast_config_defaults">
<code class="sig-name descname">apply_forecast_config_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.apply_forecast_config_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default Forecast Config values to the given config.
If an expected attribute value is provided, the value is unchanged.
Otherwise the default value for it is used.
Other attributes are untouched.
If the input config is None, it creates a Forecast Config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a> or None) – Forecast configuration if available. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>config</strong> – A valid Forecast Config which contains the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.apply_metadata_defaults">
<em class="property">static </em><code class="sig-name descname">apply_metadata_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metadata</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.apply_metadata_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default MetadataParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a MetadataParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metadata</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetadataParam</span></code></a> or None) – The MetadataParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>metadata</strong> – Valid MetadataParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetadataParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.apply_model_components_defaults">
<em class="property">static </em><code class="sig-name descname">apply_model_components_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_components</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.apply_model_components_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default ModelComponentsParam values to the given object.</p>
<p>Converts None to a ModelComponentsParam object.
Unpacks a list of a single element to the element itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_components</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or None or list of such items) – The ModelComponentsParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_components</strong> – Valid ModelComponentsParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or list of such items</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.apply_model_template_defaults">
<code class="sig-name descname">apply_model_template_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_template</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.apply_model_template_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default model template to the given object.</p>
<p>Unpacks a list of a single element to the element itself.
Sets default value if None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_template</strong> (<em class="xref py py-obj">str</em> or None or <em class="xref py py-obj">list</em> [None, <em class="xref py py-obj">str</em>]) – The model template name.
See valid names in <a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="greykite.framework.templates.model_templates.ModelTemplateEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelTemplateEnum</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_template</strong> – The model template name, with defaults value used if not provided.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.estimator">
<em class="property">property </em><code class="sig-name descname">estimator</code><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>The estimator instance to use as the final step in the pipeline.
An instance of <code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.sklearn.estimator.base_forecast_estimator.BaseForecastEstimator</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.get_forecast_time_properties">
<code class="sig-name descname">get_forecast_time_properties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.get_forecast_time_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns forecast time parameters.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.df</span></code>, <code class="docutils literal notranslate"><span class="pre">self.config</span></code>, <code class="docutils literal notranslate"><span class="pre">self.regressor_cols</span></code>.</p>
<p>Available parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.df</p></li>
<li><p>self.config</p></li>
<li><p>self.score_func</p></li>
<li><p>self.score_func_greater_is_better</p></li>
<li><p>self.regressor_cols</p></li>
<li><p>self.lagged_regressor_cols</p></li>
<li><p>self.estimator</p></li>
<li><p>self.pipeline</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>time_properties</strong> – Time properties dictionary (likely produced by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">get_forecast_time_properties</span></code>)
with keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;period&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Period of each observation (i.e. minimum time between observations, in seconds).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;simple_freq&quot;</span></code><span class="classifier"><em class="xref py py-obj">SimpleTimeFrequencyEnum</em></span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">SimpleTimeFrequencyEnum</span></code> member corresponding to data frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_points&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of observations for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_days&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of days for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;start_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Start year of the training period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;end_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>End year of the forecast period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;origin_for_time_vars&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Continuous time representation of the first date in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.get_lagged_regressor_info">
<code class="sig-name descname">get_lagged_regressor_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.get_lagged_regressor_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns lagged regressor column names and minimal/maximal lag order. The lag order
can be used to check potential imputation in the computation of lags.</p>
<p>Can be overridden by subclass.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>lagged_regressor_info</strong> – A dictionary that includes the lagged regressor column names and maximal/minimal lag order
The keys are:</p>
<blockquote>
<div><dl>
<dt>lagged_regressor_cols<span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</span></dt><dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
</dl>
<p>overall_min_lag_order : <em class="xref py py-obj">int</em> or None
overall_max_lag_order : <em class="xref py py-obj">int</em> or None</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.get_pipeline">
<code class="sig-name descname">get_pipeline</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.get_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pipeline.</p>
<p>Implementation may be overridden by subclass
if a different pipeline is desired.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.estimator</span></code>, <code class="docutils literal notranslate"><span class="pre">self.score_func</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.score_func_greater_is_better</span></code>, <code class="docutils literal notranslate"><span class="pre">self.config</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.regressor_cols</span></code>.</p>
<p>Available parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.df</p></li>
<li><p>self.config</p></li>
<li><p>self.score_func</p></li>
<li><p>self.score_func_greater_is_better</p></li>
<li><p>self.regressor_cols</p></li>
<li><p>self.estimator</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>pipeline</strong> – See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.apply_template_for_pipeline_params">
<code class="sig-name descname">apply_template_for_pipeline_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Dict<a class="reference internal" href="../../_modules/greykite/framework/templates/prophet_template.html#ProphetTemplate.apply_template_for_pipeline_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.apply_template_for_pipeline_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Explicitly calls the method in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>
to make use of the decorator in this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The time series dataframe with <code class="docutils literal notranslate"><span class="pre">time_col</span></code> and <code class="docutils literal notranslate"><span class="pre">value_col</span></code> and optional regressor columns.</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a>.) – The <code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code> class that includes model training parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pipeline_parameters</strong> – The pipeline parameters consumable by
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.prophet_template.ProphetTemplate.apply_template_decorator">
<em class="property">static </em><code class="sig-name descname">apply_template_decorator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/prophet_template.html#ProphetTemplate.apply_template_decorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.prophet_template.ProphetTemplate.apply_template_decorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for <code class="docutils literal notranslate"><span class="pre">apply_template_for_pipeline_params</span></code> function.</p>
<p>Overrides the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if config.model_template != &quot;PROPHET&quot;</strong> – </p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.estimator.prophet_estimator.</code><code class="sig-name descname">ProphetEstimator</code><span class="sig-paren">(</span><em class="sig-param">score_func=&lt;function mean_squared_error&gt;</em>, <em class="sig-param">coverage=0.8</em>, <em class="sig-param">null_model_params=None</em>, <em class="sig-param">growth='linear'</em>, <em class="sig-param">changepoints=None</em>, <em class="sig-param">n_changepoints=25</em>, <em class="sig-param">changepoint_range=0.8</em>, <em class="sig-param">yearly_seasonality='auto'</em>, <em class="sig-param">weekly_seasonality='auto'</em>, <em class="sig-param">daily_seasonality='auto'</em>, <em class="sig-param">holidays=None</em>, <em class="sig-param">seasonality_mode='additive'</em>, <em class="sig-param">seasonality_prior_scale=10.0</em>, <em class="sig-param">holidays_prior_scale=10.0</em>, <em class="sig-param">changepoint_prior_scale=0.05</em>, <em class="sig-param">mcmc_samples=0</em>, <em class="sig-param">uncertainty_samples=1000</em>, <em class="sig-param">add_regressor_dict=None</em>, <em class="sig-param">add_seasonality_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/prophet_estimator.html#ProphetEstimator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for Facebook Prophet model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score_func</strong> (<em>callable</em>) – see BaseForecastEstimator</p></li>
<li><p><strong>coverage</strong> (<em>float between</em><em> [</em><em>0.0</em><em>, </em><em>1.0</em><em>]</em>) – see BaseForecastEstimator</p></li>
<li><p><strong>null_model_params</strong> (<em>dict with arguments to define DummyRegressor null model</em><em>, </em><em>optional</em><em>, </em><em>default=None</em>) – see BaseForecastEstimator</p></li>
<li><p><strong>add_regressor_dict</strong> (<em>dictionary of extra regressors to be added to the model</em><em>, </em><em>optional</em><em>, </em><em>default=None</em>) – <p>These should be available for training and entire prediction interval.</p>
<p>Dictionary format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">add_regressor_dict</span><span class="o">=</span><span class="p">{</span>  <span class="c1"># we can add as many regressors as we want, in the following format</span>
    <span class="s2">&quot;reg_col1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;prior_scale&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;standardize&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s1">&#39;additive&#39;</span>
    <span class="p">},</span>
    <span class="s2">&quot;reg_col2&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;prior_scale&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
        <span class="s2">&quot;standardize&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s1">&#39;multiplicative&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>add_seasonality_dict</strong> (<em>dict of custom seasonality parameters to be added to the model</em><em>, </em><em>optional</em><em>, </em><em>default=None</em>) – <p>parameter details: <a class="reference external" href="https://github.com/facebook/prophet/blob/master/python/prophet/forecaster.py">https://github.com/facebook/prophet/blob/master/python/prophet/forecaster.py</a> - refer to
add_seasonality() function.
Key is the seasonality component name e.g. ‘monthly’; parameters are specified via dict.</p>
<p>Dictionary format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">add_seasonality_dict</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;monthly&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="mf">30.5</span><span class="p">,</span>
        <span class="s1">&#39;fourier_order&#39;</span><span class="p">:</span> <span class="mi">5</span>
    <span class="p">},</span>
    <span class="s1">&#39;weekly&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
        <span class="s1">&#39;fourier_order&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
        <span class="s1">&#39;prior_scale&#39;</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">,</span>
        <span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="s1">&#39;additive&#39;</span><span class="p">,</span>
        <span class="s1">&#39;condition_name&#39;</span><span class="p">:</span> <span class="s1">&#39;condition_col&#39;</span>  <span class="c1"># takes a bool column in df with True/False values. This means that</span>
        <span class="c1"># the seasonality will only be applied to dates where the condition_name column is True.</span>
    <span class="p">},</span>
    <span class="s1">&#39;yearly&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="mf">365.25</span><span class="p">,</span>
        <span class="s1">&#39;fourier_order&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;prior_scale&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
        <span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="s1">&#39;additive&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note: If there is a conflict in built-in and custom seasonality e.g. both have “yearly”, then custom seasonality
will be used and Model will throw a warning such as:
“<a class="reference external" href="INFO:prophet:Found">INFO:prophet:Found</a> custom seasonality named “yearly”, disabling built-in yearly seasonality.”</p>
</p></li>
<li><p><strong>kwargs</strong> (<em>additional parameters</em>) – <p>Other parameters are the same as Prophet model, with one exception:
<code class="docutils literal notranslate"><span class="pre">interval_width</span></code> is specified by <code class="docutils literal notranslate"><span class="pre">coverage</span></code>.</p>
<p>See source code <code class="docutils literal notranslate"><span class="pre">__init__</span></code> for the parameter names, and refer to
Prophet documentation for a description:</p>
<blockquote>
<div><ul>
<li><p><a class="reference external" href="https://facebook.github.io/prophet/docs/quick_start.html">https://facebook.github.io/prophet/docs/quick_start.html</a></p></li>
<li><p><a class="reference external" href="https://github.com/facebook/prophet/blob/master/python/prophet/forecaster.py">https://github.com/facebook/prophet/blob/master/python/prophet/forecaster.py</a></p></li>
</ul>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.model">
<code class="sig-name descname">model</code><a class="headerlink" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Prophet model object</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">Prophet</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.forecast">
<code class="sig-name descname">forecast</code><a class="headerlink" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Output of predict method of <code class="docutils literal notranslate"><span class="pre">Prophet</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="o">=</span><span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fit_params</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/prophet_estimator.html#ProphetEstimator.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits prophet model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries, with timestamp column,
value column, and any additional regressors.
The value column is the response, included in
X to allow transformation by <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a></p></li>
<li><p><strong>y</strong> (<em>ignored</em>) – The original timeseries values, ignored.
(The y for fitting is included in <code class="docutils literal notranslate"><span class="pre">X</span></code>.)</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – Time column name in <code class="docutils literal notranslate"><span class="pre">X</span></code></p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – Value column name in <code class="docutils literal notranslate"><span class="pre">X</span></code></p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em>) – additional parameters for null model</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Fitted model is stored in <code class="docutils literal notranslate"><span class="pre">self.model</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/prophet_estimator.html#ProphetEstimator.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates forecast for dates specified in <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Timestamps are the dates for prediction.
Value column, if provided in X, is ignored.</p></li>
<li><p><strong>y</strong> (<em>ignored</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>predictions</strong> –</p>
<p>Forecasted values for the dates in <code class="docutils literal notranslate"><span class="pre">X</span></code>. Columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>TIME_COL dates</p></li>
<li><p>PREDICTED_COL predictions</p></li>
<li><p>PREDICTED_LOWER_COL lower bound of predictions, optional</p></li>
<li><p>PREDICTED_UPPER_COL upper bound of predictions, optional</p></li>
<li><p>[other columns], optional</p></li>
</ul>
</div></blockquote>
<p>PREDICTED_LOWER_COL and PREDICTED_UPPER_COL are present iff coverage is not None</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/prophet_estimator.html#ProphetEstimator.summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints input parameters and Prophet model parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>log_message</strong> – log message printed to logging.info()</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.plot_components">
<code class="sig-name descname">plot_components</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uncertainty</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">plot_cap</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">weekly_start</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">yearly_start</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">figsize</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/prophet_estimator.html#ProphetEstimator.plot_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.plot_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the <code class="docutils literal notranslate"><span class="pre">Prophet</span></code> forecast components on the dataset passed
to <code class="docutils literal notranslate"><span class="pre">predict</span></code>.</p>
<p>Will plot whichever are available of: trend, holidays, weekly
seasonality, and yearly seasonality.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uncertainty</strong> (<em class="xref py py-obj">bool</em>, optional, default True) – Boolean to plot uncertainty intervals.</p></li>
<li><p><strong>plot_cap</strong> (<em class="xref py py-obj">bool</em>, optional, default True) – Boolean indicating if the capacity should be shown
in the figure, if available.</p></li>
<li><p><strong>weekly_start</strong> (<em class="xref py py-obj">int</em>, optional, default 0) – Specifying the start day of the weekly seasonality plot.
0 (default) starts the week on Sunday.
1 shifts by 1 day to Jan 2, and so on.</p></li>
<li><p><strong>yearly_start</strong> (<em class="xref py py-obj">int</em>, optional, default 0) – Specifying the start day of the yearly seasonality plot.
0 (default) starts the year on Jan 1.
1 shifts by 1 day to Jan 2, and so on.</p></li>
<li><p><strong>figsize</strong> (<em class="xref py py-obj">tuple</em> , optional, default None) – Width, height in inches.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – A matplotlib figure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.figure.Figure</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.fit_uncertainty">
<code class="sig-name descname">fit_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">uncertainty_dict</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></span></em>, <em class="sig-param"><span class="n">fit_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.fit_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the uncertainty model with a given <code class="docutils literal notranslate"><span class="pre">df</span></code> and <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A dataframe representing the data to fit the uncertainty model.</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any]) – <p>The uncertainty model specification. It should have the following keys:</p>
<blockquote>
<div><dl class="simple">
<dt>”uncertainty_method”: a string that is in</dt><dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">UncertaintyMethodEnum</span></code>.</p>
</dd>
</dl>
<p>”params”: a dictionary that includes any additional parameters needed by the uncertainty method.</p>
</div></blockquote>
</p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">fit</span></code> function.</p></li>
<li><p><strong>kwargs</strong> (<em>additional parameters to be fed into the uncertainty method.</em>) – These parameters are from the estimator attributes, not given by user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The function sets <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code> and does not return anything.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deep</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.predict_uncertainty">
<code class="sig-name descname">predict_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">predict_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.predict_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of prediction intervals for <code class="docutils literal notranslate"><span class="pre">df</span></code> based on the predictions
and <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The dataframe to calculate prediction intervals upon.
It should have either <code class="docutils literal notranslate"><span class="pre">self.value_col_</span></code> or
<em class="xref py py-obj">PREDICT_COL</em> which the
prediction interval is based on.</p></li>
<li><p><strong>predict_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">predict</span></code> function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result_df</strong> – The <code class="docutils literal notranslate"><span class="pre">df</span></code> with prediction interval columns.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">sample_weight</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Default scorer for the estimator (Used in GridSearchCV/RandomizedSearchCV if scoring=None)</p>
<p class="rubric">Notes</p>
<p>If null_model_params is not None, returns R2_null_model_score of model error
relative to null model, evaluated by score_func.</p>
<p>If null_model_params is None, returns score_func of the model itself.</p>
<p>By default, grid search (with no <em class="xref py py-obj">scoring</em> parameter) optimizes improvement of <code class="docutils literal notranslate"><span class="pre">score_func</span></code>
against null model.</p>
<p>To optimize a different score function, pass <em class="xref py py-obj">scoring</em> to GridSearchCV/RandomizedSearchCV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Value column, if provided in X, is ignored</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – Actual value, used to compute error</p></li>
<li><p><strong>sample_weight</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – Comparison of predictions against null predictions, according to specified score function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.prophet_estimator.ProphetEstimator.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>). The latter have
parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s
possible to update each component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimator instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="arima-template">
<h2>ARIMA Template<a class="headerlink" href="#arima-template" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.auto_arima_template.</code><code class="sig-name descname">AutoArimaTemplate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">estimator</span><span class="p">:</span> <span class="n">greykite.sklearn.estimator.base_forecast_estimator.BaseForecastEstimator</span> <span class="o">=</span> <span class="default_value">AutoArimaEstimator()</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/auto_arima_template.html#AutoArimaTemplate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate" title="Permalink to this definition">¶</a></dt>
<dd><p>A template for <a class="reference internal" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator" title="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">AutoArimaEstimator</span></code></a>.</p>
<p>Takes input data and optional configuration parameters
to customize the model. Returns a set of parameters to call
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
<p class="rubric">Notes</p>
<p>The attributes of a <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a> for
<a class="reference internal" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator" title="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">AutoArimaEstimator</span></code></a> are:</p>
<blockquote>
<div><dl>
<dt>computation_param: <em class="xref py py-obj">ComputationParam</em> or None, default None</dt><dd><p>How to compute the result. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ComputationParam</span></code></a>.</p>
</dd>
<dt>coverage: <em class="xref py py-obj">float</em> or None, default None</dt><dd><p>Intended coverage of the prediction bands (0.0 to 1.0)
If None, the upper/lower predictions are not returned
Same as coverage in <code class="docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></p>
</dd>
<dt>evaluation_metric_param: <em class="xref py py-obj">EvaluationMetricParam</em> or None, default None</dt><dd><p>What metrics to evaluate. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a>.</p>
</dd>
<dt>evaluation_period_param: <em class="xref py py-obj">EvaluationPeriodParam</em> or None, default None</dt><dd><p>How to split data for evaluation. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a>.</p>
</dd>
<dt>forecast_horizon: <em class="xref py py-obj">int</em> or None, default None</dt><dd><p>Number of periods to forecast into the future. Must be &gt; 0
If None, default is determined from input data frequency
Same as forecast_horizon in <em class="xref py py-obj">forecast_pipeline</em></p>
</dd>
<dt>metadata_param: <em class="xref py py-obj">MetadataParam</em> or None, default None</dt><dd><p>Information about the input data. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetadataParam</span></code></a>.</p>
</dd>
<dt>model_components_param: <code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code> or None, default None</dt><dd><p>Parameters to tune the model. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>.
The fields are dictionaries with the following items.</p>
<dl>
<dt>seasonality: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Ignored. Pass the relevant Auto Arima arguments via custom.</p>
</dd>
<dt>growth: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Ignored. Pass the relevant Auto Arima arguments via custom.</p>
</dd>
<dt>events: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Ignored. Pass the relevant Auto Arima arguments via custom.</p>
</dd>
<dt>changepoints: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Ignored. Pass the relevant Auto Arima arguments via custom.</p>
</dd>
<dt>regressors: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Ignored. Auto Arima template currently does not support regressors.</p>
</dd>
<dt>uncertainty: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Ignored. Pass the relevant Auto Arima arguments via custom.</p>
</dd>
<dt>hyperparameter_override: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None]</dt><dd><p>After the above model components are used to create a hyperparameter grid, the result is
updated by this dictionary, to create new keys or override existing ones.
Allows for complete customization of the grid search.</p>
<p>Keys should have format <code class="docutils literal notranslate"><span class="pre">{named_step}__{parameter_name}</span></code> for the named steps of the
<a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a> returned by this function. See <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a>.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hyperparameter_override</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;estimator__max_p&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
    <span class="s2">&quot;estimator__information_criterion&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bic&quot;</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If a list of dictionaries, grid search will be done for each dictionary in the list.
Each dictionary in the list override the defaults. This enables grid search
over specific combinations of parameters to reduce the search space.</p>
<blockquote>
<div><ul class="simple">
<li><p>For example, the first dictionary could define combinations of parameters for a
“complex” model, and the second dictionary could define combinations of parameters
for a “simple” model, to prevent mixed combinations of simple and complex.</p></li>
<li><p>Or the first dictionary could grid search over fit algorithm, and the second dictionary
could use a single fit algorithm and grid search over seasonality.</p></li>
</ul>
</div></blockquote>
<p>The result is passed as the <code class="docutils literal notranslate"><span class="pre">param_distributions</span></code> parameter
to <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.model_selection.RandomizedSearchCV</span></code></a>.</p>
</dd>
<dt>autoregression: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Ignored. Pass the relevant Auto Arima arguments via custom.</p>
</dd>
<dt>custom: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None</dt><dd><p>Any parameter in the
<a class="reference internal" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator" title="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">AutoArimaEstimator</span></code></a>
can be passed.</p>
</dd>
</dl>
</dd>
<dt>model_template: <em class="xref py py-obj">str</em></dt><dd><p>This class only accepts “AUTO_ARIMA”.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.allow_model_template_list">
<em class="property">property </em><code class="sig-name descname">allow_model_template_list</code><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.allow_model_template_list" title="Permalink to this definition">¶</a></dt>
<dd><p>AutoArimaTemplate does not allow <em class="xref py py-obj">config.model_template</em> to be a list.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.allow_model_components_param_list">
<em class="property">property </em><code class="sig-name descname">allow_model_components_param_list</code><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.allow_model_components_param_list" title="Permalink to this definition">¶</a></dt>
<dd><p>AutoArimaTemplate does not allow <em class="xref py py-obj">config.model_components_param</em> to be a list.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.get_regressor_cols">
<code class="sig-name descname">get_regressor_cols</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/auto_arima_template.html#AutoArimaTemplate.get_regressor_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.get_regressor_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns regressor column names from the model components.</p>
<p>Currently does not implement regressors.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_auto_arima_model_components_defaults">
<code class="sig-name descname">apply_auto_arima_model_components_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_components</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/auto_arima_template.html#AutoArimaTemplate.apply_auto_arima_model_components_defaults"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_auto_arima_model_components_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets default values for <code class="docutils literal notranslate"><span class="pre">model_components</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_components</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or None, default None) – Configuration of model growth, seasonality, events, etc.
See the docstring of this class for details.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_components</strong> – The provided <code class="docutils literal notranslate"><span class="pre">model_components</span></code> with default values set</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.get_hyperparameter_grid">
<code class="sig-name descname">get_hyperparameter_grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/auto_arima_template.html#AutoArimaTemplate.get_hyperparameter_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.get_hyperparameter_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns hyperparameter grid.</p>
<p>Implements the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.time_properties</span></code> and <code class="docutils literal notranslate"><span class="pre">self.config</span></code> to generate the hyperparameter grid.</p>
<p>Converts model components into
<a class="reference internal" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator" title="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">AutoArimaEstimator</span></code></a>.
hyperparameters.</p>
<p>The output dictionary values are lists, combined via grid search in
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_components</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or None, default None) – Configuration of parameter space to search the order (p, d, q etc.) of SARIMAX model.
See <code class="xref py py-func docutils literal notranslate"><span class="pre">auto_arima_template</span></code> for details.</p></li>
<li><p><strong>coverage</strong> (<em class="xref py py-obj">float</em> or None, default=0.95) – Intended coverage of the prediction bands (0.0 to 1.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>hyperparameter_grid</strong> – <a class="reference internal" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator" title="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator"><code class="xref py py-class docutils literal notranslate"><span class="pre">AutoArimaEstimator</span></code></a>
hyperparameters.</p>
<p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.
The output dictionary values are lists, combined in grid search.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">any</em>]] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_template_for_pipeline_params">
<code class="sig-name descname">apply_template_for_pipeline_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Dict<a class="reference internal" href="../../_modules/greykite/framework/templates/auto_arima_template.html#AutoArimaTemplate.apply_template_for_pipeline_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_template_for_pipeline_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Explicitly calls the method in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>
to make use of the decorator in this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The time series dataframe with <code class="docutils literal notranslate"><span class="pre">time_col</span></code> and <code class="docutils literal notranslate"><span class="pre">value_col</span></code> and optional regressor columns.</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a>.) – The <code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code> class that includes model training parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pipeline_parameters</strong> – The pipeline parameters consumable by
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_computation_defaults">
<em class="property">static </em><code class="sig-name descname">apply_computation_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">computation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam">greykite.framework.templates.autogen.forecast_config.ComputationParam</a><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_computation_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default ComputationParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a ComputationParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>computation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationParam</span></code></a> or None) – The ComputationParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>computation</strong> – Valid ComputationParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ComputationParam" title="greykite.framework.templates.autogen.forecast_config.ComputationParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ComputationParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_evaluation_metric_defaults">
<em class="property">static </em><code class="sig-name descname">apply_evaluation_metric_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evaluation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam">greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam</a><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_evaluation_metric_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default EvaluationMetricParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a EvaluationMetricParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a> or None) – The EvaluationMetricParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation</strong> – Valid EvaluationMetricParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationMetricParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_evaluation_period_defaults">
<em class="property">static </em><code class="sig-name descname">apply_evaluation_period_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">evaluation</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam">greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam</a><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_evaluation_period_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default EvaluationPeriodParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a EvaluationPeriodParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluation</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a> or None) – The EvaluationMetricParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation</strong> – Valid EvaluationPeriodParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam" title="greykite.framework.templates.autogen.forecast_config.EvaluationPeriodParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationPeriodParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_forecast_config_defaults">
<code class="sig-name descname">apply_forecast_config_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig">greykite.framework.templates.autogen.forecast_config.ForecastConfig</a><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_forecast_config_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default Forecast Config values to the given config.
If an expected attribute value is provided, the value is unchanged.
Otherwise the default value for it is used.
Other attributes are untouched.
If the input config is None, it creates a Forecast Config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a> or None) – Forecast configuration if available. See
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>config</strong> – A valid Forecast Config which contains the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_metadata_defaults">
<em class="property">static </em><code class="sig-name descname">apply_metadata_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metadata</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam">greykite.framework.templates.autogen.forecast_config.MetadataParam</a><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_metadata_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default MetadataParam values to the given object.
If an expected attribute value is provided, the value is unchanged. Otherwise the default value for it is used.
Other attributes are untouched.
If the input object is None, it creates a MetadataParam object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>metadata</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetadataParam</span></code></a> or None) – The MetadataParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>metadata</strong> – Valid MetadataParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.MetadataParam" title="greykite.framework.templates.autogen.forecast_config.MetadataParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MetadataParam</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_model_components_defaults">
<em class="property">static </em><code class="sig-name descname">apply_model_components_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_components</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam">greykite.framework.templates.autogen.forecast_config.ModelComponentsParam</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_model_components_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default ModelComponentsParam values to the given object.</p>
<p>Converts None to a ModelComponentsParam object.
Unpacks a list of a single element to the element itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_components</strong> (<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or None or list of such items) – The ModelComponentsParam object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_components</strong> – Valid ModelComponentsParam object with the provided attribute values and the default attribute values if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a> or list of such items</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_model_template_defaults">
<code class="sig-name descname">apply_model_template_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_template</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span>Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_model_template_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the default model template to the given object.</p>
<p>Unpacks a list of a single element to the element itself.
Sets default value if None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_template</strong> (<em class="xref py py-obj">str</em> or None or <em class="xref py py-obj">list</em> [None, <em class="xref py py-obj">str</em>]) – The model template name.
See valid names in <a class="reference internal" href="#greykite.framework.templates.model_templates.ModelTemplateEnum" title="greykite.framework.templates.model_templates.ModelTemplateEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelTemplateEnum</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model_template</strong> – The model template name, with defaults value used if not provided.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_template_decorator">
<em class="property">static </em><code class="sig-name descname">apply_template_decorator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/auto_arima_template.html#AutoArimaTemplate.apply_template_decorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.apply_template_decorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for <code class="docutils literal notranslate"><span class="pre">apply_template_for_pipeline_params</span></code> function.</p>
<p>Overrides the method in <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseTemplate</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if config.model_template != &quot;AUTO_ARIMA&quot;</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.estimator">
<em class="property">property </em><code class="sig-name descname">estimator</code><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>The estimator instance to use as the final step in the pipeline.
An instance of <code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.sklearn.estimator.base_forecast_estimator.BaseForecastEstimator</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.get_forecast_time_properties">
<code class="sig-name descname">get_forecast_time_properties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.get_forecast_time_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns forecast time parameters.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.df</span></code>, <code class="docutils literal notranslate"><span class="pre">self.config</span></code>, <code class="docutils literal notranslate"><span class="pre">self.regressor_cols</span></code>.</p>
<p>Available parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.df</p></li>
<li><p>self.config</p></li>
<li><p>self.score_func</p></li>
<li><p>self.score_func_greater_is_better</p></li>
<li><p>self.regressor_cols</p></li>
<li><p>self.lagged_regressor_cols</p></li>
<li><p>self.estimator</p></li>
<li><p>self.pipeline</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>time_properties</strong> – Time properties dictionary (likely produced by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">get_forecast_time_properties</span></code>)
with keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;period&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Period of each observation (i.e. minimum time between observations, in seconds).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;simple_freq&quot;</span></code><span class="classifier"><em class="xref py py-obj">SimpleTimeFrequencyEnum</em></span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">SimpleTimeFrequencyEnum</span></code> member corresponding to data frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_points&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of observations for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_days&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of days for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;start_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Start year of the training period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;end_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>End year of the forecast period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;origin_for_time_vars&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Continuous time representation of the first date in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.get_lagged_regressor_info">
<code class="sig-name descname">get_lagged_regressor_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.get_lagged_regressor_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns lagged regressor column names and minimal/maximal lag order. The lag order
can be used to check potential imputation in the computation of lags.</p>
<p>Can be overridden by subclass.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>lagged_regressor_info</strong> – A dictionary that includes the lagged regressor column names and maximal/minimal lag order
The keys are:</p>
<blockquote>
<div><dl>
<dt>lagged_regressor_cols<span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</span></dt><dd><p>See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
</dl>
<p>overall_min_lag_order : <em class="xref py py-obj">int</em> or None
overall_max_lag_order : <em class="xref py py-obj">int</em> or None</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.templates.auto_arima_template.AutoArimaTemplate.get_pipeline">
<code class="sig-name descname">get_pipeline</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.auto_arima_template.AutoArimaTemplate.get_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns pipeline.</p>
<p>Implementation may be overridden by subclass
if a different pipeline is desired.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">self.estimator</span></code>, <code class="docutils literal notranslate"><span class="pre">self.score_func</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.score_func_greater_is_better</span></code>, <code class="docutils literal notranslate"><span class="pre">self.config</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.regressor_cols</span></code>.</p>
<p>Available parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>self.df</p></li>
<li><p>self.config</p></li>
<li><p>self.score_func</p></li>
<li><p>self.score_func_greater_is_better</p></li>
<li><p>self.regressor_cols</p></li>
<li><p>self.estimator</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>pipeline</strong> – See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.estimator.auto_arima_estimator.</code><code class="sig-name descname">AutoArimaEstimator</code><span class="sig-paren">(</span><em class="sig-param">score_func: callable = &lt;function mean_squared_error&gt;</em>, <em class="sig-param">coverage: float = 0.9</em>, <em class="sig-param">null_model_params: Optional[Dict] = None</em>, <em class="sig-param">regressor_cols: Optional[List[str]] = None</em>, <em class="sig-param">freq: Optional[float] = None</em>, <em class="sig-param">start_p: Optional[int] = 2</em>, <em class="sig-param">d: Optional[int] = None</em>, <em class="sig-param">start_q: Optional[int] = 2</em>, <em class="sig-param">max_p: Optional[int] = 5</em>, <em class="sig-param">max_d: Optional[int] = 2</em>, <em class="sig-param">max_q: Optional[int] = 5</em>, <em class="sig-param">start_P: Optional[int] = 1</em>, <em class="sig-param">D: Optional[int] = None</em>, <em class="sig-param">start_Q: Optional[int] = 1</em>, <em class="sig-param">max_P: Optional[int] = 2</em>, <em class="sig-param">max_D: Optional[int] = 1</em>, <em class="sig-param">max_Q: Optional[int] = 2</em>, <em class="sig-param">max_order: Optional[int] = 5</em>, <em class="sig-param">m: Optional[int] = 1</em>, <em class="sig-param">seasonal: Optional[bool] = True</em>, <em class="sig-param">stationary: Optional[bool] = False</em>, <em class="sig-param">information_criterion: Optional[str] = 'aic'</em>, <em class="sig-param">alpha: Optional[int] = 0.05</em>, <em class="sig-param">test: Optional[str] = 'kpss'</em>, <em class="sig-param">seasonal_test: Optional[str] = 'ocsb'</em>, <em class="sig-param">stepwise: Optional[bool] = True</em>, <em class="sig-param">n_jobs: Optional[int] = 1</em>, <em class="sig-param">start_params: Optional[Dict] = None</em>, <em class="sig-param">trend: Optional[str] = None</em>, <em class="sig-param">method: Optional[str] = 'lbfgs'</em>, <em class="sig-param">maxiter: Optional[int] = 50</em>, <em class="sig-param">offset_test_args: Optional[Dict] = None</em>, <em class="sig-param">seasonal_test_args: Optional[Dict] = None</em>, <em class="sig-param">suppress_warnings: Optional[bool] = True</em>, <em class="sig-param">error_action: Optional[str] = 'trace'</em>, <em class="sig-param">trace: Optional[Union[int</em>, <em class="sig-param">bool]] = False</em>, <em class="sig-param">random: Optional[bool] = False</em>, <em class="sig-param">random_state: Optional[Union[int</em>, <em class="sig-param">callable]] = None</em>, <em class="sig-param">n_fits: Optional[int] = 10</em>, <em class="sig-param">out_of_sample_size: Optional[int] = 0</em>, <em class="sig-param">scoring: Optional[str] = 'mse'</em>, <em class="sig-param">scoring_args: Optional[Dict] = None</em>, <em class="sig-param">with_intercept: Optional[Union[bool</em>, <em class="sig-param">str]] = 'auto'</em>, <em class="sig-param">return_conf_int: Optional[bool] = True</em>, <em class="sig-param">dynamic: Optional[bool] = False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/auto_arima_estimator.html#AutoArimaEstimator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for <code class="docutils literal notranslate"><span class="pre">pmdarima.arima.AutoARIMA</span></code>.
It currently does not handle the regressor issue when there is
gap between train and predict periods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score_func</strong> (<em>callable</em>) – see <code class="docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>.</p></li>
<li><p><strong>coverage</strong> (<em>float between</em><em> [</em><em>0.0</em><em>, </em><em>1.0</em><em>]</em>) – see <code class="docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>.</p></li>
<li><p><strong>null_model_params</strong> (<em>dict with arguments to define DummyRegressor null model</em><em>, </em><em>optional</em><em>, </em><em>default=None</em>) – see <code class="docutils literal notranslate"><span class="pre">BaseForecastEstimator</span></code>.</p></li>
<li><p><strong>regressor_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], optional, default None) – A list of regressor columns used during training and prediction.
If None, no regressor columns are used.</p></li>
<li><p><strong>AutoArima documentation for rest of the parameter descriptions</strong> (<em>See</em>) – <ul>
<li><p><a class="reference external" href="https://alkaline-ml.com/pmdarima/modules/generated/pmdarima.arima.AutoARIMA.html#pmdarima.arima.AutoARIMA">https://alkaline-ml.com/pmdarima/modules/generated/pmdarima.arima.AutoARIMA.html#pmdarima.arima.AutoARIMA</a></p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.model">
<code class="sig-name descname">model</code><a class="headerlink" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Auto arima model object</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">AutoArima</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.fit_df">
<code class="sig-name descname">fit_df</code><a class="headerlink" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.fit_df" title="Permalink to this definition">¶</a></dt>
<dd><p>The training data used to fit the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.forecast">
<code class="sig-name descname">forecast</code><a class="headerlink" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Output of the predict method of <code class="docutils literal notranslate"><span class="pre">AutoArima</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="o">=</span><span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fit_params</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/auto_arima_estimator.html#AutoArimaEstimator.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits <code class="docutils literal notranslate"><span class="pre">ARIMA</span></code> forecast model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries, with timestamp column,
value column, and any additional regressors.
The value column is the response, included in
X to allow transformation by <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a></p></li>
<li><p><strong>y</strong> (<em>ignored</em>) – The original timeseries values, ignored.
(The y for fitting is included in <code class="docutils literal notranslate"><span class="pre">X</span></code>.)</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – Time column name in <code class="docutils literal notranslate"><span class="pre">X</span></code></p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – Value column name in <code class="docutils literal notranslate"><span class="pre">X</span></code></p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em>) – additional parameters for null model</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Fitted model is stored in <code class="docutils literal notranslate"><span class="pre">self.model</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/auto_arima_estimator.html#AutoArimaEstimator.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates forecast for the dates specified in <code class="docutils literal notranslate"><span class="pre">X</span></code>.
Currently does not support the regressor case where there is gap between
train and predict periods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Timestamps are the dates for prediction.
Value column, if provided in <code class="docutils literal notranslate"><span class="pre">X</span></code>, is ignored.</p></li>
<li><p><strong>y</strong> (<em>ignored.</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>predictions</strong> –</p>
<p>Forecasted values for the dates in <code class="docutils literal notranslate"><span class="pre">X</span></code>. Columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TIME_COL</span></code>: dates</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_COL</span></code>: predictions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_LOWER_COL</span></code>: lower bound of predictions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDICTED_UPPER_COL</span></code>: upper bound of predictions</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/estimator/auto_arima_estimator.html#AutoArimaEstimator.summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates human readable string of how the model works, including relevant diagnostics
These details cannot be extracted from the forecast alone
Prints model configuration. Extend this in child class to print the trained model parameters.</p>
<p>Log message is printed to the cst.LOGGER_NAME logger.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.fit_uncertainty">
<code class="sig-name descname">fit_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">uncertainty_dict</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></span></em>, <em class="sig-param"><span class="n">fit_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.fit_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the uncertainty model with a given <code class="docutils literal notranslate"><span class="pre">df</span></code> and <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A dataframe representing the data to fit the uncertainty model.</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any]) – <p>The uncertainty model specification. It should have the following keys:</p>
<blockquote>
<div><dl class="simple">
<dt>”uncertainty_method”: a string that is in</dt><dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">UncertaintyMethodEnum</span></code>.</p>
</dd>
</dl>
<p>”params”: a dictionary that includes any additional parameters needed by the uncertainty method.</p>
</div></blockquote>
</p></li>
<li><p><strong>fit_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">fit</span></code> function.</p></li>
<li><p><strong>kwargs</strong> (<em>additional parameters to be fed into the uncertainty method.</em>) – These parameters are from the estimator attributes, not given by user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The function sets <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code> and does not return anything.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deep</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.predict_uncertainty">
<code class="sig-name descname">predict_uncertainty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">predict_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.predict_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes predictions of prediction intervals for <code class="docutils literal notranslate"><span class="pre">df</span></code> based on the predictions
and <code class="docutils literal notranslate"><span class="pre">self.uncertainty_model</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The dataframe to calculate prediction intervals upon.
It should have either <code class="docutils literal notranslate"><span class="pre">self.value_col_</span></code> or
<em class="xref py py-obj">PREDICT_COL</em> which the
prediction interval is based on.</p></li>
<li><p><strong>predict_params</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None, default None) – Parameters to be passed to the <code class="docutils literal notranslate"><span class="pre">predict</span></code> function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result_df</strong> – The <code class="docutils literal notranslate"><span class="pre">df</span></code> with prediction interval columns.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">sample_weight</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Default scorer for the estimator (Used in GridSearchCV/RandomizedSearchCV if scoring=None)</p>
<p class="rubric">Notes</p>
<p>If null_model_params is not None, returns R2_null_model_score of model error
relative to null model, evaluated by score_func.</p>
<p>If null_model_params is None, returns score_func of the model itself.</p>
<p>By default, grid search (with no <em class="xref py py-obj">scoring</em> parameter) optimizes improvement of <code class="docutils literal notranslate"><span class="pre">score_func</span></code>
against null model.</p>
<p>To optimize a different score function, pass <em class="xref py py-obj">scoring</em> to GridSearchCV/RandomizedSearchCV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries with timestamp column and any additional regressors.
Value column, if provided in X, is ignored</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – Actual value, used to compute error</p></li>
<li><p><strong>sample_weight</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or  <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – Comparison of predictions against null predictions, according to specified score function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.estimator.auto_arima_estimator.AutoArimaEstimator.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>). The latter have
parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s
possible to update each component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimator instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="forecast-pipeline">
<h2>Forecast Pipeline<a class="headerlink" href="#forecast-pipeline" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="greykite.framework.pipeline.pipeline.forecast_pipeline">
<code class="sig-prename descclassname">greykite.framework.pipeline.pipeline.</code><code class="sig-name descname">forecast_pipeline</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="o">=</span><span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">date_format</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tz</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">train_end_date</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">anomaly_info</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pipeline</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">regressor_cols</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lagged_regressor_cols</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimator</span><span class="o">=</span><span class="default_value">SimpleSilverkiteEstimator()</span></em>, <em class="sig-param"><span class="n">hyperparameter_grid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">hyperparameter_budget</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_jobs</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">forecast_horizon</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">coverage</span><span class="o">=</span><span class="default_value">0.95</span></em>, <em class="sig-param"><span class="n">test_horizon</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">periods_between_train_test</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_periods</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">score_func</span><span class="o">=</span><span class="default_value">'MeanAbsolutePercentError'</span></em>, <em class="sig-param"><span class="n">score_func_greater_is_better</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cv_report_metrics</span><span class="o">=</span><span class="default_value">'ALL'</span></em>, <em class="sig-param"><span class="n">null_model_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">relative_error_tolerance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_horizon</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_min_train_periods</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_expanding_window</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cv_use_most_recent_splits</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cv_periods_between_splits</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_periods_between_train_test</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cv_max_splits</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/pipeline/pipeline.html#forecast_pipeline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Computation pipeline for end-to-end forecasting.</p>
<p>Trains a forecast model end-to-end:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>checks input data</p></li>
<li><p>runs cross-validation to select optimal hyperparameters e.g. best model</p></li>
<li><p>evaluates best model on test set</p></li>
<li><p>provides forecast of best model (re-trained on all data) into the future</p></li>
</ol>
</div></blockquote>
<p>Returns forecasts with methods to plot and see diagnostics.
Also returns the fitted pipeline and CV results.</p>
<p>Provides a high degree of customization over training and evaluation parameters:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>model</p></li>
<li><p>cross validation</p></li>
<li><p>evaluation</p></li>
<li><p>forecast horizon</p></li>
</ol>
</div></blockquote>
<p>See test cases for examples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Timeseries data to forecast.
Contains columns [<em class="xref py py-obj">time_col</em>, <em class="xref py py-obj">value_col</em>], and optional regressor columns
Regressor columns should include future values for prediction</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>, default TIME_COL in constants.py) – name of timestamp column in df</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>, default VALUE_COL in constants.py) – name of value column in df (the values to forecast)</p></li>
<li><p><strong>date_format</strong> (<em class="xref py py-obj">str</em> or None, default None) – strftime format to parse time column, eg <code class="docutils literal notranslate"><span class="pre">%m/%d/%Y</span></code>.
Note that <code class="docutils literal notranslate"><span class="pre">%f</span></code> will parse all the way up to nanoseconds.
If None (recommended), inferred by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.to_datetime.html#pandas.to_datetime" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.to_datetime</span></code></a>.</p></li>
<li><p><strong>tz</strong> (<em class="xref py py-obj">str</em> or None, default None) – Passed to <em class="xref py py-obj">pandas.tz_localize</em> to localize the timestamp</p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – Frequency of input data. Used to generate future dates for prediction.
Frequency strings can have multiples, e.g. ‘5H’.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases</a>
for a list of frequency aliases.
If None, inferred by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.infer_freq.html#pandas.infer_freq" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.infer_freq</span></code></a>.
Provide this parameter if <code class="docutils literal notranslate"><span class="pre">df</span></code> has missing timepoints.</p></li>
<li><p><strong>train_end_date</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>, optional, default None) – Last date to use for fitting the model. Forecasts are generated after this date.
If None, it is set to the last date with a non-null value in
<code class="docutils literal notranslate"><span class="pre">value_col</span></code> of <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
<li><p><strong>anomaly_info</strong> (<em class="xref py py-obj">dict</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">dict</em>] or None, default None) – <p>Anomaly adjustment info. Anomalies in <code class="docutils literal notranslate"><span class="pre">df</span></code>
are corrected before any forecasting is done.</p>
<p>If None, no adjustments are made.</p>
<p>A dictionary containing the parameters to
<a class="reference internal" href="#greykite.common.features.adjust_anomalous_data.adjust_anomalous_data" title="greykite.common.features.adjust_anomalous_data.adjust_anomalous_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">adjust_anomalous_data</span></code></a>.
See that function for details.
The possible keys are:</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;value_col&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>The name of the column in <code class="docutils literal notranslate"><span class="pre">df</span></code> to adjust. You may adjust the value
to forecast as well as any numeric regressors.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;anomaly_df&quot;</span></code><span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>Adjustments to correct the anomalies.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;start_time_col&quot;</span></code>: <em class="xref py py-obj">str</em>, default START_TIME_COL</dt><dd><p>Start date column in <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;end_time_col&quot;</span></code>: <em class="xref py py-obj">str</em>, default END_TIME_COL</dt><dd><p>End date column in <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;adjustment_delta_col&quot;</span></code>: <em class="xref py py-obj">str</em> or None, default None</dt><dd><p>Impact column in <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;filter_by_dict&quot;</span></code>: <em class="xref py py-obj">dict</em> or None, default None</dt><dd><p>Used to filter <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code> to the relevant anomalies for
the <code class="docutils literal notranslate"><span class="pre">value_col</span></code> in this dictionary.
Key specifies the column name, value specifies the filter value.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;filter_by_value_col&quot;&quot;</span></code>: <em class="xref py py-obj">str</em> or None, default None</dt><dd><p>Adds <code class="docutils literal notranslate"><span class="pre">{filter_by_value_col:</span> <span class="pre">value_col}</span></code> to <code class="docutils literal notranslate"><span class="pre">filter_by_dict</span></code>
if not None, for the <code class="docutils literal notranslate"><span class="pre">value_col</span></code> in this dictionary.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;adjustment_method&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em> (“add” or “subtract”), default “add”</span></dt><dd><p>How to make the adjustment, if <code class="docutils literal notranslate"><span class="pre">adjustment_delta_col</span></code> is provided.</p>
</dd>
</dl>
</div></blockquote>
<p>Accepts a list of such dictionaries to adjust multiple columns in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</p></li>
<li><p><strong>pipeline</strong> (<a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a> or None, default None) – Pipeline to fit. The final named step must be called “estimator”.
If None, will use the default Pipeline from
<a class="reference internal" href="#greykite.framework.pipeline.utils.get_basic_pipeline" title="greykite.framework.pipeline.utils.get_basic_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_basic_pipeline</span></code></a>.</p></li>
<li><p><strong>regressor_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – A list of regressor columns used in the training and prediction DataFrames.
It should contain only the regressors that are being used in the grid search.
If None, no regressor columns are used.
Regressor columns that are unavailable in <code class="docutils literal notranslate"><span class="pre">df</span></code> are dropped.</p></li>
<li><p><strong>lagged_regressor_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – A list of additional columns needed for lagged regressors in the training and prediction DataFrames.
This list can have overlap with <code class="docutils literal notranslate"><span class="pre">regressor_cols</span></code>.
If None, no additional columns are added to the DataFrame.
Lagged regressor columns that are unavailable in <code class="docutils literal notranslate"><span class="pre">df</span></code> are dropped.</p></li>
<li><p><strong>estimator</strong> (instance of an estimator that implements <em class="xref py py-obj">greykite.algo.models.base_forecast_estimator.BaseForecastEstimator</em>) – Estimator to use as the final step in the pipeline.
Ignored if <code class="docutils literal notranslate"><span class="pre">pipeline</span></code> is provided.</p></li>
<li><p><strong>forecast_horizon</strong> (<em class="xref py py-obj">int</em> or None, default None) – Number of periods to forecast into the future. Must be &gt; 0.
If None, default is determined from input data frequency</p></li>
<li><p><strong>coverage</strong> (<em class="xref py py-obj">float</em> or None, default=0.95) – Intended coverage of the prediction bands (0.0 to 1.0)
If None, the upper/lower predictions are not returned
Ignored if <em class="xref py py-obj">pipeline</em> is provided. Uses coverage of the <code class="docutils literal notranslate"><span class="pre">pipeline</span></code> estimator instead.</p></li>
<li><p><strong>test_horizon</strong> (<em class="xref py py-obj">int</em> or None, default None) – Numbers of periods held back from end of df for test.
The rest is used for cross validation.
If None, default is forecast_horizon. Set to 0 to skip backtest.</p></li>
<li><p><strong>periods_between_train_test</strong> (<em class="xref py py-obj">int</em> or None, default None) – Number of periods for the gap between train and test data.
If None, default is 0.</p></li>
<li><p><strong>agg_periods</strong> (<em class="xref py py-obj">int</em> or None, default None) – <p>Number of periods to aggregate before evaluation.</p>
<p>Model is fit and forecasted on the dataset’s original frequency.</p>
<p>Before evaluation, the actual and forecasted values are aggregated,
using rolling windows of size <code class="docutils literal notranslate"><span class="pre">agg_periods</span></code> and the function
<code class="docutils literal notranslate"><span class="pre">agg_func</span></code>. (e.g. if the dataset is hourly, use <code class="docutils literal notranslate"><span class="pre">agg_periods=24,</span> <span class="pre">agg_func=np.sum</span></code>,
to evaluate performance on the daily totals).</p>
<p>If None, does not aggregate before evaluation.</p>
<p>Currently, this is only used when calculating CV metrics and
the R2_null_model_score metric in backtest/forecast. No pre-aggregation
is applied for the other backtest/forecast evaluation metrics.</p>
</p></li>
<li><p><strong>agg_func</strong> (<em>callable</em><em> or </em><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a><em>, </em><em>default None</em>) – <p>Takes an array and returns a number, e.g. np.max, np.sum.</p>
<p>Defines how to aggregate rolling windows of actual and predicted values
before evaluation.</p>
<p>Ignored if <code class="docutils literal notranslate"><span class="pre">agg_periods</span></code> is None.</p>
<p>Currently, this is only used when calculating CV metrics and
the R2_null_model_score metric in backtest/forecast. No pre-aggregation
is applied for the other backtest/forecast evaluation metrics.</p>
</p></li>
<li><p><strong>score_func</strong> (<em class="xref py py-obj">str</em> or callable, default <code class="docutils literal notranslate"><span class="pre">EvaluationMetricEnum.MeanAbsolutePercentError.name</span></code>) – Score function used to select optimal model in CV.
If a callable, takes arrays <code class="docutils literal notranslate"><span class="pre">y_true</span></code>, <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> and returns a float.
If a string, must be either a
<a class="reference internal" href="#greykite.common.evaluation.EvaluationMetricEnum" title="greykite.common.evaluation.EvaluationMetricEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code></a> member name
or <a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>.</p></li>
<li><p><strong>score_func_greater_is_better</strong> (<em class="xref py py-obj">bool</em>, default False) – True if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a score function, meaning higher is better,
and False if it is a loss function, meaning lower is better.
Must be provided if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a callable (custom function).
Ignored if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a string, because the direction is known.</p></li>
<li><p><strong>cv_report_metrics</strong> (<em class="xref py py-obj">str</em>, or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], or None, default <em class="xref py py-obj">CV_REPORT_METRICS_ALL</em>) – <p>Additional metrics to compute during CV, besides the one specified by <code class="docutils literal notranslate"><span class="pre">score_func</span></code>.</p>
<blockquote>
<div><ul>
<li><p>If the string constant <a class="reference internal" href="#greykite.framework.constants.CV_REPORT_METRICS_ALL" title="greykite.framework.constants.CV_REPORT_METRICS_ALL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.framework.constants.CV_REPORT_METRICS_ALL</span></code></a>,
computes all metrics in <code class="docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code>. Also computes
<code class="docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code> if <code class="docutils literal notranslate"><span class="pre">relative_error_tolerance</span></code> is not None.
The results are reported by the short name (<code class="docutils literal notranslate"><span class="pre">.get_metric_name()</span></code>) for <code class="docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code>
members and <code class="docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE_NAME</span></code> for <code class="docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code>.
These names appear in the keys of <code class="docutils literal notranslate"><span class="pre">forecast_result.grid_search.cv_results_</span></code>
returned by this function.</p></li>
<li><p>If a list of strings, each of the listed metrics is computed. Valid strings are
<a class="reference internal" href="#greykite.common.evaluation.EvaluationMetricEnum" title="greykite.common.evaluation.EvaluationMetricEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code></a> member names
and <a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;MeanSquaredError&quot;</span><span class="p">,</span> <span class="s2">&quot;MeanAbsoluteError&quot;</span><span class="p">,</span> <span class="s2">&quot;MeanAbsolutePercentError&quot;</span><span class="p">,</span> <span class="s2">&quot;MedianAbsolutePercentError&quot;</span><span class="p">,</span> <span class="s2">&quot;FractionOutsideTolerance2&quot;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>If None, no additional metrics are computed.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>null_model_params</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>Defines baseline model to compute <code class="docutils literal notranslate"><span class="pre">R2_null_model_score</span></code> evaluation metric.
<code class="docutils literal notranslate"><span class="pre">R2_null_model_score</span></code> is the improvement in the loss function relative
to a null model. It can be used to evaluate model quality with respect to
a simple baseline. For details, see
<a class="reference internal" href="#greykite.common.evaluation.r2_null_model_score" title="greykite.common.evaluation.r2_null_model_score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">r2_null_model_score</span></code></a>.</p>
<p>The null model is a <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.dummy.DummyRegressor.html#sklearn.dummy.DummyRegressor" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DummyRegressor</span></code></a>,
which returns constant predictions.</p>
<p>Valid keys are “strategy”, “constant”, “quantile”.
See <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.dummy.DummyRegressor.html#sklearn.dummy.DummyRegressor" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DummyRegressor</span></code></a>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">null_model_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;strategy&quot;</span><span class="p">:</span> <span class="s2">&quot;mean&quot;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">null_model_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;strategy&quot;</span><span class="p">:</span> <span class="s2">&quot;median&quot;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">null_model_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;strategy&quot;</span><span class="p">:</span> <span class="s2">&quot;quantile&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quantile&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">null_model_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;strategy&quot;</span><span class="p">:</span> <span class="s2">&quot;constant&quot;</span><span class="p">,</span>
    <span class="s2">&quot;constant&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If None, <code class="docutils literal notranslate"><span class="pre">R2_null_model_score</span></code> is not calculated.</p>
<p>Note: CV model selection always optimizes <code class="docutils literal notranslate"><span class="pre">score_func`,</span> <span class="pre">not</span>
<span class="pre">the</span> <span class="pre">``R2_null_model_score</span></code>.</p>
</p></li>
<li><p><strong>relative_error_tolerance</strong> (<em class="xref py py-obj">float</em> or None, default None) – Threshold to compute the <code class="docutils literal notranslate"><span class="pre">Outside</span> <span class="pre">Tolerance</span></code> metric,
defined as the fraction of forecasted values whose relative
error is strictly greater than <code class="docutils literal notranslate"><span class="pre">relative_error_tolerance</span></code>.
For example, 0.05 allows for 5% relative error.
If <em class="xref py py-obj">None</em>, the metric is not computed.</p></li>
<li><p><strong>hyperparameter_grid</strong> (<em class="xref py py-obj">dict</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">dict</em>] or None, default None) – <p>Sets properties of the steps in the pipeline,
and specifies combinations to search over.
Should be valid input to <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.GridSearchCV.html#sklearn.model_selection.GridSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.model_selection.GridSearchCV</span></code></a> (param_grid)
or <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.model_selection.RandomizedSearchCV</span></code></a> (param_distributions).</p>
<p>Prefix transform/estimator attributes by the name of the step in the pipeline.
See details at: <a class="reference external" href="https://scikit-learn.org/stable/modules/compose.html#nested-parameters">https://scikit-learn.org/stable/modules/compose.html#nested-parameters</a></p>
<p>If None, uses the default pipeline parameters.</p>
</p></li>
<li><p><strong>hyperparameter_budget</strong> (<em class="xref py py-obj">int</em> or None, default None) – <p>Max number of hyperparameter sets to try within the <code class="docutils literal notranslate"><span class="pre">hyperparameter_grid</span></code> search space</p>
<p>Runs a full grid search if <code class="docutils literal notranslate"><span class="pre">hyperparameter_budget</span></code> is sufficient to exhaust full
<code class="docutils literal notranslate"><span class="pre">hyperparameter_grid</span></code>, otherwise samples uniformly at random from the space.</p>
<p>If None, uses defaults:</p>
<blockquote>
<div><ul>
<li><p>full grid search if all values are constant</p></li>
<li><p>10 if any value is a distribution to sample from</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>n_jobs</strong> (<em class="xref py py-obj">int</em> or None, default <a class="reference internal" href="#greykite.framework.constants.COMPUTATION_N_JOBS" title="greykite.framework.constants.COMPUTATION_N_JOBS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">COMPUTATION_N_JOBS</span></code></a>) – Number of jobs to run in parallel
(the maximum number of concurrently running workers).
<code class="docutils literal notranslate"><span class="pre">-1</span></code> uses all CPUs. <code class="docutils literal notranslate"><span class="pre">-2</span></code> uses all CPUs but one.
<code class="docutils literal notranslate"><span class="pre">None</span></code> is treated as 1 unless in a <code class="xref py py-obj docutils literal notranslate"><span class="pre">joblib.Parallel</span></code> backend context
that specifies otherwise.</p></li>
<li><p><strong>verbose</strong> (<em class="xref py py-obj">int</em>, default 1) – Verbosity level during CV.
if &gt; 0, prints number of fits
if &gt; 1, prints fit parameters, total score + fit time
if &gt; 2, prints train/test scores</p></li>
<li><p><strong>cv_horizon</strong> (<em class="xref py py-obj">int</em> or None, default None) – Number of periods in each CV test set
If None, default is <code class="docutils literal notranslate"><span class="pre">forecast_horizon</span></code>.
Set either <code class="docutils literal notranslate"><span class="pre">cv_horizon</span></code> or <code class="docutils literal notranslate"><span class="pre">cv_max_splits</span></code> to 0 to skip CV.</p></li>
<li><p><strong>cv_min_train_periods</strong> (<em class="xref py py-obj">int</em> or None, default None) – Minimum number of periods for training each CV fold.
If cv_expanding_window is False, every training period is this size
If None, default is 2 * <code class="docutils literal notranslate"><span class="pre">cv_horizon</span></code></p></li>
<li><p><strong>cv_expanding_window</strong> (<em class="xref py py-obj">bool</em>, default False) – If True, training window for each CV split is fixed to the first available date.
Otherwise, train start date is sliding, determined by <code class="docutils literal notranslate"><span class="pre">cv_min_train_periods</span></code>.</p></li>
<li><p><strong>cv_use_most_recent_splits</strong> (<em class="xref py py-obj">bool</em>, default False) – If True, splits from the end of the dataset are used.
Else a sampling strategy is applied. Check
<a class="reference internal" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit._sample_splits" title="greykite.sklearn.cross_validation.RollingTimeSeriesSplit._sample_splits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_sample_splits</span></code></a>
for details.</p></li>
<li><p><strong>cv_periods_between_splits</strong> (<em class="xref py py-obj">int</em> or None, default None) – Number of periods to slide the test window between CV splits
If None, default is <code class="docutils literal notranslate"><span class="pre">cv_horizon</span></code></p></li>
<li><p><strong>cv_periods_between_train_test</strong> (<em class="xref py py-obj">int</em> or None, default None) – Number of periods for the gap between train and test in a CV split.
If None, default is <code class="docutils literal notranslate"><span class="pre">periods_between_train_test</span></code>.</p></li>
<li><p><strong>cv_max_splits</strong> (<em class="xref py py-obj">int</em> or None, default 3) – Maximum number of CV splits.
Given the above configuration, samples up to max_splits train/test splits,
preferring splits toward the end of available data. If None, uses all splits.
Set either <code class="docutils literal notranslate"><span class="pre">cv_horizon</span></code> or <code class="docutils literal notranslate"><span class="pre">cv_max_splits</span></code> to 0 to skip CV.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>forecast_result</strong> – Forecast result. See <a class="reference internal" href="#greykite.framework.pipeline.pipeline.ForecastResult" title="greykite.framework.pipeline.pipeline.ForecastResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastResult</span></code></a>
for details.</p>
<blockquote>
<div><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">cv_horizon=0</span></code>, <code class="docutils literal notranslate"><span class="pre">forecast_result.grid_search.best_estimator_</span></code>
and <code class="docutils literal notranslate"><span class="pre">forecast_result.grid_search.best_params_</span></code> attributes are defined
according to the provided single set of parameters. There must be a single
set of parameters to skip cross-validation.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">test_horizon=0</span></code>, <code class="docutils literal notranslate"><span class="pre">forecast_result.backtest</span></code> is None.</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.pipeline.pipeline.ForecastResult" title="greykite.framework.pipeline.pipeline.ForecastResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastResult</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.pipeline.pipeline.ForecastResult">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.pipeline.pipeline.</code><code class="sig-name descname">ForecastResult</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeseries</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries" title="greykite.framework.input.univariate_time_series.UnivariateTimeSeries">greykite.framework.input.univariate_time_series.UnivariateTimeSeries</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">grid_search</span><span class="p">:</span> <span class="n">sklearn.model_selection._search.RandomizedSearchCV</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">model</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)">sklearn.pipeline.Pipeline</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">backtest</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast" title="greykite.framework.output.univariate_forecast.UnivariateForecast">greykite.framework.output.univariate_forecast.UnivariateForecast</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">forecast</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast" title="greykite.framework.output.univariate_forecast.UnivariateForecast">greykite.framework.output.univariate_forecast.UnivariateForecast</a></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/pipeline/pipeline.html#ForecastResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.pipeline.pipeline.ForecastResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Forecast results. Contains results from cross-validation, backtest, and forecast,
the trained model, and the original input data.</p>
<dl class="py attribute">
<dt id="greykite.framework.pipeline.pipeline.ForecastResult.timeseries">
<code class="sig-name descname">timeseries</code><em class="property">: <a class="reference internal" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries" title="greykite.framework.input.univariate_time_series.UnivariateTimeSeries">greykite.framework.input.univariate_time_series.UnivariateTimeSeries</a></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.pipeline.pipeline.ForecastResult.timeseries" title="Permalink to this definition">¶</a></dt>
<dd><p>Input time series in standard format with stats and convenient plot functions.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.pipeline.pipeline.ForecastResult.grid_search">
<code class="sig-name descname">grid_search</code><em class="property">: sklearn.model_selection._search.RandomizedSearchCV</em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.pipeline.pipeline.ForecastResult.grid_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Result of cross-validation grid search on training dataset. The relevant attributes are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cv_results_</span></code> cross-validation scores</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">best_estimator_</span></code> the model used for backtesting</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">best_params_</span></code> the optimal parameters used for backtesting.</p></li>
</ul>
</div></blockquote>
<p>Also see <a class="reference internal" href="#greykite.framework.utils.result_summary.summarize_grid_search_results" title="greykite.framework.utils.result_summary.summarize_grid_search_results"><code class="xref py py-obj docutils literal notranslate"><span class="pre">summarize_grid_search_results</span></code></a>.
We recommend using this function to extract results, rather than accessing <code class="docutils literal notranslate"><span class="pre">cv_results_</span></code> directly.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.pipeline.pipeline.ForecastResult.model">
<code class="sig-name descname">model</code><em class="property">: <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)">sklearn.pipeline.Pipeline</a></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.pipeline.pipeline.ForecastResult.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Model fitted on full dataset, using the best parameters selected via cross-validation.
Has <code class="docutils literal notranslate"><span class="pre">.fit()</span></code>, <code class="docutils literal notranslate"><span class="pre">.predict()</span></code>, and diagnostic functions depending on the model.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.pipeline.pipeline.ForecastResult.backtest">
<code class="sig-name descname">backtest</code><em class="property">: <a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast" title="greykite.framework.output.univariate_forecast.UnivariateForecast">greykite.framework.output.univariate_forecast.UnivariateForecast</a></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.pipeline.pipeline.ForecastResult.backtest" title="Permalink to this definition">¶</a></dt>
<dd><p>Forecast on backtest period.
Backtest period is a holdout test set to check forecast quality against
the most recent actual values available.
The best model from cross validation is refit on data prior to this period.
The timestamps in <code class="docutils literal notranslate"><span class="pre">backtest.df</span></code> are sorted in ascending order.
Has a <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method and attributes to get
forecast vs actuals, evaluation results.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.pipeline.pipeline.ForecastResult.forecast">
<code class="sig-name descname">forecast</code><em class="property">: <a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast" title="greykite.framework.output.univariate_forecast.UnivariateForecast">greykite.framework.output.univariate_forecast.UnivariateForecast</a></em><em class="property"> = None</em><a class="headerlink" href="#greykite.framework.pipeline.pipeline.ForecastResult.forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Forecast on future period.
Future dates are after the train end date, following the holdout test set.
The best model from cross validation is refit on data prior to this period.
The timestamps in <code class="docutils literal notranslate"><span class="pre">forecast.df</span></code> are sorted in ascending order.
Has a <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method and attributes to get
forecast vs actuals, evaluation results.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="template-output">
<h2>Template Output<a class="headerlink" href="#template-output" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.input.univariate_time_series.</code><code class="sig-name descname">UnivariateTimeSeries</code><a class="reference internal" href="../../_modules/greykite/framework/input/univariate_time_series.html#UnivariateTimeSeries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines univariate time series input. The dataset can include regressors,
but only one metric is designated as the target metric to forecast.</p>
<p>Loads time series into a standard format. Provides statistics, plotting
functions, and ability to generate future dataframe for prediction.</p>
<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.df">
<code class="sig-name descname">df</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.df" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame containing timestamp and value, with standardized column names for internal use
(TIME_COL, VALUE_COL). Rows are sorted by time index, and missing gaps between dates are filled
in so that dates are spaced at regular intervals. Values are adjusted for anomalies
according to <code class="docutils literal notranslate"><span class="pre">anomaly_info</span></code>.
The index can be timezone aware (but TIME_COL is not).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.y">
<code class="sig-name descname">y</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.y" title="Permalink to this definition">¶</a></dt>
<dd><p>Value of time series to forecast.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>, dtype float64</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.time_stats">
<code class="sig-name descname">time_stats</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.time_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Summary statistics about the timestamp column.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.value_stats">
<code class="sig-name descname">value_stats</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.value_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Summary statistics about the value column.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.original_time_col">
<code class="sig-name descname">original_time_col</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.original_time_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of time column in original input data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.original_value_col">
<code class="sig-name descname">original_value_col</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.original_value_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of value column in original input data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.regressor_cols">
<code class="sig-name descname">regressor_cols</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.regressor_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of regressor columns in the training and prediction DataFrames.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.lagged_regressor_cols">
<code class="sig-name descname">lagged_regressor_cols</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.lagged_regressor_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of additional columns needed for lagged regressors in the training and prediction DataFrames.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.last_date_for_val">
<code class="sig-name descname">last_date_for_val</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.last_date_for_val" title="Permalink to this definition">¶</a></dt>
<dd><p>Date or timestamp corresponding  to last non-null value in <code class="docutils literal notranslate"><span class="pre">df[original_value_col]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.last_date_for_reg">
<code class="sig-name descname">last_date_for_reg</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.last_date_for_reg" title="Permalink to this definition">¶</a></dt>
<dd><p>Date or timestamp corresponding to last non-null value in <code class="docutils literal notranslate"><span class="pre">df[regressor_cols]</span></code>.
If <code class="docutils literal notranslate"><span class="pre">regressor_cols</span></code> is None, <code class="docutils literal notranslate"><span class="pre">last_date_for_reg</span></code> is None.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.last_date_for_lag_reg">
<code class="sig-name descname">last_date_for_lag_reg</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.last_date_for_lag_reg" title="Permalink to this definition">¶</a></dt>
<dd><p>Date or timestamp corresponding to last non-null value in <code class="docutils literal notranslate"><span class="pre">df[lagged_regressor_cols]</span></code>.
If <code class="docutils literal notranslate"><span class="pre">lagged_regressor_cols</span></code> is None, <code class="docutils literal notranslate"><span class="pre">last_date_for_lag_reg</span></code> is None.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.train_end_date">
<code class="sig-name descname">train_end_date</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.train_end_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Last date or timestamp in <code class="docutils literal notranslate"><span class="pre">fit_df</span></code>. It is always less than or equal to
minimum non-null values of <code class="docutils literal notranslate"><span class="pre">last_date_for_val</span></code> and <code class="docutils literal notranslate"><span class="pre">last_date_for_reg</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.fit_cols">
<code class="sig-name descname">fit_cols</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.fit_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of columns used in the training and prediction DataFrames.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.fit_df">
<code class="sig-name descname">fit_df</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.fit_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Data frame containing timestamp and value, with standardized column names for internal use.
Will be used for fitting (train, cv, backtest).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.fit_y">
<code class="sig-name descname">fit_y</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.fit_y" title="Permalink to this definition">¶</a></dt>
<dd><p>Value of time series for fit_df.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>, dtype float64</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.freq">
<code class="sig-name descname">freq</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.freq" title="Permalink to this definition">¶</a></dt>
<dd><p>timeseries frequency, DateOffset alias, e.g. {‘T’ (minute), ‘H’, D’, ‘W’, ‘M’ (month end), ‘MS’ (month start),
‘Y’ (year end), ‘Y’ (year start)}
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases</a></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.anomaly_info">
<code class="sig-name descname">anomaly_info</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.anomaly_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Anomaly adjustment info. Anomalies in <code class="docutils literal notranslate"><span class="pre">df</span></code>
are corrected before any forecasting is done.
See <code class="docutils literal notranslate"><span class="pre">self.load_data()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">dict</em>] or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.df_before_adjustment">
<code class="sig-name descname">df_before_adjustment</code><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.df_before_adjustment" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">self.df</span></code> before adjustment by <code class="docutils literal notranslate"><span class="pre">anomaly_info</span></code>.
Used by <code class="docutils literal notranslate"><span class="pre">self.plot()</span></code> to show the adjustment.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.load_data">
<code class="sig-name descname">load_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">freq</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">date_format</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tz</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">train_end_date</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)">datetime.datetime</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">regressor_cols</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lagged_regressor_cols</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">anomaly_info</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>Dict<span class="p">, </span>List<span class="p">[</span>Dict<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/input/univariate_time_series.html#UnivariateTimeSeries.load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads data to internal representation. Parses date column,
sets timezone aware index.
Checks for irregularities and raises an error if input is invalid.
Adjusts for anomalies according to <code class="docutils literal notranslate"><span class="pre">anomaly_info</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input timeseries. A data frame which includes the timestamp column
as well as the value column.</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – The column name in <code class="docutils literal notranslate"><span class="pre">df</span></code> representing time for the time series data.
The time column can be anything that can be parsed by pandas DatetimeIndex.</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – The column name which has the value of interest to be forecasted.</p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – Timeseries frequency, DateOffset alias, If None automatically inferred.</p></li>
<li><p><strong>date_format</strong> (<em class="xref py py-obj">str</em> or None, default None) – strftime format to parse time column, eg <code class="docutils literal notranslate"><span class="pre">%m/%d/%Y</span></code>.
Note that <code class="docutils literal notranslate"><span class="pre">%f</span></code> will parse all the way up to nanoseconds.
If None (recommended), inferred by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.to_datetime.html#pandas.to_datetime" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.to_datetime</span></code></a>.</p></li>
<li><p><strong>tz</strong> (<em class="xref py py-obj">str</em> or pytz.timezone object or None, default None) – Passed to <em class="xref py py-obj">pandas.tz_localize</em> to localize the timestamp.</p></li>
<li><p><strong>train_end_date</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> or None, default None) – Last date to use for fitting the model. Forecasts are generated after this date.
If None, it is set to the minimum of <code class="docutils literal notranslate"><span class="pre">self.last_date_for_val</span></code> and
<code class="docutils literal notranslate"><span class="pre">self.last_date_for_reg</span></code>.</p></li>
<li><p><strong>regressor_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – A list of regressor columns used in the training and prediction DataFrames.
If None, no regressor columns are used.
Regressor columns that are unavailable in <code class="docutils literal notranslate"><span class="pre">df</span></code> are dropped.</p></li>
<li><p><strong>lagged_regressor_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – A list of additional columns needed for lagged regressors in the training and prediction DataFrames.
This list can have overlap with <code class="docutils literal notranslate"><span class="pre">regressor_cols</span></code>.
If None, no additional columns are added to the DataFrame.
Lagged regressor columns that are unavailable in <code class="docutils literal notranslate"><span class="pre">df</span></code> are dropped.</p></li>
<li><p><strong>anomaly_info</strong> (<em class="xref py py-obj">dict</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">dict</em>] or None, default None) – <p>Anomaly adjustment info. Anomalies in <code class="docutils literal notranslate"><span class="pre">df</span></code>
are corrected before any forecasting is done.</p>
<p>If None, no adjustments are made.</p>
<p>A dictionary containing the parameters to
<a class="reference internal" href="#greykite.common.features.adjust_anomalous_data.adjust_anomalous_data" title="greykite.common.features.adjust_anomalous_data.adjust_anomalous_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">adjust_anomalous_data</span></code></a>.
See that function for details.
The possible keys are:</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;value_col&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>The name of the column in <code class="docutils literal notranslate"><span class="pre">df</span></code> to adjust. You may adjust the value
to forecast as well as any numeric regressors.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;anomaly_df&quot;</span></code><span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>Adjustments to correct the anomalies.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;start_time_col&quot;</span></code>: <em class="xref py py-obj">str</em>, default START_TIME_COL</dt><dd><p>Start date column in <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;end_time_col&quot;</span></code>: <em class="xref py py-obj">str</em>, default END_TIME_COL</dt><dd><p>End date column in <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;adjustment_delta_col&quot;</span></code>: <em class="xref py py-obj">str</em> or None, default None</dt><dd><p>Impact column in <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;filter_by_dict&quot;</span></code>: <em class="xref py py-obj">dict</em> or None, default None</dt><dd><p>Used to filter <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code> to the relevant anomalies for
the <code class="docutils literal notranslate"><span class="pre">value_col</span></code> in this dictionary.
Key specifies the column name, value specifies the filter value.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;filter_by_value_col&quot;&quot;</span></code>: <em class="xref py py-obj">str</em> or None, default None</dt><dd><p>Adds <code class="docutils literal notranslate"><span class="pre">{filter_by_value_col:</span> <span class="pre">value_col}</span></code> to <code class="docutils literal notranslate"><span class="pre">filter_by_dict</span></code>
if not None, for the <code class="docutils literal notranslate"><span class="pre">value_col</span></code> in this dictionary.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;adjustment_method&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em> (“add” or “subtract”), default “add”</span></dt><dd><p>How to make the adjustment, if <code class="docutils literal notranslate"><span class="pre">adjustment_delta_col</span></code> is provided.</p>
</dd>
</dl>
</div></blockquote>
<p>Accepts a list of such dictionaries to adjust multiple columns in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Sets <code class="docutils literal notranslate"><span class="pre">self.df</span></code> with standard column names,
value adjusted for anomalies, and time gaps filled in,
sorted by time index.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Returns self.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.describe_time_col">
<code class="sig-name descname">describe_time_col</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/input/univariate_time_series.html#UnivariateTimeSeries.describe_time_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.describe_time_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic descriptive stats on the timeseries time column.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>time_stats</strong> –</p>
<p>Dictionary with descriptive stats on the timeseries time column.</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>data_points: int</dt><dd><p>number of time points</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>mean_increment_secs: float</dt><dd><p>mean frequency</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>min_timestamp: datetime64</dt><dd><p>start date</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>max_timestamp: datetime64</dt><dd><p>end date</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.describe_value_col">
<code class="sig-name descname">describe_value_col</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/input/univariate_time_series.html#UnivariateTimeSeries.describe_value_col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.describe_value_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic descriptive stats on the timeseries value column.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>value_stats</strong> – Dict with keys: count, mean, std, min, 25%, 50%, 75%, max</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">float</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.make_future_dataframe">
<code class="sig-name descname">make_future_dataframe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">periods</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">include_history</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/input/univariate_time_series.html#UnivariateTimeSeries.make_future_dataframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.make_future_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Extends the input data for prediction into the future.</p>
<p>Includes the historical values (VALUE_COL) so this can be fed
into a Pipeline that transforms input data for fitting, and for
use in evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>periods</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) – Number of periods to forecast.
If there are no regressors, default is 30.
If there are regressors, default is to predict all available dates.</p></li>
<li><p><strong>include_history</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Whether to return historical dates and values with future dates.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>future_df</strong> – Dataframe with future timestamps for prediction.
Contains columns for:</p>
<blockquote>
<div><ul class="simple">
<li><p>prediction dates (<code class="docutils literal notranslate"><span class="pre">TIME_COL</span></code>),</p></li>
<li><p>values (<code class="docutils literal notranslate"><span class="pre">VALUE_COL</span></code>),</p></li>
<li><p>optional regressors</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'rgb(32, 149, 212)'</span></em>, <em class="sig-param"><span class="n">show_anomaly_adjustment</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/input/univariate_time_series.html#UnivariateTimeSeries.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns interactive plotly graph of the value against time.</p>
<p>If anomaly info is provided, there is an option to show the anomaly adjustment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>color</strong> (<em class="xref py py-obj">str</em>, default “rgb(32, 149, 212)” (light blue)) – Color of the value line (after adjustment, if applicable).</p></li>
<li><p><strong>show_anomaly_adjustment</strong> (<em class="xref py py-obj">bool</em>, default False) – Whether to show the anomaly adjustment.</p></li>
<li><p><strong>kwargs</strong> (<em>additional parameters</em>) – Additional parameters to pass to
<a class="reference internal" href="#greykite.common.viz.timeseries_plotting.plot_univariate" title="greykite.common.viz.timeseries_plotting.plot_univariate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_univariate</span></code></a>
such as title and color.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>fig</strong> – Interactive plotly graph of the value against time.</p>
<p>See <a class="reference internal" href="#greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual" title="greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_forecast_vs_actual</span></code></a>
return value for how to plot the figure and add customization.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.get_grouping_evaluation">
<code class="sig-name descname">get_grouping_evaluation</code><span class="sig-paren">(</span><em class="sig-param">aggregation_func=&lt;function nanmean&gt;</em>, <em class="sig-param">aggregation_func_name='mean'</em>, <em class="sig-param">groupby_time_feature=None</em>, <em class="sig-param">groupby_sliding_window_size=None</em>, <em class="sig-param">groupby_custom_column=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/input/univariate_time_series.html#UnivariateTimeSeries.get_grouping_evaluation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.get_grouping_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Group-wise computation of aggregated timeSeries value.
Can be used to evaluate error/ aggregated value by a time feature,
over time, or by a user-provided column.</p>
<p>Exactly one of: <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>,
<code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code> must be provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aggregation_func</strong> (callable, optional, default <code class="docutils literal notranslate"><span class="pre">numpy.nanmean</span></code>) – Function that aggregates an array to a number.
Signature (y: array) -&gt; aggregated value: float.</p></li>
<li><p><strong>aggregation_func_name</strong> (<em class="xref py py-obj">str</em> or None, optional, default “mean”) – Name of grouping function, used to report results.
If None, defaults to “aggregation”.</p></li>
<li><p><strong>groupby_time_feature</strong> (<em class="xref py py-obj">str</em> or None, optional) – If provided, groups by a column generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See that function for valid values.</p></li>
<li><p><strong>groupby_sliding_window_size</strong> (<em class="xref py py-obj">int</em> or None, optional) – If provided, sequentially partitions data into groups of size
<code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>.</p></li>
<li><p><strong>groupby_custom_column</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or None, optional) – If provided, groups by this column value. Should be same length as the DataFrame.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>grouped_df</strong> –</p>
<ol class="arabic simple">
<li><p>grouping_func_name:
evaluation metric for aggregation of timeseries.</p></li>
<li><p>group name:
group name depends on the grouping method:
<code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code> for <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>
<code class="docutils literal notranslate"><span class="pre">cst.TIME_COL</span></code> for <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>
<code class="docutils literal notranslate"><span class="pre">groupby_custom_column.name</span></code> for <code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code>.</p></li>
</ol>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> with two columns:</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.plot_grouping_evaluation">
<code class="sig-name descname">plot_grouping_evaluation</code><span class="sig-paren">(</span><em class="sig-param">aggregation_func=&lt;function nanmean&gt;</em>, <em class="sig-param">aggregation_func_name='mean'</em>, <em class="sig-param">groupby_time_feature=None</em>, <em class="sig-param">groupby_sliding_window_size=None</em>, <em class="sig-param">groupby_custom_column=None</em>, <em class="sig-param">xlabel=None</em>, <em class="sig-param">ylabel=None</em>, <em class="sig-param">title=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/input/univariate_time_series.html#UnivariateTimeSeries.plot_grouping_evaluation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.plot_grouping_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes aggregated timeseries by group and plots the result.
Can be used to plot aggregated timeseries by a time feature, over time,
or by a user-provided column.</p>
<p>Exactly one of: <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>,
<code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code> must be provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aggregation_func</strong> (callable, optional, default <code class="docutils literal notranslate"><span class="pre">numpy.nanmean</span></code>) – Function that aggregates an array to a number.
Signature (y: array) -&gt; aggregated value: float.</p></li>
<li><p><strong>aggregation_func_name</strong> (<em class="xref py py-obj">str</em> or None, optional, default “mean”) – Name of grouping function, used to report results.
If None, defaults to “aggregation”.</p></li>
<li><p><strong>groupby_time_feature</strong> (<em class="xref py py-obj">str</em> or None, optional) – If provided, groups by a column generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See that function for valid values.</p></li>
<li><p><strong>groupby_sliding_window_size</strong> (<em class="xref py py-obj">int</em> or None, optional) – If provided, sequentially partitions data into groups of size
<code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>.</p></li>
<li><p><strong>groupby_custom_column</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or None, optional) – If provided, groups by this column value. Should be same length as the DataFrame.</p></li>
<li><p><strong>xlabel</strong> (<em class="xref py py-obj">str</em>, optional, default None) – X-axis label of the plot.</p></li>
<li><p><strong>ylabel</strong> (<em class="xref py py-obj">str</em>, optional, default None) – Y-axis label of the plot.</p></li>
<li><p><strong>title</strong> (<em class="xref py py-obj">str</em> or None, optional) – Plot title. If None, default is based on axis labels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – plotly graph object showing aggregated timeseries by group.
x-axis label depends on the grouping method:
<code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code> for <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>
<code class="docutils literal notranslate"><span class="pre">TIME_COL</span></code> for <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>
<code class="docutils literal notranslate"><span class="pre">groupby_custom_column.name</span></code> for <code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.get_quantiles_and_overlays">
<code class="sig-name descname">get_quantiles_and_overlays</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">groupby_time_feature</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groupby_sliding_window_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groupby_custom_column</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">show_mean</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_quantiles</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_overlays</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">overlay_label_time_feature</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">overlay_label_sliding_window_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">overlay_label_custom_column</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">center_values</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">mean_col_name</span><span class="o">=</span><span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">quantile_col_prefix</span><span class="o">=</span><span class="default_value">'Q'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">overlay_pivot_table_kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/input/univariate_time_series.html#UnivariateTimeSeries.get_quantiles_and_overlays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.get_quantiles_and_overlays" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes mean, quantiles, and overlays by the requested grouping dimension.</p>
<p>Overlays are best explained in the plotting context. The grouping dimension goes on
the x-axis, and one line is shown for each level of the overlay dimension. This
function returns a column for each line to plot (e.g. mean, each quantile,
each overlay value).</p>
<p>Exactly one of: <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>,
<code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code> must be provided as the grouping dimension.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">show_overlays</span></code> is True, exactly one of: <code class="docutils literal notranslate"><span class="pre">overlay_label_time_feature</span></code>,
<code class="docutils literal notranslate"><span class="pre">overlay_label_sliding_window_size</span></code>, <code class="docutils literal notranslate"><span class="pre">overlay_label_custom_column</span></code> can be
provided to specify the <code class="docutils literal notranslate"><span class="pre">label_col</span></code> (overlay dimension). Internally, the
function calls <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.pivot_table</span></code></a> with <code class="docutils literal notranslate"><span class="pre">index=groupby_col</span></code>,
<code class="docutils literal notranslate"><span class="pre">columns=label_col</span></code>, <code class="docutils literal notranslate"><span class="pre">values=value_col</span></code> to get the overlay values for plotting.
You can pass additional parameters to <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.pivot_table</span></code></a> via
<code class="docutils literal notranslate"><span class="pre">overlay_pivot_table_kwargs</span></code>, e.g. to change the aggregation method. If an explicit
label is not provided, the records are labeled by their position within the group.</p>
<p>For example, to show yearly seasonality mean, quantiles, and overlay plots for
each individual year, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">get_quantiles_and_overlays</span><span class="p">(</span>
    <span class="n">groupby_time_feature</span><span class="o">=</span><span class="s2">&quot;doy&quot;</span><span class="p">,</span>         <span class="c1"># Rows: a row for each day of year (1, 2, ..., 366)</span>
    <span class="n">show_mean</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>                     <span class="c1"># mean value on that day</span>
    <span class="n">show_quantiles</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>          <span class="c1"># quantiles of the observed distribution on that day</span>
    <span class="n">show_overlays</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>                 <span class="c1"># Include overlays defined by ``overlay_label_time_feature``</span>
    <span class="n">overlay_label_time_feature</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">)</span>  <span class="c1"># One column for each observed &quot;year&quot; (2016, 2017, 2018, ...)</span>
</pre></div>
</div>
<p>To show weekly seasonality over time, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">get_quantiles_and_overlays</span><span class="p">(</span>
    <span class="n">groupby_time_feature</span><span class="o">=</span><span class="s2">&quot;dow&quot;</span><span class="p">,</span>            <span class="c1"># Rows: a row for each day of week (1, 2, ..., 7)</span>
    <span class="n">show_mean</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>                        <span class="c1"># mean value on that day</span>
    <span class="n">show_quantiles</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>        <span class="c1"># quantiles of the observed distribution on that day</span>
    <span class="n">show_overlays</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>                    <span class="c1"># Include overlays defined by ``overlay_label_time_feature``</span>
    <span class="n">overlay_label_sliding_window_size</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>  <span class="c1"># One column for each 90 period sliding window in the dataset,</span>
    <span class="n">aggfunc</span><span class="o">=</span><span class="s2">&quot;median&quot;</span><span class="p">)</span>                      <span class="c1"># overlay value is the median value for the dow over the period (default=&quot;mean&quot;).</span>
</pre></div>
</div>
<p>It may be difficult to assess the weekly seasonality from the previous result,
because overlays shift up/down over time due to trend/yearly seasonality.
Use <code class="docutils literal notranslate"><span class="pre">center_values=True</span></code> to adjust each overlay so its average value is centered at 0.
Mean and quantiles are shifted by a single constant to center the mean at 0, while
preserving their relative values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">get_quantiles_and_overlays</span><span class="p">(</span>
    <span class="n">groupby_time_feature</span><span class="o">=</span><span class="s2">&quot;dow&quot;</span><span class="p">,</span>
    <span class="n">show_mean</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">show_quantiles</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>
    <span class="n">show_overlays</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">overlay_label_sliding_window_size</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
    <span class="n">aggfunc</span><span class="o">=</span><span class="s2">&quot;median&quot;</span><span class="p">,</span>
    <span class="n">center_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Centers the output</span>
</pre></div>
</div>
<p>Centering reduces the variability in the overlays to make it easier to isolate
the effect by the groupby column. As a result, centered overlays have smaller
variability than that reported by the quantiles, which operate on the original,
uncentered data points. Similarly, if overlays are aggregates of individual values
(i.e. <code class="docutils literal notranslate"><span class="pre">aggfunc</span></code> is needed in the call to <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.pivot_table</span></code></a>),
the quantiles of overlays will be less extreme than those of the original data.</p>
<blockquote>
<div><ul class="simple">
<li><p>To assess variability conditioned on the groupby value, check the quantiles.</p></li>
<li><p>To assess variability conditioned on both the groupby and overlay value,
after any necessary aggregation, check the variability of the overlay values.
Compute quantiles of overlays from the return value if desired.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>groupby_time_feature</strong> (<em class="xref py py-obj">str</em> or None, default None) – If provided, groups by a column generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See that function for valid values.</p></li>
<li><p><strong>groupby_sliding_window_size</strong> (<em class="xref py py-obj">int</em> or None, default None) – If provided, sequentially partitions data into groups of size
<code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>.</p></li>
<li><p><strong>groupby_custom_column</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or None, default None) – If provided, groups by this column value. Should be same length as the DataFrame.</p></li>
<li><p><strong>show_mean</strong> (<em class="xref py py-obj">bool</em>, default False) – Whether to return the mean value by the groupby column.</p></li>
<li><p><strong>show_quantiles</strong> (<em class="xref py py-obj">bool</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] or <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, default False) – Whether to return the quantiles of the value by the groupby column.
If False, does not return quantiles. If True, returns default
quantiles (0.1 and 0.9). If array-like, a list of quantiles
to compute (e.g. (0.1, 0.25, 0.75, 0.9)).</p></li>
<li><p><strong>show_overlays</strong> (<em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em> or array-like [<em class="xref py py-obj">int</em> or <em class="xref py py-obj">str</em>] or None, default False) – <p>Whether to return overlays of the value by the groupby column.</p>
<p>If False, no overlays are shown.</p>
<p>If True and <code class="docutils literal notranslate"><span class="pre">label_col</span></code> is defined, calls <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.pivot_table</span></code></a> with
<code class="docutils literal notranslate"><span class="pre">index=groupby_col</span></code>, <code class="docutils literal notranslate"><span class="pre">columns=label_col</span></code>, <code class="docutils literal notranslate"><span class="pre">values=value_col</span></code>.
<code class="docutils literal notranslate"><span class="pre">label_col</span></code> is defined by one of <code class="docutils literal notranslate"><span class="pre">overlay_label_time_feature</span></code>,
<code class="docutils literal notranslate"><span class="pre">overlay_label_sliding_window_size</span></code>, or <code class="docutils literal notranslate"><span class="pre">overlay_label_custom_column</span></code>.
Returns one column for each value of the <code class="docutils literal notranslate"><span class="pre">label_col</span></code>.</p>
<p>If True and the <code class="docutils literal notranslate"><span class="pre">label_col</span></code> is not defined, returns the raw values within
each group. Values across groups are put into columns by their position in
the group (1st element in group, 2nd, 3rd, etc.). Positional order in a group
is not guaranteed to correspond to anything meaningful, so the items within a
column may not have anything in common. It is better to specify one of <code class="docutils literal notranslate"><span class="pre">overlay_*</span></code>
to explicitly define the overlay labels.</p>
<p>If an integer, the number of overlays to randomly sample. The same as True,
then randomly samples up to <em class="xref py py-obj">int</em> columns. This is useful if there are too many values.</p>
<p>If a list [int], a list of column indices (int type). The same as True,
then selects the specified columns by index.</p>
<p>If a list [str], a list of column names. Column names are matched by their
string representation to the names in this list. The same as True,
then selects the specified columns by name.</p>
</p></li>
<li><p><strong>overlay_label_time_feature</strong> (<em class="xref py py-obj">str</em> or None, default None) – <p>If <code class="docutils literal notranslate"><span class="pre">show_overlays</span></code> is True, can be used to define <code class="docutils literal notranslate"><span class="pre">label_col</span></code>,
i.e. which dimension to show separately as overlays.</p>
<p>If provided, uses a column generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See that function for valid values.</p>
</p></li>
<li><p><strong>overlay_label_sliding_window_size</strong> (<em class="xref py py-obj">int</em> or None, default None) – <p>If <code class="docutils literal notranslate"><span class="pre">show_overlays</span></code> is True, can be used to define <code class="docutils literal notranslate"><span class="pre">label_col</span></code>,
i.e. which dimension to show separately as overlays.</p>
<p>If provided, uses a column that sequentially partitions data into groups
of size <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>.</p>
</p></li>
<li><p><strong>overlay_label_custom_column</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or None, default None) – <p>If <code class="docutils literal notranslate"><span class="pre">show_overlays</span></code> is True, can be used to define <code class="docutils literal notranslate"><span class="pre">label_col</span></code>,
i.e. which dimension to show separately as overlays.</p>
<p>If provided, uses this column value. Should be same length as the DataFrame.</p>
</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>, default VALUE_COL) – The column name for the value column. By default,
shows the univariate time series value, but it can be any
other column in <code class="docutils literal notranslate"><span class="pre">self.df</span></code>.</p></li>
<li><p><strong>mean_col_name</strong> (<em class="xref py py-obj">str</em>, default “mean”) – The name to use for the mean column in the output.
Applies if <code class="docutils literal notranslate"><span class="pre">show_mean=True</span></code>.</p></li>
<li><p><strong>quantile_col_prefix</strong> (<em class="xref py py-obj">str</em>, default “Q”) – The prefix to use for quantile column names in the output.
Columns are named with this prefix followed by the quantile,
rounded to 2 decimal places.</p></li>
<li><p><strong>center_values</strong> (<em class="xref py py-obj">bool</em>, default False) – <p>Whether to center the return values.
If True, shifts each overlay so its average value is centered at 0.
Shifts mean and quantiles by a constant to center the mean at 0, while
preserving their relative values.</p>
<p>If False, values are not centered.</p>
</p></li>
<li><p><strong>overlay_pivot_table_kwargs</strong> (<em>additional parameters</em>) – Additional keyword parameters to pass to <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.pivot_table</span></code></a>,
used in generating the overlays. See above description for details.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>grouped_df</strong> – Dataframe with mean, quantiles, and overlays by the grouping column. Overlays
are defined by the grouping column and overlay dimension.</p>
<p>ColumnIndex is a multiindex with first level as the “category”, a subset of
[MEAN_COL_GROUP, QUANTILE_COL_GROUP, OVERLAY_COL_GROUP] depending on what is requests.</p>
<blockquote>
<div><ul class="simple">
<li><p>grouped_df[MEAN_COL_GROUP] = df with single column, named <code class="docutils literal notranslate"><span class="pre">mean_col_name</span></code>.</p></li>
<li><p>grouped_df[QUANTILE_COL_GROUP] = df with a column for each quantile, named
f”{quantile_col_prefix}{round(str(q))}”, where <code class="docutils literal notranslate"><span class="pre">q</span></code> is the quantile.</p></li>
<li><p>grouped_df[OVERLAY_COL_GROUP] = df with one column per overlay value, named
by the overlay value.</p></li>
</ul>
</div></blockquote>
<p>For example, it might look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">category</span>    <span class="n">mean</span>    <span class="n">quantile</span>        <span class="n">overlay</span>
<span class="n">name</span>        <span class="n">mean</span>    <span class="n">Q0</span><span class="o">.</span><span class="mi">1</span>    <span class="n">Q0</span><span class="o">.</span><span class="mi">9</span>    <span class="mi">2007</span>    <span class="mi">2008</span>    <span class="mi">2009</span>
<span class="n">doy</span>
<span class="mi">1</span>               <span class="mf">8.42</span>    <span class="mf">7.72</span>    <span class="mf">9.08</span>    <span class="mf">8.29</span>    <span class="mf">7.75</span>    <span class="mf">8.33</span>
<span class="mi">2</span>               <span class="mf">8.82</span>    <span class="mf">8.20</span>    <span class="mf">9.56</span>    <span class="mf">8.43</span>    <span class="mf">8.80</span>    <span class="mf">8.53</span>
<span class="mi">3</span>               <span class="mf">8.95</span>    <span class="mf">8.25</span>    <span class="mf">9.88</span>    <span class="mf">8.26</span>    <span class="mf">9.12</span>    <span class="mf">8.70</span>
<span class="mi">4</span>               <span class="mf">9.07</span>    <span class="mf">8.60</span>    <span class="mf">9.49</span>    <span class="mf">8.10</span>    <span class="mf">9.99</span>    <span class="mf">8.73</span>
<span class="mi">5</span>               <span class="mf">8.73</span>    <span class="mf">8.29</span>    <span class="mf">9.24</span>    <span class="mf">7.95</span>    <span class="mf">9.26</span>    <span class="mf">8.37</span>
<span class="o">...</span>         <span class="o">...</span>     <span class="o">...</span>     <span class="o">...</span>     <span class="o">...</span>     <span class="o">...</span>     <span class="o">...</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.plot_quantiles_and_overlays">
<code class="sig-name descname">plot_quantiles_and_overlays</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">groupby_time_feature</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groupby_sliding_window_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groupby_custom_column</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">show_mean</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_quantiles</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_overlays</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">overlay_label_time_feature</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">overlay_label_sliding_window_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">overlay_label_custom_column</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">center_values</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">mean_col_name</span><span class="o">=</span><span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">quantile_col_prefix</span><span class="o">=</span><span class="default_value">'Q'</span></em>, <em class="sig-param"><span class="n">mean_style</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">quantile_style</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">overlay_style</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">showlegend</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">overlay_pivot_table_kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/input/univariate_time_series.html#UnivariateTimeSeries.plot_quantiles_and_overlays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.plot_quantiles_and_overlays" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots mean, quantiles, and overlays by the requested grouping dimension.</p>
<p>The grouping dimension goes on the x-axis, and one line is shown for the mean,
each quantile, and each level of the overlay dimension, as requested. By default,
shading is applied between the quantiles.</p>
<p>Exactly one of: <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>,
<code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code> must be provided as the grouping dimension.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">show_overlays</span></code> is True, exactly one of: <code class="docutils literal notranslate"><span class="pre">overlay_label_time_feature</span></code>,
<code class="docutils literal notranslate"><span class="pre">overlay_label_sliding_window_size</span></code>, <code class="docutils literal notranslate"><span class="pre">overlay_label_custom_column</span></code> can be
provided to specify the <code class="docutils literal notranslate"><span class="pre">label_col</span></code> (overlay dimension). Internally, the
function calls <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.pivot_table</span></code></a> with <code class="docutils literal notranslate"><span class="pre">index=groupby_col</span></code>,
<code class="docutils literal notranslate"><span class="pre">columns=label_col</span></code>, <code class="docutils literal notranslate"><span class="pre">values=value_col</span></code> to get the overlay values for plotting.
You can pass additional parameters to <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.pivot_table</span></code></a> via
<code class="docutils literal notranslate"><span class="pre">overlay_pivot_table_kwargs</span></code>, e.g. to change the aggregation method. If an explicit
label is not provided, the records are labeled by their position within the group.</p>
<p>For example, to show yearly seasonality mean, quantiles, and overlay plots for
each individual year, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">plot_quantiles_and_overlays</span><span class="p">(</span>
    <span class="n">groupby_time_feature</span><span class="o">=</span><span class="s2">&quot;doy&quot;</span><span class="p">,</span>         <span class="c1"># Rows: a row for each day of year (1, 2, ..., 366)</span>
    <span class="n">show_mean</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>                     <span class="c1"># mean value on that day</span>
    <span class="n">show_quantiles</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>          <span class="c1"># quantiles of the observed distribution on that day</span>
    <span class="n">show_overlays</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>                 <span class="c1"># Include overlays defined by ``overlay_label_time_feature``</span>
    <span class="n">overlay_label_time_feature</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">)</span>  <span class="c1"># One column for each observed &quot;year&quot; (2016, 2017, 2018, ...)</span>
</pre></div>
</div>
<p>To show weekly seasonality over time, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">plot_quantiles_and_overlays</span><span class="p">(</span>
    <span class="n">groupby_time_feature</span><span class="o">=</span><span class="s2">&quot;dow&quot;</span><span class="p">,</span>            <span class="c1"># Rows: a row for each day of week (1, 2, ..., 7)</span>
    <span class="n">show_mean</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>                        <span class="c1"># mean value on that day</span>
    <span class="n">show_quantiles</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>        <span class="c1"># quantiles of the observed distribution on that day</span>
    <span class="n">show_overlays</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>                    <span class="c1"># Include overlays defined by ``overlay_label_time_feature``</span>
    <span class="n">overlay_label_sliding_window_size</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>  <span class="c1"># One column for each 90 period sliding window in the dataset,</span>
    <span class="n">aggfunc</span><span class="o">=</span><span class="s2">&quot;median&quot;</span><span class="p">)</span>                      <span class="c1"># overlay value is the median value for the dow over the period (default=&quot;mean&quot;).</span>
</pre></div>
</div>
<p>It may be difficult to assess the weekly seasonality from the previous result,
because overlays shift up/down over time due to trend/yearly seasonality.
Use <code class="docutils literal notranslate"><span class="pre">center_values=True</span></code> to adjust each overlay so its average value is centered at 0.
Mean and quantiles are shifted by a single constant to center the mean at 0, while
preserving their relative values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">plot_quantiles_and_overlays</span><span class="p">(</span>
    <span class="n">groupby_time_feature</span><span class="o">=</span><span class="s2">&quot;dow&quot;</span><span class="p">,</span>
    <span class="n">show_mean</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">show_quantiles</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>
    <span class="n">show_overlays</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">overlay_label_sliding_window_size</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
    <span class="n">aggfunc</span><span class="o">=</span><span class="s2">&quot;median&quot;</span><span class="p">,</span>
    <span class="n">center_values</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Centers the output</span>
</pre></div>
</div>
<p>Centering reduces the variability in the overlays to make it easier to isolate
the effect by the groupby column. As a result, centered overlays have smaller
variability than that reported by the quantiles, which operate on the original,
uncentered data points. Similarly, if overlays are aggregates of individual values
(i.e. <code class="docutils literal notranslate"><span class="pre">aggfunc</span></code> is needed in the call to <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.pivot_table</span></code></a>),
the quantiles of overlays will be less extreme than those of the original data.</p>
<blockquote>
<div><ul class="simple">
<li><p>To assess variability conditioned on the groupby value, check the quantiles.</p></li>
<li><p>To assess variability conditioned on both the groupby and overlay value,
after any necessary aggregation, check the variability of the overlay values.
Compute quantiles of overlays from the return value if desired.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>groupby_time_feature</strong> (<em class="xref py py-obj">str</em> or None, default None) – If provided, groups by a column generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See that function for valid values.</p></li>
<li><p><strong>groupby_sliding_window_size</strong> (<em class="xref py py-obj">int</em> or None, default None) – If provided, sequentially partitions data into groups of size
<code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>.</p></li>
<li><p><strong>groupby_custom_column</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or None, default None) – If provided, groups by this column value. Should be same length as the DataFrame.</p></li>
<li><p><strong>show_mean</strong> (<em class="xref py py-obj">bool</em>, default False) – Whether to return the mean value by the groupby column.</p></li>
<li><p><strong>show_quantiles</strong> (<em class="xref py py-obj">bool</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] or <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, default False) – Whether to return the quantiles of the value by the groupby column.
If False, does not return quantiles. If True, returns default
quantiles (0.1 and 0.9). If array-like, a list of quantiles
to compute (e.g. (0.1, 0.25, 0.75, 0.9)).</p></li>
<li><p><strong>show_overlays</strong> (<em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em> or array-like [<em class="xref py py-obj">int</em> or <em class="xref py py-obj">str</em>], default False) – <p>Whether to return overlays of the value by the groupby column.</p>
<p>If False, no overlays are shown.</p>
<p>If True and <code class="docutils literal notranslate"><span class="pre">label_col</span></code> is defined, calls <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.pivot_table</span></code></a> with
<code class="docutils literal notranslate"><span class="pre">index=groupby_col</span></code>, <code class="docutils literal notranslate"><span class="pre">columns=label_col</span></code>, <code class="docutils literal notranslate"><span class="pre">values=value_col</span></code>.
<code class="docutils literal notranslate"><span class="pre">label_col</span></code> is defined by one of <code class="docutils literal notranslate"><span class="pre">overlay_label_time_feature</span></code>,
<code class="docutils literal notranslate"><span class="pre">overlay_label_sliding_window_size</span></code>, or <code class="docutils literal notranslate"><span class="pre">overlay_label_custom_column</span></code>.
Returns one column for each value of the <code class="docutils literal notranslate"><span class="pre">label_col</span></code>.</p>
<p>If True and the <code class="docutils literal notranslate"><span class="pre">label_col</span></code> is not defined, returns the raw values within
each group. Values across groups are put into columns by their position in
the group (1st element in group, 2nd, 3rd, etc.). Positional order in a group
is not guaranteed to correspond to anything meaningful, so the items within a
column may not have anything in common. It is better to specify one of <code class="docutils literal notranslate"><span class="pre">overlay_*</span></code>
to explicitly define the overlay labels.</p>
<p>If an integer, the number of overlays to randomly sample. The same as True,
then randomly samples up to <em class="xref py py-obj">int</em> columns. This is useful if there are too many values.</p>
<p>If a list [int], a list of column indices (int type). The same as True,
then selects the specified columns by index.</p>
<p>If a list [str], a list of column names. Column names are matched by their
string representation to the names in this list. The same as True,
then selects the specified columns by name.</p>
</p></li>
<li><p><strong>overlay_label_time_feature</strong> (<em class="xref py py-obj">str</em> or None, default None) – <p>If <code class="docutils literal notranslate"><span class="pre">show_overlays</span></code> is True, can be used to define <code class="docutils literal notranslate"><span class="pre">label_col</span></code>,
i.e. which dimension to show separately as overlays.</p>
<p>If provided, uses a column generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See that function for valid values.</p>
</p></li>
<li><p><strong>overlay_label_sliding_window_size</strong> (<em class="xref py py-obj">int</em> or None, default None) – <p>If <code class="docutils literal notranslate"><span class="pre">show_overlays</span></code> is True, can be used to define <code class="docutils literal notranslate"><span class="pre">label_col</span></code>,
i.e. which dimension to show separately as overlays.</p>
<p>If provided, uses a column that sequentially partitions data into groups
of size <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>.</p>
</p></li>
<li><p><strong>overlay_label_custom_column</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or None, default None) – <p>If <code class="docutils literal notranslate"><span class="pre">show_overlays</span></code> is True, can be used to define <code class="docutils literal notranslate"><span class="pre">label_col</span></code>,
i.e. which dimension to show separately as overlays.</p>
<p>If provided, uses this column value. Should be same length as the DataFrame.</p>
</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>, default VALUE_COL) – The column name for the value column. By default,
shows the univariate time series value, but it can be any
other column in <code class="docutils literal notranslate"><span class="pre">self.df</span></code>.</p></li>
<li><p><strong>mean_col_name</strong> (<em class="xref py py-obj">str</em>, default “mean”) – The name to use for the mean column in the output.
Applies if <code class="docutils literal notranslate"><span class="pre">show_mean=True</span></code>.</p></li>
<li><p><strong>quantile_col_prefix</strong> (<em class="xref py py-obj">str</em>, default “Q”) – The prefix to use for quantile column names in the output.
Columns are named with this prefix followed by the quantile,
rounded to 2 decimal places.</p></li>
<li><p><strong>center_values</strong> (<em class="xref py py-obj">bool</em>, default False) – <p>Whether to center the return values.
If True, shifts each overlay so its average value is centered at 0.
Shifts mean and quantiles by a constant to center the mean at 0, while
preserving their relative values.</p>
<p>If False, values are not centered.</p>
</p></li>
<li><p><strong>mean_style</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>How to style the mean line, passed as keyword arguments to
<a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Scatter" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Scatter</span></code></a>. If None, the default is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mean_style</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;line&quot;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#595959&quot;</span><span class="p">),</span>  <span class="c1"># gray</span>
    <span class="s2">&quot;legendgroup&quot;</span><span class="p">:</span> <span class="n">MEAN_COL_GROUP</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>quantile_style</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>How to style the quantile lines, passed as keyword arguments to
<a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Scatter" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Scatter</span></code></a>. If None, the default is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">quantile_style</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;line&quot;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#1F9AFF&quot;</span><span class="p">,</span>  <span class="c1"># blue</span>
        <span class="n">dash</span><span class="o">=</span><span class="s2">&quot;solid&quot;</span><span class="p">),</span>
    <span class="s2">&quot;legendgroup&quot;</span><span class="p">:</span> <span class="n">QUANTILE_COL_GROUP</span><span class="p">,</span>  <span class="c1"># show/hide them together</span>
    <span class="s2">&quot;fill&quot;</span><span class="p">:</span> <span class="s2">&quot;tonexty&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>Note that fill style is removed from to the first quantile line, to
fill only between items in the same category.</p>
</p></li>
<li><p><strong>overlay_style</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>How to style the overlay lines, passed as keyword arguments to
<a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Scatter" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Scatter</span></code></a>. If None, the default is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">overlay_style</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;opacity&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>  <span class="c1"># makes it easier to see density</span>
    <span class="s2">&quot;line&quot;</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#B3B3B3&quot;</span><span class="p">,</span>  <span class="c1"># light gray</span>
        <span class="n">dash</span><span class="o">=</span><span class="s2">&quot;solid&quot;</span><span class="p">),</span>
    <span class="s2">&quot;legendgroup&quot;</span><span class="p">:</span> <span class="n">OVERLAY_COL_GROUP</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>xlabel</strong> (<em class="xref py py-obj">str</em>, optional, default None) – X-axis label of the plot.</p></li>
<li><p><strong>ylabel</strong> (<em class="xref py py-obj">str</em>, optional, default None) – Y-axis label of the plot. If None, uses <code class="docutils literal notranslate"><span class="pre">value_col</span></code>.</p></li>
<li><p><strong>title</strong> (<em class="xref py py-obj">str</em> or None, default None) – Plot title. If None, default is based on axis labels.</p></li>
<li><p><strong>showlegend</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether to show the legend.</p></li>
<li><p><strong>overlay_pivot_table_kwargs</strong> (<em>additional parameters</em>) – Additional keyword parameters to pass to <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.pivot_table</span></code></a>,
used in generating the overlays.
See <a class="reference internal" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries.get_quantiles_and_overlays" title="greykite.framework.input.univariate_time_series.UnivariateTimeSeries.get_quantiles_and_overlays"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_quantiles_and_overlays</span></code></a>
description for details.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – plotly graph object showing the mean, quantiles, and overlays.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>To get the mean, quantiles, and overlays as a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> without plotting.</p>
</dd>
</dl>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.output.univariate_forecast.</code><code class="sig-name descname">UnivariateForecast</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">time_col='ts'</em>, <em class="sig-param">actual_col='actual'</em>, <em class="sig-param">predicted_col='forecast'</em>, <em class="sig-param">predicted_lower_col='forecast_lower'</em>, <em class="sig-param">predicted_upper_col='forecast_upper'</em>, <em class="sig-param">null_model_predicted_col='forecast_null'</em>, <em class="sig-param">ylabel='y'</em>, <em class="sig-param">train_end_date=None</em>, <em class="sig-param">test_start_date=None</em>, <em class="sig-param">forecast_horizon=None</em>, <em class="sig-param">coverage=0.95</em>, <em class="sig-param">r2_loss_function=&lt;function mean_squared_error&gt;</em>, <em class="sig-param">estimator=None</em>, <em class="sig-param">relative_error_tolerance=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/output/univariate_forecast.html#UnivariateForecast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores predicted and actual values.
Provides functionality to evaluate a forecast:</p>
<blockquote>
<div><ul class="simple">
<li><p>plots true against actual with prediction bands.</p></li>
<li><p>evaluates model performance.</p></li>
</ul>
</div></blockquote>
<p>Input should be one of two kinds of forecast results:</p>
<blockquote>
<div><ul class="simple">
<li><p>model fit to train data, forecast on test set (actuals available).</p></li>
<li><p>model fit to all data, forecast on future dates (actuals not available).</p></li>
</ul>
</div></blockquote>
<p>The input <code class="docutils literal notranslate"><span class="pre">df</span></code> is a concatenation of fitted and forecasted values.</p>
<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.df">
<code class="sig-name descname">df</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.df" title="Permalink to this definition">¶</a></dt>
<dd><p>Timestamp, predicted, and actual values.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.time_col">
<code class="sig-name descname">time_col</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.time_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Column in <code class="docutils literal notranslate"><span class="pre">df</span></code> with timestamp (default “ts”).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.actual_col">
<code class="sig-name descname">actual_col</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.actual_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Column in <code class="docutils literal notranslate"><span class="pre">df</span></code> with actual values (default “y”).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.predicted_col">
<code class="sig-name descname">predicted_col</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.predicted_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Column in <code class="docutils literal notranslate"><span class="pre">df</span></code> with predicted values (default “forecast”).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.predicted_lower_col">
<code class="sig-name descname">predicted_lower_col</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.predicted_lower_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Column in <code class="docutils literal notranslate"><span class="pre">df</span></code> with predicted lower bound (default “forecast_lower”, optional).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.predicted_upper_col">
<code class="sig-name descname">predicted_upper_col</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.predicted_upper_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Column in <code class="docutils literal notranslate"><span class="pre">df</span></code> with predicted upper bound (default “forecast_upper”, optional).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.null_model_predicted_col">
<code class="sig-name descname">null_model_predicted_col</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.null_model_predicted_col" title="Permalink to this definition">¶</a></dt>
<dd><p>Column in <code class="docutils literal notranslate"><span class="pre">df</span></code> with predicted value of null model (default “forecast_null”, optional).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.ylabel">
<code class="sig-name descname">ylabel</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.ylabel" title="Permalink to this definition">¶</a></dt>
<dd><p>Unit of measurement (default “y”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.train_end_date">
<code class="sig-name descname">train_end_date</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.train_end_date" title="Permalink to this definition">¶</a></dt>
<dd><p>End date for train period. If <em class="xref py py-obj">None</em>, assumes all data were used for training.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or <a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#module-datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code></a> or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.test_start_date">
<code class="sig-name descname">test_start_date</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.test_start_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Start date of test period. If <em class="xref py py-obj">None</em>, set to the <code class="docutils literal notranslate"><span class="pre">time_col</span></code> value immediately after
<code class="docutils literal notranslate"><span class="pre">train_end_date</span></code>. This assumes that all data not used in training were used for testing.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or <a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#module-datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code></a> or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.forecast_horizon">
<code class="sig-name descname">forecast_horizon</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.forecast_horizon" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of periods forecasted into the future. Must be &gt; 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em> or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.coverage">
<code class="sig-name descname">coverage</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.coverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Intended coverage of the prediction bands (0.0 to 1.0).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.r2_loss_function">
<code class="sig-name descname">r2_loss_function</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.r2_loss_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Loss function to calculate <code class="docutils literal notranslate"><span class="pre">cst.R2_null_model_score</span></code>, with signature
<code class="docutils literal notranslate"><span class="pre">loss_func(y_true,</span> <span class="pre">y_pred)</span></code> (default mean_squared_error)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">function</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.estimator">
<code class="sig-name descname">estimator</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>The fitted estimator, the last step in the forecast pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>An instance of an estimator that implements <em class="xref py py-obj">greykite.models.base_forecast_estimator.BaseForecastEstimator</em>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.relative_error_tolerance">
<code class="sig-name descname">relative_error_tolerance</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.relative_error_tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>Threshold to compute the <code class="docutils literal notranslate"><span class="pre">Outside</span> <span class="pre">Tolerance</span></code> metric,
defined as the fraction of forecasted values whose relative
error is strictly greater than <code class="docutils literal notranslate"><span class="pre">relative_error_tolerance</span></code>.
For example, 0.05 allows for 5% relative error.
If <em class="xref py py-obj">None</em>, the metric is not computed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.df_train">
<code class="sig-name descname">df_train</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.df_train" title="Permalink to this definition">¶</a></dt>
<dd><p>Subset of <code class="docutils literal notranslate"><span class="pre">df</span></code> where <code class="docutils literal notranslate"><span class="pre">df[time_col]</span></code> &lt;= <code class="docutils literal notranslate"><span class="pre">train_end_date</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.df_test">
<code class="sig-name descname">df_test</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.df_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Subset of <code class="docutils literal notranslate"><span class="pre">df</span></code> where <code class="docutils literal notranslate"><span class="pre">df[time_col]</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">train_end_date</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.train_evaluation">
<code class="sig-name descname">train_evaluation</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.train_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluation metrics on training set.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">float</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.test_evaluation">
<code class="sig-name descname">test_evaluation</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.test_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluation metrics on test set (if actual values provided after train_end_date).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">float</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.test_na_count">
<code class="sig-name descname">test_na_count</code><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.test_na_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Count of NA values in test data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.compute_evaluation_metrics_split">
<code class="sig-name descname">compute_evaluation_metrics_split</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/output/univariate_forecast.html#UnivariateForecast.compute_evaluation_metrics_split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.compute_evaluation_metrics_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes __evaluation_metrics for train and test set separately.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dictionary with train and test evaluation metrics</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/output/univariate_forecast.html#UnivariateForecast.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots predicted against actual.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<em>additional parameters</em>) – Additional parameters to pass to
<a class="reference internal" href="#greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual" title="greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_forecast_vs_actual</span></code></a>
such as title, colors, and line styling.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>fig</strong> – Plotly figure of forecast against actuals, with prediction
intervals if available.</p>
<p>See <a class="reference internal" href="#greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual" title="greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_forecast_vs_actual</span></code></a>
return value for how to plot the figure and add customization.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.get_grouping_evaluation">
<code class="sig-name descname">get_grouping_evaluation</code><span class="sig-paren">(</span><em class="sig-param">score_func=&lt;function add_finite_filter_to_scorer.&lt;locals&gt;.score_func_finite&gt;</em>, <em class="sig-param">score_func_name='MAPE'</em>, <em class="sig-param">which='train'</em>, <em class="sig-param">groupby_time_feature=None</em>, <em class="sig-param">groupby_sliding_window_size=None</em>, <em class="sig-param">groupby_custom_column=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/output/univariate_forecast.html#UnivariateForecast.get_grouping_evaluation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.get_grouping_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Group-wise computation of forecasting error.
Can be used to evaluate error/ aggregated value by a time feature,
over time, or by a user-provided column.</p>
<p>Exactly one of: <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>,
<code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code> must be provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score_func</strong> (<em>callable</em><em>, </em><em>optional</em>) – Function that maps two arrays to a number.
Signature (y_true: array, y_pred: array) -&gt; error: float</p></li>
<li><p><strong>score_func_name</strong> (<em class="xref py py-obj">str</em> or None, optional) – Name of the score function used to report results.
If None, defaults to “metric”.</p></li>
<li><p><strong>which</strong> (<em class="xref py py-obj">str</em>) – “train” or “test”. Which dataset to evaluate.</p></li>
<li><p><strong>groupby_time_feature</strong> (<em class="xref py py-obj">str</em> or None, optional) – If provided, groups by a column generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See that function for valid values.</p></li>
<li><p><strong>groupby_sliding_window_size</strong> (<em class="xref py py-obj">int</em> or None, optional) – If provided, sequentially partitions data into groups of size
<code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>.</p></li>
<li><p><strong>groupby_custom_column</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or None, optional) – If provided, groups by this column value. Should be same length as the DataFrame.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>grouped_df</strong> –</p>
<ol class="arabic simple">
<li><p>grouping_func_name:
evaluation metric computing forecasting error of timeseries.</p></li>
<li><p>group name:
group name depends on the grouping method:
<code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code> for <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>
<code class="docutils literal notranslate"><span class="pre">cst.TIME_COL</span></code> for <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>
<code class="docutils literal notranslate"><span class="pre">groupby_custom_column.name</span></code> for <code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code>.</p></li>
</ol>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> with two columns:</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.plot_grouping_evaluation">
<code class="sig-name descname">plot_grouping_evaluation</code><span class="sig-paren">(</span><em class="sig-param">score_func=&lt;function add_finite_filter_to_scorer.&lt;locals&gt;.score_func_finite&gt;</em>, <em class="sig-param">score_func_name='MAPE'</em>, <em class="sig-param">which='train'</em>, <em class="sig-param">groupby_time_feature=None</em>, <em class="sig-param">groupby_sliding_window_size=None</em>, <em class="sig-param">groupby_custom_column=None</em>, <em class="sig-param">xlabel=None</em>, <em class="sig-param">ylabel=None</em>, <em class="sig-param">title=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/output/univariate_forecast.html#UnivariateForecast.plot_grouping_evaluation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.plot_grouping_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes error by group and plots the result.
Can be used to plot error by a time feature, over time, or by a user-provided column.</p>
<p>Exactly one of: <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>,
<code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code> must be provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score_func</strong> (<em>callable</em><em>, </em><em>optional</em>) – Function that maps two arrays to a number.
Signature (y_true: array, y_pred: array) -&gt; error: float</p></li>
<li><p><strong>score_func_name</strong> (<em class="xref py py-obj">str</em> or None, optional) – Name of the score function used to report results.
If None, defaults to “metric”.</p></li>
<li><p><strong>which</strong> (<em class="xref py py-obj">str</em>, optional, default “train”) – Which dataset to evaluate, “train” or “test”.</p></li>
<li><p><strong>groupby_time_feature</strong> (<em class="xref py py-obj">str</em> or None, optional) – If provided, groups by a column generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See that function for valid values.</p></li>
<li><p><strong>groupby_sliding_window_size</strong> (<em class="xref py py-obj">int</em> or None, optional) – If provided, sequentially partitions data into groups of size
<code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>.</p></li>
<li><p><strong>groupby_custom_column</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or None, optional) – If provided, groups by this column value. Should be same length as the DataFrame.</p></li>
<li><p><strong>xlabel</strong> (<em class="xref py py-obj">str</em>, optional, default None) – X-axis label of the plot.</p></li>
<li><p><strong>ylabel</strong> (<em class="xref py py-obj">str</em>, optional, default None) – Y-axis label of the plot.</p></li>
<li><p><strong>title</strong> (<em class="xref py py-obj">str</em> or None, optional) – Plot title, if None this function creates a suitable title.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – plotly graph object showing forecasting error by group.
x-axis label depends on the grouping method:
<code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code> for <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>
<code class="docutils literal notranslate"><span class="pre">time_col</span></code> for <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>
<code class="docutils literal notranslate"><span class="pre">groupby_custom_column.name</span></code> for <code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.autocomplete_map_func_dict">
<code class="sig-name descname">autocomplete_map_func_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">map_func_dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/output/univariate_forecast.html#UnivariateForecast.autocomplete_map_func_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.autocomplete_map_func_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Sweeps through <code class="docutils literal notranslate"><span class="pre">map_func_dict</span></code>, converting values that are
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ElementwiseEvaluationMetricEnum</span></code>
member names to their corresponding row-wise evaluation function with appropriate
column names for this UnivariateForecast instance.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">map_func_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;squared_error&quot;</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">SquaredError</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="s2">&quot;coverage&quot;</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">Coverage</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="s2">&quot;custom_metric&quot;</span><span class="p">:</span> <span class="n">custom_function</span>
<span class="p">}</span>

<span class="ow">is</span> <span class="n">converted</span> <span class="n">to</span>

<span class="n">map_func_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;squared_error&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">SquaredError</span><span class="o">.</span><span class="n">get_metric_func</span><span class="p">()(</span>
                                <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">actual_col</span><span class="p">],</span>
                                <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">predicted_col</span><span class="p">]),</span>
    <span class="s2">&quot;coverage&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">Coverage</span><span class="o">.</span><span class="n">get_metric_func</span><span class="p">()(</span>
                                <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">actual_col</span><span class="p">],</span>
                                <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">predicted_lower_col</span><span class="p">],</span>
                                <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">predicted_upper_col</span><span class="p">]),</span>
    <span class="s2">&quot;custom_metric&quot;</span><span class="p">:</span> <span class="n">custom_function</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>map_func_dict</strong> (<em class="xref py py-obj">dict</em> or None) – Same as <code class="xref py py-obj docutils literal notranslate"><span class="pre">flexible_grouping_evaluation</span></code>,
with one exception: values may a ElementwiseEvaluationMetricEnum member name.
There are converted a callable for <code class="docutils literal notranslate"><span class="pre">flexible_grouping_evaluation</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>map_func_dict</strong> – Can be passed to <code class="xref py py-obj docutils literal notranslate"><span class="pre">flexible_grouping_evaluation</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.get_flexible_grouping_evaluation">
<code class="sig-name descname">get_flexible_grouping_evaluation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">which</span><span class="o">=</span><span class="default_value">'train'</span></em>, <em class="sig-param"><span class="n">groupby_time_feature</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groupby_sliding_window_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groupby_custom_column</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">map_func_dict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_kwargs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">extend_col_names</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/output/univariate_forecast.html#UnivariateForecast.get_flexible_grouping_evaluation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.get_flexible_grouping_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Group-wise computation of evaluation metrics. Whereas <code class="docutils literal notranslate"><span class="pre">self.get_grouping_evaluation</span></code>
computes one metric, this allows computation of any number of custom metrics.</p>
<p>For example:</p>
<blockquote>
<div><ul class="simple">
<li><p>Mean and quantiles of squared error by group.</p></li>
<li><p>Mean and quantiles of residuals by group.</p></li>
<li><p>Mean and quantiles of actual and forecast by group.</p></li>
<li><p>% of actuals outside prediction intervals by group</p></li>
<li><p>any combination of the above metrics by the same group</p></li>
</ul>
</div></blockquote>
<p>First adds a groupby column by passing <code class="docutils literal notranslate"><span class="pre">groupby_</span></code> parameters to
<code class="xref py py-obj docutils literal notranslate"><span class="pre">add_groupby_column</span></code>.
Then computes grouped evaluation metrics by passing <code class="docutils literal notranslate"><span class="pre">map_func_dict</span></code>,
<code class="docutils literal notranslate"><span class="pre">agg_kwargs</span></code> and <code class="docutils literal notranslate"><span class="pre">extend_col_names</span></code> to
<code class="xref py py-obj docutils literal notranslate"><span class="pre">flexible_grouping_evaluation</span></code>.</p>
<p>Exactly one of: <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>,
<code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code> must be provided.</p>
<dl>
<dt>which: <em class="xref py py-obj">str</em></dt><dd><p>“train” or “test”. Which dataset to evaluate.</p>
</dd>
<dt>groupby_time_feature<span class="classifier"><em class="xref py py-obj">str</em> or None, optional</span></dt><dd><p>If provided, groups by a column generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See that function for valid values.</p>
</dd>
<dt>groupby_sliding_window_size<span class="classifier"><em class="xref py py-obj">int</em> or None, optional</span></dt><dd><p>If provided, sequentially partitions data into groups of size
<code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>.</p>
</dd>
<dt>groupby_custom_column<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or None, optional</span></dt><dd><p>If provided, groups by this column value. Should be same length as the DataFrame.</p>
</dd>
<dt>map_func_dict<span class="classifier"><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">callable</em>] or None, default None</span></dt><dd><p>Row-wise transformation functions to create new columns.
If None, no new columns are added.</p>
<blockquote>
<div><ul class="simple">
<li><p>key: new column name</p></li>
<li><dl class="simple">
<dt>value: row-wise function to apply to <code class="docutils literal notranslate"><span class="pre">df</span></code> to generate the column value.</dt><dd><p>Signature (row: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) -&gt; transformed value: <em class="xref py py-obj">float</em>.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">map_func_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;residual&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;actual&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;forecast&quot;</span><span class="p">],</span>
    <span class="s2">&quot;squared_error&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;actual&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;forecast&quot;</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Some predefined functions are available in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ElementwiseEvaluationMetricEnum</span></code>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">map_func_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;residual&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">Residual</span><span class="o">.</span><span class="n">get_metric_func</span><span class="p">()(</span>
        <span class="n">row</span><span class="p">[</span><span class="s2">&quot;actual&quot;</span><span class="p">],</span>
        <span class="n">row</span><span class="p">[</span><span class="s2">&quot;forecast&quot;</span><span class="p">]),</span>
    <span class="s2">&quot;squared_error&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">SquaredError</span><span class="o">.</span><span class="n">get_metric_func</span><span class="p">()(</span>
        <span class="n">row</span><span class="p">[</span><span class="s2">&quot;actual&quot;</span><span class="p">],</span>
        <span class="n">row</span><span class="p">[</span><span class="s2">&quot;forecast&quot;</span><span class="p">]),</span>
    <span class="s2">&quot;q90_loss&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">Quantile90</span><span class="o">.</span><span class="n">get_metric_func</span><span class="p">()(</span>
        <span class="n">row</span><span class="p">[</span><span class="s2">&quot;actual&quot;</span><span class="p">],</span>
        <span class="n">row</span><span class="p">[</span><span class="s2">&quot;forecast&quot;</span><span class="p">]),</span>
    <span class="s2">&quot;abs_percent_error&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">AbsolutePercentError</span><span class="o">.</span><span class="n">get_metric_func</span><span class="p">()(</span>
        <span class="n">row</span><span class="p">[</span><span class="s2">&quot;actual&quot;</span><span class="p">],</span>
        <span class="n">row</span><span class="p">[</span><span class="s2">&quot;forecast&quot;</span><span class="p">]),</span>
    <span class="s2">&quot;coverage&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">Coverage</span><span class="o">.</span><span class="n">get_metric_func</span><span class="p">()(</span>
        <span class="n">row</span><span class="p">[</span><span class="s2">&quot;actual&quot;</span><span class="p">],</span>
        <span class="n">row</span><span class="p">[</span><span class="s2">&quot;forecast_lower&quot;</span><span class="p">],</span>
        <span class="n">row</span><span class="p">[</span><span class="s2">&quot;forecast_upper&quot;</span><span class="p">]),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As shorthand, it is sufficient to provide the enum member name.  These are
auto-expanded into the appropriate function.
So the following is equivalent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">map_func_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;residual&quot;</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">Residual</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="s2">&quot;squared_error&quot;</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">SquaredError</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="s2">&quot;q90_loss&quot;</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">Quantile90</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="s2">&quot;abs_percent_error&quot;</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">AbsolutePercentError</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="s2">&quot;coverage&quot;</span><span class="p">:</span> <span class="n">ElementwiseEvaluationMetricEnum</span><span class="o">.</span><span class="n">Coverage</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>agg_kwargs<span class="classifier"><em class="xref py py-obj">dict</em> or None, default None</span></dt><dd><p>Passed as keyword args to <code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.core.groupby.DataFrameGroupBy.aggregate</span></code> after creating
new columns and grouping by <code class="docutils literal notranslate"><span class="pre">groupby_col</span></code>.</p>
<p>See <code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.core.groupby.DataFrameGroupBy.aggregate</span></code> or
<code class="xref py py-obj docutils literal notranslate"><span class="pre">flexible_grouping_evaluation</span></code>
for details.</p>
</dd>
<dt>extend_col_names<span class="classifier"><em class="xref py py-obj">bool</em> or None, default False</span></dt><dd><p>How to flatten index after aggregation.
In some cases, the column index after aggregation is a multi-index.
This parameter controls how to flatten an index with 2 levels to 1 level.</p>
<blockquote>
<div><ul class="simple">
<li><p>If None, the index is not flattened.</p></li>
<li><p>If True, column name is a composite: <code class="docutils literal notranslate"><span class="pre">{index0}_{index1}</span></code>
Use this option if index1 is not unique.</p></li>
<li><p>If False, column name is simply <code class="docutils literal notranslate"><span class="pre">{index1}</span></code></p></li>
</ul>
</div></blockquote>
<p>Ignored if the ColumnIndex after aggregation has only one level (e.g.
if named aggregation is used in <code class="docutils literal notranslate"><span class="pre">agg_kwargs</span></code>).</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>df_transformed</strong> – <code class="docutils literal notranslate"><span class="pre">df</span></code> after transformation and optional aggregation.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">groupby_col</span></code> is None, returns <code class="docutils literal notranslate"><span class="pre">df</span></code> with additional columns as the keys in <code class="docutils literal notranslate"><span class="pre">map_func_dict</span></code>.
Otherwise, <code class="docutils literal notranslate"><span class="pre">df</span></code> is grouped by <code class="docutils literal notranslate"><span class="pre">groupby_col</span></code> and this becomes the index. Columns
are determined by <code class="docutils literal notranslate"><span class="pre">agg_kwargs</span></code> and <code class="docutils literal notranslate"><span class="pre">extend_col_names</span></code>.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>called by this function</p>
</dd>
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>called by this function</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.plot_flexible_grouping_evaluation">
<code class="sig-name descname">plot_flexible_grouping_evaluation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">which</span><span class="o">=</span><span class="default_value">'train'</span></em>, <em class="sig-param"><span class="n">groupby_time_feature</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groupby_sliding_window_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groupby_custom_column</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">map_func_dict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_kwargs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">extend_col_names</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">y_col_style_dict</span><span class="o">=</span><span class="default_value">'auto-fill'</span></em>, <em class="sig-param"><span class="n">default_color</span><span class="o">=</span><span class="default_value">'rgba(0, 145, 202, 1.0)'</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">showlegend</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/output/univariate_forecast.html#UnivariateForecast.plot_flexible_grouping_evaluation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.plot_flexible_grouping_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots group-wise evaluation metrics. Whereas
<a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.plot_grouping_evaluation" title="greykite.framework.output.univariate_forecast.UnivariateForecast.plot_grouping_evaluation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_grouping_evaluation</span></code></a>
shows one metric, this can show any number of custom metrics.</p>
<p>For example:</p>
<blockquote>
<div><ul class="simple">
<li><p>Mean and quantiles of squared error by group.</p></li>
<li><p>Mean and quantiles of residuals by group.</p></li>
<li><p>Mean and quantiles of actual and forecast by group.</p></li>
<li><p>% of actuals outside prediction intervals by group</p></li>
<li><p>any combination of the above metrics by the same group</p></li>
</ul>
</div></blockquote>
<p>See <a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.get_flexible_grouping_evaluation" title="greykite.framework.output.univariate_forecast.UnivariateForecast.get_flexible_grouping_evaluation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_flexible_grouping_evaluation</span></code></a>
for details.</p>
<dl>
<dt>which: <em class="xref py py-obj">str</em></dt><dd><p>“train” or “test”. Which dataset to evaluate.</p>
</dd>
<dt>groupby_time_feature<span class="classifier"><em class="xref py py-obj">str</em> or None, optional</span></dt><dd><p>If provided, groups by a column generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See that function for valid values.</p>
</dd>
<dt>groupby_sliding_window_size<span class="classifier"><em class="xref py py-obj">int</em> or None, optional</span></dt><dd><p>If provided, sequentially partitions data into groups of size
<code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>.</p>
</dd>
<dt>groupby_custom_column<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or None, optional</span></dt><dd><p>If provided, groups by this column value. Should be same length as the DataFrame.</p>
</dd>
<dt>map_func_dict<span class="classifier"><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">callable</em>] or None, default None</span></dt><dd><p>Grouping evaluation metric specification, along with <code class="docutils literal notranslate"><span class="pre">agg_kwargs</span></code>.
See <a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.get_flexible_grouping_evaluation" title="greykite.framework.output.univariate_forecast.UnivariateForecast.get_flexible_grouping_evaluation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_flexible_grouping_evaluation</span></code></a>.</p>
</dd>
<dt>agg_kwargs<span class="classifier"><em class="xref py py-obj">dict</em> or None, default None</span></dt><dd><p>Grouping evaluation metric specification, along with <code class="docutils literal notranslate"><span class="pre">map_func_dict</span></code>.
See <a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.get_flexible_grouping_evaluation" title="greykite.framework.output.univariate_forecast.UnivariateForecast.get_flexible_grouping_evaluation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_flexible_grouping_evaluation</span></code></a>.</p>
</dd>
<dt>extend_col_names<span class="classifier"><em class="xref py py-obj">bool</em> or None, default False</span></dt><dd><p>How to name the grouping metrics.
See <a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.get_flexible_grouping_evaluation" title="greykite.framework.output.univariate_forecast.UnivariateForecast.get_flexible_grouping_evaluation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_flexible_grouping_evaluation</span></code></a>.</p>
</dd>
<dt>y_col_style_dict: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">dict</em> or None] or “plotly” or “auto” or “auto-fill”, default “auto-fill”</dt><dd><p>The column(s) to plot on the y-axis, and how to style them. The names should match
those generated by <code class="docutils literal notranslate"><span class="pre">agg_kwargs</span></code> and <code class="docutils literal notranslate"><span class="pre">extend_col_names</span></code>.
The function
<a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.get_flexible_grouping_evaluation" title="greykite.framework.output.univariate_forecast.UnivariateForecast.get_flexible_grouping_evaluation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_flexible_grouping_evaluation</span></code></a>
can be used to check the column names.</p>
<p>For convenience, start with “auto-fill” or “plotly”, then adjust styling as needed.</p>
<p>See <a class="reference internal" href="#greykite.common.viz.timeseries_plotting.plot_multivariate" title="greykite.common.viz.timeseries_plotting.plot_multivariate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_multivariate</span></code></a> for details.</p>
</dd>
<dt>default_color: <em class="xref py py-obj">str</em>, default “rgba(0, 145, 202, 1.0)” (blue)</dt><dd><p>Default line color when <code class="docutils literal notranslate"><span class="pre">y_col_style_dict</span></code> is one of “auto”, “auto-fill”.</p>
</dd>
<dt>xlabel<span class="classifier"><em class="xref py py-obj">str</em> or None, default None</span></dt><dd><p>x-axis label. If None, default is <code class="docutils literal notranslate"><span class="pre">x_col</span></code>.</p>
</dd>
<dt>ylabel<span class="classifier"><em class="xref py py-obj">str</em> or None, default None</span></dt><dd><p>y-axis label. If None, y-axis is not labeled.</p>
</dd>
<dt>title<span class="classifier"><em class="xref py py-obj">str</em> or None, default None</span></dt><dd><p>Plot title. If None and <code class="docutils literal notranslate"><span class="pre">ylabel</span></code> is provided, a default title is used.</p>
</dd>
<dt>showlegend<span class="classifier"><em class="xref py py-obj">bool</em>, default True</span></dt><dd><p>Whether to show the legend.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>fig</strong> – Interactive plotly graph showing the evaluation metrics.</p>
<p>See <a class="reference internal" href="#greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual" title="greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_forecast_vs_actual</span></code></a>
return value for how to plot the figure and add customization.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>called by this function</p>
</dd>
<dt><code class="xref py py-meth docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>called by this function</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.make_univariate_time_series">
<code class="sig-name descname">make_univariate_time_series</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/output/univariate_forecast.html#UnivariateForecast.make_univariate_time_series"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.make_univariate_time_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts prediction into a UnivariateTimeSeries
Useful to convert a forecast into the input regressor for a subsequent forecast.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>UnivariateTimeSeries</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.output.univariate_forecast.UnivariateForecast.plot_components">
<code class="sig-name descname">plot_components</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/output/univariate_forecast.html#UnivariateForecast.plot_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.plot_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Class method to plot the components of a <a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast" title="greykite.framework.output.univariate_forecast.UnivariateForecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateForecast</span></code></a> object.</p>
<p><code class="docutils literal notranslate"><span class="pre">Silverkite</span></code> calculates component plots based on <code class="docutils literal notranslate"><span class="pre">fit</span></code> dataset.
<code class="docutils literal notranslate"><span class="pre">Prophet</span></code> calculates component plots based on <code class="docutils literal notranslate"><span class="pre">predict</span></code> dataset.</p>
<p>For estimator specific component plots with advanced plotting options call
<code class="docutils literal notranslate"><span class="pre">self.estimator.plot_components()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>fig</strong> – <code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.figure.Figure</span></code> for <code class="docutils literal notranslate"><span class="pre">Prophet</span></code>
Figure plotting components against appropriate time scale.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a> for <code class="docutils literal notranslate"><span class="pre">Silverkite</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.algo.common.model_summary.ModelSummary">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.common.model_summary.</code><code class="sig-name descname">ModelSummary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">pred_cols</span></em>, <em class="sig-param"><span class="n">pred_category</span></em>, <em class="sig-param"><span class="n">fit_algorithm</span></em>, <em class="sig-param"><span class="n">ml_model</span></em>, <em class="sig-param"><span class="n">max_colwidth</span><span class="o">=</span><span class="default_value">20</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/common/model_summary.html#ModelSummary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to store regression model summary statistics.</p>
<p>The class can be printed to get a well formatted model summary.</p>
<dl class="py attribute">
<dt id="greykite.algo.common.model_summary.ModelSummary.x">
<code class="sig-name descname">x</code><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.x" title="Permalink to this definition">¶</a></dt>
<dd><p>The design matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.model_summary.ModelSummary.beta">
<code class="sig-name descname">beta</code><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.beta" title="Permalink to this definition">¶</a></dt>
<dd><p>The estimated coefficients.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.model_summary.ModelSummary.y">
<code class="sig-name descname">y</code><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.y" title="Permalink to this definition">¶</a></dt>
<dd><p>The response.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.model_summary.ModelSummary.pred_cols">
<code class="sig-name descname">pred_cols</code><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.pred_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>List of predictor names.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [ <em class="xref py py-obj">str</em> ]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.model_summary.ModelSummary.pred_category">
<code class="sig-name descname">pred_category</code><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.pred_category" title="Permalink to this definition">¶</a></dt>
<dd><p>Predictor category, returned by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">create_pred_category</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.model_summary.ModelSummary.fit_algorithm">
<code class="sig-name descname">fit_algorithm</code><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.fit_algorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of algorithm to fit the regression.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.model_summary.ModelSummary.ml_model">
<code class="sig-name descname">ml_model</code><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.ml_model" title="Permalink to this definition">¶</a></dt>
<dd><p>The trained machine learning model class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">class</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.model_summary.ModelSummary.max_colwidth">
<code class="sig-name descname">max_colwidth</code><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.max_colwidth" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum length for predictors to be shown in their original name.
If the maximum length of predictors exceeds this parameter, all
predictors name will be suppressed and only indices are shown.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.model_summary.ModelSummary.info_dict">
<code class="sig-name descname">info_dict</code><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.info_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>The model summary dictionary, output of
<a class="reference internal" href="#greykite.algo.common.model_summary.ModelSummary._get_summary" title="greykite.algo.common.model_summary.ModelSummary._get_summary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_get_summary</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.model_summary.ModelSummary.html_str">
<code class="sig-name descname">html_str</code><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.html_str" title="Permalink to this definition">¶</a></dt>
<dd><p>An html formatting of the string representation of the model summary.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.common.model_summary.ModelSummary.__str__">
<code class="sig-name descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/common/model_summary.html#ModelSummary.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>print method.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.common.model_summary.ModelSummary.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/common/model_summary.html#ModelSummary.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>print method</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.common.model_summary.ModelSummary._get_summary">
<code class="sig-name descname">_get_summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/common/model_summary.html#ModelSummary._get_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary._get_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the model summary from input.
This function is called during initialization.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>info_dict</strong> – Includes direct and derived metrics about the trained model. For detailed keys, refer to
<code class="xref py py-obj docutils literal notranslate"><span class="pre">get_info_dict_lm</span></code>
or
<code class="xref py py-obj docutils literal notranslate"><span class="pre">get_info_dict_tree</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.common.model_summary.ModelSummary.get_coef_summary">
<code class="sig-name descname">get_coef_summary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">is_intercept</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_time_feature</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_event</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_trend</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_seasonality</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_lag</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_regressor</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_interaction</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">return_df</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/common/model_summary.html#ModelSummary.get_coef_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.model_summary.ModelSummary.get_coef_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the coefficient summary filtered by conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>is_intercept</strong> (<em class="xref py py-obj">bool</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – Intercept or not.</p></li>
<li><p><strong>is_time_feature</strong> (<em class="xref py py-obj">bool</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – Time features or not.
Time features belong to <a class="reference internal" href="#greykite.common.constants.TimeFeaturesEnum" title="greykite.common.constants.TimeFeaturesEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeFeaturesEnum</span></code></a>.</p></li>
<li><p><strong>is_event</strong> (<em class="xref py py-obj">bool</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – Event features or not.
Event features have <a class="reference internal" href="#greykite.common.constants.EVENT_PREFIX" title="greykite.common.constants.EVENT_PREFIX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EVENT_PREFIX</span></code></a>.</p></li>
<li><p><strong>is_trend</strong> (<em class="xref py py-obj">bool</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – Trend features or not.
Trend features have <a class="reference internal" href="#greykite.common.constants.CHANGEPOINT_COL_PREFIX" title="greykite.common.constants.CHANGEPOINT_COL_PREFIX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CHANGEPOINT_COL_PREFIX</span></code></a> or “cpd”.</p></li>
<li><p><strong>is_seasonality</strong> (<em class="xref py py-obj">bool</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – Seasonality feature or not.
Seasonality features have <a class="reference internal" href="#greykite.common.constants.SEASONALITY_REGEX" title="greykite.common.constants.SEASONALITY_REGEX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SEASONALITY_REGEX</span></code></a>.</p></li>
<li><p><strong>is_lag</strong> (<em class="xref py py-obj">bool</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – Lagged features or not.
Lagged features have “lag”.</p></li>
<li><p><strong>is_regressor</strong> (<em>0</em><em> or </em><em>1</em>) – Extra features provided by users.
They are provided through <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> in the fit function.</p></li>
<li><p><strong>is_interaction</strong> (<em class="xref py py-obj">bool</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – Interaction feature or not.
Interaction features have “:”.</p></li>
<li><p><strong>return_df</strong> (<em class="xref py py-obj">bool</em>, default <em class="xref py py-obj">False</em>) – <dl class="simple">
<dt>If True, the filtered coefficient summary df is also returned.</dt><dd><p>Otherwise, the filtered coefficient summary df is printed only.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>filtered_coef_summary</strong> – If <code class="docutils literal notranslate"><span class="pre">return_df</span></code> is set to True, returns the filtered coefficient summary
df filtered by the given conditions.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or <em class="xref py py-obj">None</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.common.aggregation_function_enum.AggregationFunctionEnum">
<em class="property">class </em><code class="sig-prename descclassname">greykite.common.aggregation_function_enum.</code><code class="sig-name descname">AggregationFunctionEnum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/aggregation_function_enum.html#AggregationFunctionEnum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.aggregation_function_enum.AggregationFunctionEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines some common aggregation functions that can be retrieved by their names.</p>
<p>Every function is wrapped with <code class="docutils literal notranslate"><span class="pre">partial</span></code> because Enum handles functions differently from values.
Wrapping with <code class="docutils literal notranslate"><span class="pre">partial</span></code> allows us to extract the function with variable keys.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.common.evaluation.EvaluationMetricEnum">
<em class="property">class </em><code class="sig-prename descclassname">greykite.common.evaluation.</code><code class="sig-name descname">EvaluationMetricEnum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/evaluation.html#EvaluationMetricEnum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid evaluation metrics.
The values tuple is <code class="docutils literal notranslate"><span class="pre">(score_func:</span> <span class="pre">callable,</span> <span class="pre">greater_is_better:</span> <span class="pre">boolean,</span> <span class="pre">short_name:</span> <span class="pre">str)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">add_finite_filter_to_scorer</span></code> is added to the metrics that are directly imported from
<code class="docutils literal notranslate"><span class="pre">sklearn.metrics</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">mean_squared_error</span></code>) to ensure that the metric gets calculated
even when inputs have missing values.</p>
<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.Correlation">
<code class="sig-name descname">Correlation</code><em class="property"> = (&lt;function add_finite_filter_to_scorer.&lt;locals&gt;.score_func_finite&gt;, True, 'CORR')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.Correlation" title="Permalink to this definition">¶</a></dt>
<dd><p>Pearson correlation coefficient between forecast and actuals. Higher is better.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.CoefficientOfDetermination">
<code class="sig-name descname">CoefficientOfDetermination</code><em class="property"> = (&lt;function add_finite_filter_to_scorer.&lt;locals&gt;.score_func_finite&gt;, True, 'R2')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.CoefficientOfDetermination" title="Permalink to this definition">¶</a></dt>
<dd><p>Coefficient of determination. See <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.metrics.r2_score.html#sklearn.metrics.r2_score" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.metrics.r2_score</span></code></a>. Higher is better. Equals <em class="xref py py-obj">1.0 - mean_squared_error / variance(actuals)</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.MeanSquaredError">
<code class="sig-name descname">MeanSquaredError</code><em class="property"> = (&lt;function add_finite_filter_to_scorer.&lt;locals&gt;.score_func_finite&gt;, False, 'MSE')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.MeanSquaredError" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean squared error, the average of squared differences,
see <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.metrics.mean_squared_error.html#sklearn.metrics.mean_squared_error" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.metrics.mean_squared_error</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.RootMeanSquaredError">
<code class="sig-name descname">RootMeanSquaredError</code><em class="property"> = (&lt;function add_finite_filter_to_scorer.&lt;locals&gt;.score_func_finite&gt;, False, 'RMSE')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.RootMeanSquaredError" title="Permalink to this definition">¶</a></dt>
<dd><p>Root mean squared error, the square root of <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.metrics.mean_squared_error.html#sklearn.metrics.mean_squared_error" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.metrics.mean_squared_error</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.MeanAbsoluteError">
<code class="sig-name descname">MeanAbsoluteError</code><em class="property"> = (&lt;function add_finite_filter_to_scorer.&lt;locals&gt;.score_func_finite&gt;, False, 'MAE')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.MeanAbsoluteError" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean absolute error, average of absolute differences,
see <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.metrics.mean_absolute_error.html#sklearn.metrics.mean_absolute_error" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.metrics.mean_absolute_error</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.MedianAbsoluteError">
<code class="sig-name descname">MedianAbsoluteError</code><em class="property"> = (&lt;function add_finite_filter_to_scorer.&lt;locals&gt;.score_func_finite&gt;, False, 'MedAE')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.MedianAbsoluteError" title="Permalink to this definition">¶</a></dt>
<dd><p>Median absolute error, median of absolute differences,
see <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.metrics.median_absolute_error.html#sklearn.metrics.median_absolute_error" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.metrics.median_absolute_error</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.MeanAbsolutePercentError">
<code class="sig-name descname">MeanAbsolutePercentError</code><em class="property"> = (&lt;function add_finite_filter_to_scorer.&lt;locals&gt;.score_func_finite&gt;, False, 'MAPE')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.MeanAbsolutePercentError" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean absolute percent error, error relative to actuals expressed as a %,
see <a class="reference external" href="https://en.wikipedia.org/wiki/Mean_absolute_percentage_error">wikipedia MAPE</a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.MedianAbsolutePercentError">
<code class="sig-name descname">MedianAbsolutePercentError</code><em class="property"> = (&lt;function add_finite_filter_to_scorer.&lt;locals&gt;.score_func_finite&gt;, False, 'MedAPE')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.MedianAbsolutePercentError" title="Permalink to this definition">¶</a></dt>
<dd><p>Median absolute percent error, median of error relative to actuals expressed as a %,
a median version of the MeanAbsolutePercentError, less affected by extreme values.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.SymmetricMeanAbsolutePercentError">
<code class="sig-name descname">SymmetricMeanAbsolutePercentError</code><em class="property"> = (&lt;function add_finite_filter_to_scorer.&lt;locals&gt;.score_func_finite&gt;, False, 'sMAPE')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.SymmetricMeanAbsolutePercentError" title="Permalink to this definition">¶</a></dt>
<dd><p>Symmetric mean absolute percent error, error relative to (actuals+forecast) expressed as a %.
Note that we do not include a factor of 2 in the denominator, so the range is 0% to 100%,
see <a class="reference external" href="https://en.wikipedia.org/wiki/Symmetric_mean_absolute_percentage_error">wikipedia sMAPE</a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.Quantile80">
<code class="sig-name descname">Quantile80</code><em class="property"> = (&lt;function quantile_loss_q.&lt;locals&gt;.quantile_loss_wrapper&gt;, False, 'Q80')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.Quantile80" title="Permalink to this definition">¶</a></dt>
<dd><p>Quantile loss with q=0.80:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">y_true</span> <span class="o">&lt;</span> <span class="n">y_pred</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">q</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">y_pred</span> <span class="o">-</span> <span class="n">y_true</span><span class="p">),</span> <span class="n">q</span> <span class="o">*</span> <span class="p">(</span><span class="n">y_true</span> <span class="o">-</span> <span class="n">y_pred</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.Quantile95">
<code class="sig-name descname">Quantile95</code><em class="property"> = (&lt;function quantile_loss_q.&lt;locals&gt;.quantile_loss_wrapper&gt;, False, 'Q95')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.Quantile95" title="Permalink to this definition">¶</a></dt>
<dd><p>Quantile loss with q=0.95:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">y_true</span> <span class="o">&lt;</span> <span class="n">y_pred</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">q</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">y_pred</span> <span class="o">-</span> <span class="n">y_true</span><span class="p">),</span> <span class="n">q</span> <span class="o">*</span> <span class="p">(</span><span class="n">y_true</span> <span class="o">-</span> <span class="n">y_pred</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.Quantile99">
<code class="sig-name descname">Quantile99</code><em class="property"> = (&lt;function quantile_loss_q.&lt;locals&gt;.quantile_loss_wrapper&gt;, False, 'Q99')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.Quantile99" title="Permalink to this definition">¶</a></dt>
<dd><p>Quantile loss with q=0.99:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">y_true</span> <span class="o">&lt;</span> <span class="n">y_pred</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">q</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">y_pred</span> <span class="o">-</span> <span class="n">y_true</span><span class="p">),</span> <span class="n">q</span> <span class="o">*</span> <span class="p">(</span><span class="n">y_true</span> <span class="o">-</span> <span class="n">y_pred</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.FractionOutsideTolerance1">
<code class="sig-name descname">FractionOutsideTolerance1</code><em class="property"> = (functools.partial(&lt;function fraction_outside_tolerance&gt;, rtol=0.01), False, 'OutsideTolerance1p')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.FractionOutsideTolerance1" title="Permalink to this definition">¶</a></dt>
<dd><p>Fraction of forecasted values that deviate more than 1% from the actual</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.FractionOutsideTolerance2">
<code class="sig-name descname">FractionOutsideTolerance2</code><em class="property"> = (functools.partial(&lt;function fraction_outside_tolerance&gt;, rtol=0.02), False, 'OutsideTolerance2p')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.FractionOutsideTolerance2" title="Permalink to this definition">¶</a></dt>
<dd><p>Fraction of forecasted values that deviate more than 2% from the actual</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.FractionOutsideTolerance3">
<code class="sig-name descname">FractionOutsideTolerance3</code><em class="property"> = (functools.partial(&lt;function fraction_outside_tolerance&gt;, rtol=0.03), False, 'OutsideTolerance3p')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.FractionOutsideTolerance3" title="Permalink to this definition">¶</a></dt>
<dd><p>Fraction of forecasted values that deviate more than 3% from the actual</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.FractionOutsideTolerance4">
<code class="sig-name descname">FractionOutsideTolerance4</code><em class="property"> = (functools.partial(&lt;function fraction_outside_tolerance&gt;, rtol=0.04), False, 'OutsideTolerance4p')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.FractionOutsideTolerance4" title="Permalink to this definition">¶</a></dt>
<dd><p>Fraction of forecasted values that deviate more than 4% from the actual</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.FractionOutsideTolerance5">
<code class="sig-name descname">FractionOutsideTolerance5</code><em class="property"> = (functools.partial(&lt;function fraction_outside_tolerance&gt;, rtol=0.05), False, 'OutsideTolerance5p')</em><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.FractionOutsideTolerance5" title="Permalink to this definition">¶</a></dt>
<dd><p>Fraction of forecasted values that deviate more than 5% from the actual</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.get_metric_func">
<code class="sig-name descname">get_metric_func</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/evaluation.html#EvaluationMetricEnum.get_metric_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.get_metric_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the metric function</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.get_metric_greater_is_better">
<code class="sig-name descname">get_metric_greater_is_better</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/evaluation.html#EvaluationMetricEnum.get_metric_greater_is_better"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.get_metric_greater_is_better" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the greater_is_better boolean</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.evaluation.EvaluationMetricEnum.get_metric_name">
<code class="sig-name descname">get_metric_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/evaluation.html#EvaluationMetricEnum.get_metric_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.evaluation.EvaluationMetricEnum.get_metric_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the short name</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-greykite.common.constants"></span><p>Constants used by code in <code class="xref py py-obj docutils literal notranslate"><span class="pre">common</span></code> or in multiple places:
<code class="xref py py-obj docutils literal notranslate"><span class="pre">algo</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn</span></code>,
and/or <code class="xref py py-obj docutils literal notranslate"><span class="pre">framework</span></code>.</p>
<dl class="py data">
<dt id="greykite.common.constants.TIME_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">TIME_COL</code><em class="property"> = 'ts'</em><a class="headerlink" href="#greykite.common.constants.TIME_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>The default name for the column with the timestamps of the time series</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.VALUE_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">VALUE_COL</code><em class="property"> = 'y'</em><a class="headerlink" href="#greykite.common.constants.VALUE_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>The default name for the column with the values of the time series</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.ACTUAL_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">ACTUAL_COL</code><em class="property"> = 'actual'</em><a class="headerlink" href="#greykite.common.constants.ACTUAL_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name representing actual (observed) values</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.PREDICTED_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">PREDICTED_COL</code><em class="property"> = 'forecast'</em><a class="headerlink" href="#greykite.common.constants.PREDICTED_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name representing the predicted values</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.RESIDUAL_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">RESIDUAL_COL</code><em class="property"> = 'residual'</em><a class="headerlink" href="#greykite.common.constants.RESIDUAL_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name representing the forecast residuals.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.PREDICTED_LOWER_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">PREDICTED_LOWER_COL</code><em class="property"> = 'forecast_lower'</em><a class="headerlink" href="#greykite.common.constants.PREDICTED_LOWER_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name representing upper bounds of prediction interval</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.PREDICTED_UPPER_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">PREDICTED_UPPER_COL</code><em class="property"> = 'forecast_upper'</em><a class="headerlink" href="#greykite.common.constants.PREDICTED_UPPER_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name representing lower bounds of prediction interval</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.NULL_PREDICTED_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">NULL_PREDICTED_COL</code><em class="property"> = 'forecast_null'</em><a class="headerlink" href="#greykite.common.constants.NULL_PREDICTED_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name representing predicted values from null model</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.ERR_STD_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">ERR_STD_COL</code><em class="property"> = 'err_std'</em><a class="headerlink" href="#greykite.common.constants.ERR_STD_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name representing the error standard deviation from models</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.QUANTILE_SUMMARY_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">QUANTILE_SUMMARY_COL</code><em class="property"> = 'quantile_summary'</em><a class="headerlink" href="#greykite.common.constants.QUANTILE_SUMMARY_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name representing the quantile summary from models</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.R2_null_model_score">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">R2_null_model_score</code><em class="property"> = 'R2_null_model_score'</em><a class="headerlink" href="#greykite.common.constants.R2_null_model_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluation metric. Improvement in the specified loss function compared to the predictions of a null model.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">FRACTION_OUTSIDE_TOLERANCE</code><em class="property"> = 'Outside Tolerance (fraction)'</em><a class="headerlink" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluation metric. The fraction of predictions outside the specified tolerance level</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.PREDICTION_BAND_WIDTH">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">PREDICTION_BAND_WIDTH</code><em class="property"> = 'Prediction Band Width (%)'</em><a class="headerlink" href="#greykite.common.constants.PREDICTION_BAND_WIDTH" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluation metric. Relative size of prediction bands vs actual, as a percent</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.PREDICTION_BAND_COVERAGE">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">PREDICTION_BAND_COVERAGE</code><em class="property"> = 'Prediction Band Coverage (fraction)'</em><a class="headerlink" href="#greykite.common.constants.PREDICTION_BAND_COVERAGE" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluation metric. Fraction of observations within the bands</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.LOWER_BAND_COVERAGE">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">LOWER_BAND_COVERAGE</code><em class="property"> = 'Coverage: Lower Band'</em><a class="headerlink" href="#greykite.common.constants.LOWER_BAND_COVERAGE" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluation metric. Fraction of observations within the lower band</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.UPPER_BAND_COVERAGE">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">UPPER_BAND_COVERAGE</code><em class="property"> = 'Coverage: Upper Band'</em><a class="headerlink" href="#greykite.common.constants.UPPER_BAND_COVERAGE" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluation metric. Fraction of observations within the upper band</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.COVERAGE_VS_INTENDED_DIFF">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">COVERAGE_VS_INTENDED_DIFF</code><em class="property"> = 'Coverage Diff: Actual_Coverage - Intended_Coverage'</em><a class="headerlink" href="#greykite.common.constants.COVERAGE_VS_INTENDED_DIFF" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluation metric. Difference between actual and intended coverage</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.EVENT_DF_DATE_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">EVENT_DF_DATE_COL</code><em class="property"> = 'date'</em><a class="headerlink" href="#greykite.common.constants.EVENT_DF_DATE_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of date column for the DataFrames passed to silverkite <em class="xref py py-obj">custom_daily_event_df_dict</em></p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.EVENT_DF_LABEL_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">EVENT_DF_LABEL_COL</code><em class="property"> = 'event_name'</em><a class="headerlink" href="#greykite.common.constants.EVENT_DF_LABEL_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of event column for the DataFrames passed to silverkite <em class="xref py py-obj">custom_daily_event_df_dict</em></p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.EVENT_PREFIX">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">EVENT_PREFIX</code><em class="property"> = 'events'</em><a class="headerlink" href="#greykite.common.constants.EVENT_PREFIX" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefix for naming event features.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.EVENT_DEFAULT">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">EVENT_DEFAULT</code><em class="property"> = ''</em><a class="headerlink" href="#greykite.common.constants.EVENT_DEFAULT" title="Permalink to this definition">¶</a></dt>
<dd><p>Label used for days without an event.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.EVENT_INDICATOR">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">EVENT_INDICATOR</code><em class="property"> = 'event'</em><a class="headerlink" href="#greykite.common.constants.EVENT_INDICATOR" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary indicatory for an event</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.CHANGEPOINT_COL_PREFIX">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">CHANGEPOINT_COL_PREFIX</code><em class="property"> = 'changepoint'</em><a class="headerlink" href="#greykite.common.constants.CHANGEPOINT_COL_PREFIX" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefix for naming changepoint features.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.CHANGEPOINT_COL_PREFIX_SHORT">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">CHANGEPOINT_COL_PREFIX_SHORT</code><em class="property"> = 'cp'</em><a class="headerlink" href="#greykite.common.constants.CHANGEPOINT_COL_PREFIX_SHORT" title="Permalink to this definition">¶</a></dt>
<dd><p>Short prefix for naming changepoint features.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.START_TIME_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">START_TIME_COL</code><em class="property"> = 'start_time'</em><a class="headerlink" href="#greykite.common.constants.START_TIME_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>Start timestamp column name</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.END_TIME_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">END_TIME_COL</code><em class="property"> = 'end_time'</em><a class="headerlink" href="#greykite.common.constants.END_TIME_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard end timestamp column</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.ADJUSTMENT_DELTA_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">ADJUSTMENT_DELTA_COL</code><em class="property"> = 'adjustment_delta'</em><a class="headerlink" href="#greykite.common.constants.ADJUSTMENT_DELTA_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjustment column</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.METRIC_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">METRIC_COL</code><em class="property"> = 'metric'</em><a class="headerlink" href="#greykite.common.constants.METRIC_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>Column to denote metric of interest</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.DIMENSION_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">DIMENSION_COL</code><em class="property"> = 'dimension'</em><a class="headerlink" href="#greykite.common.constants.DIMENSION_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>Dimension column</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.ANOMALY_COL">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">ANOMALY_COL</code><em class="property"> = 'is_anomaly'</em><a class="headerlink" href="#greykite.common.constants.ANOMALY_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>The default name for the column with the anomaly labels of the time series</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.common.constants.TimeFeaturesEnum">
<em class="property">class </em><code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">TimeFeaturesEnum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/constants.html#TimeFeaturesEnum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.constants.TimeFeaturesEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Time features generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.</p>
<p>The item names are lower-case letters (kept the same as the values) for easier check of existence.
To check if a string s is in this Enum,
use <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">in</span> <span class="pre">TimeFeaturesEnum.__dict__[&quot;_member_names_&quot;]</span></code>.
Direct check of existence <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">in</span> <span class="pre">TimeFeaturesEnum</span></code> is deprecated in python 3.8.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.common.constants.GrowthColEnum">
<em class="property">class </em><code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">GrowthColEnum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/constants.html#GrowthColEnum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.constants.GrowthColEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Human-readable names for the growth columns generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.</p>
<p>The names are the human-readable names, and the values are the corresponding
column names generated by <a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.LAG_INFIX">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">LAG_INFIX</code><em class="property"> = '_lag'</em><a class="headerlink" href="#greykite.common.constants.LAG_INFIX" title="Permalink to this definition">¶</a></dt>
<dd><p>Infix for lagged feature names</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.AGG_LAG_INFIX">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">AGG_LAG_INFIX</code><em class="property"> = 'avglag'</em><a class="headerlink" href="#greykite.common.constants.AGG_LAG_INFIX" title="Permalink to this definition">¶</a></dt>
<dd><p>Infix for aggregated lag feature names</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.TREND_REGEX">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">TREND_REGEX</code><em class="property"> = 'changepoint\\d|ct\\d|ct_|cp\\d'</em><a class="headerlink" href="#greykite.common.constants.TREND_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p>Growth terms, including changepoints.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.SEASONALITY_REGEX">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">SEASONALITY_REGEX</code><em class="property"> = 'sin\\d|cos\\d'</em><a class="headerlink" href="#greykite.common.constants.SEASONALITY_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p>Seasonality terms modeled by fourier series.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.EVENT_REGEX">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">EVENT_REGEX</code><em class="property"> = 'events_'</em><a class="headerlink" href="#greykite.common.constants.EVENT_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p>Event terms.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.LAG_REGEX">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">LAG_REGEX</code><em class="property"> = '_lag\\d|_avglag_\\d'</em><a class="headerlink" href="#greykite.common.constants.LAG_REGEX" title="Permalink to this definition">¶</a></dt>
<dd><p>Lag terms.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.common.constants.LOGGER_NAME">
<code class="sig-prename descclassname">greykite.common.constants.</code><code class="sig-name descname">LOGGER_NAME</code><em class="property"> = 'Greykite'</em><a class="headerlink" href="#greykite.common.constants.LOGGER_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>Name used by the logger.</p>
</dd></dl>

<span class="target" id="module-greykite.framework.constants"></span><p>Constants used by <a href="#id1"><span class="problematic" id="id2">`</span></a>~greykite.framework.</p>
<dl class="py data">
<dt id="greykite.framework.constants.EVALUATION_PERIOD_CV_MAX_SPLITS">
<code class="sig-prename descclassname">greykite.framework.constants.</code><code class="sig-name descname">EVALUATION_PERIOD_CV_MAX_SPLITS</code><em class="property"> = 3</em><a class="headerlink" href="#greykite.framework.constants.EVALUATION_PERIOD_CV_MAX_SPLITS" title="Permalink to this definition">¶</a></dt>
<dd><p>Default value for EvaluationPeriodParam().cv_max_splits</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.constants.COMPUTATION_N_JOBS">
<code class="sig-prename descclassname">greykite.framework.constants.</code><code class="sig-name descname">COMPUTATION_N_JOBS</code><em class="property"> = 1</em><a class="headerlink" href="#greykite.framework.constants.COMPUTATION_N_JOBS" title="Permalink to this definition">¶</a></dt>
<dd><p>Default value for ComputationParam.n_jobs</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.constants.COMPUTATION_VERBOSE">
<code class="sig-prename descclassname">greykite.framework.constants.</code><code class="sig-name descname">COMPUTATION_VERBOSE</code><em class="property"> = 1</em><a class="headerlink" href="#greykite.framework.constants.COMPUTATION_VERBOSE" title="Permalink to this definition">¶</a></dt>
<dd><p>Default value for ComputationParam.verbose</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.constants.CV_REPORT_METRICS_ALL">
<code class="sig-prename descclassname">greykite.framework.constants.</code><code class="sig-name descname">CV_REPORT_METRICS_ALL</code><em class="property"> = 'ALL'</em><a class="headerlink" href="#greykite.framework.constants.CV_REPORT_METRICS_ALL" title="Permalink to this definition">¶</a></dt>
<dd><p>Set <em class="xref py py-obj">cv_report_metrics</em> to this value to compute all metrics during CV</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.constants.FRACTION_OUTSIDE_TOLERANCE_NAME">
<code class="sig-prename descclassname">greykite.framework.constants.</code><code class="sig-name descname">FRACTION_OUTSIDE_TOLERANCE_NAME</code><em class="property"> = 'OutsideTolerance'</em><a class="headerlink" href="#greykite.framework.constants.FRACTION_OUTSIDE_TOLERANCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>Short name used to report the result of <em class="xref py py-obj">FRACTION_OUTSIDE_TOLERANCE</em> in CV</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.constants.CUSTOM_SCORE_FUNC_NAME">
<code class="sig-prename descclassname">greykite.framework.constants.</code><code class="sig-name descname">CUSTOM_SCORE_FUNC_NAME</code><em class="property"> = 'score'</em><a class="headerlink" href="#greykite.framework.constants.CUSTOM_SCORE_FUNC_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>Short name used to report the result of custom <em class="xref py py-obj">score_func</em> in CV</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.constants.MEAN_COL_GROUP">
<code class="sig-prename descclassname">greykite.framework.constants.</code><code class="sig-name descname">MEAN_COL_GROUP</code><em class="property"> = 'mean'</em><a class="headerlink" href="#greykite.framework.constants.MEAN_COL_GROUP" title="Permalink to this definition">¶</a></dt>
<dd><p>Columns with mean.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.constants.QUANTILE_COL_GROUP">
<code class="sig-prename descclassname">greykite.framework.constants.</code><code class="sig-name descname">QUANTILE_COL_GROUP</code><em class="property"> = 'quantile'</em><a class="headerlink" href="#greykite.framework.constants.QUANTILE_COL_GROUP" title="Permalink to this definition">¶</a></dt>
<dd><p>Columns with quantile.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.constants.OVERLAY_COL_GROUP">
<code class="sig-prename descclassname">greykite.framework.constants.</code><code class="sig-name descname">OVERLAY_COL_GROUP</code><em class="property"> = 'overlay'</em><a class="headerlink" href="#greykite.framework.constants.OVERLAY_COL_GROUP" title="Permalink to this definition">¶</a></dt>
<dd><p>Columns with overlay.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.constants.FORECAST_STEP_COL">
<code class="sig-prename descclassname">greykite.framework.constants.</code><code class="sig-name descname">FORECAST_STEP_COL</code><em class="property"> = 'forecast_step'</em><a class="headerlink" href="#greykite.framework.constants.FORECAST_STEP_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name for forecast step in benchmarking</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.forecast.silverkite.constants.silverkite_constant.</code><code class="sig-name descname">SilverkiteConstant</code><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/constants/silverkite_constant.html#SilverkiteConstant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses the appropriate constant mixins to provide all the constants that will be used by Silverkite.</p>
<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant.get_silverkite_column">
<code class="sig-name descname">get_silverkite_column</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Type<span class="p">[</span><a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn" title="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn">greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn</a><span class="p">]</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant.get_silverkite_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the SilverkiteColumn constants</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant.get_silverkite_components_enum">
<code class="sig-name descname">get_silverkite_components_enum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Type<span class="p">[</span><a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_component.SilverkiteComponentsEnum" title="greykite.algo.forecast.silverkite.constants.silverkite_component.SilverkiteComponentsEnum">greykite.algo.forecast.silverkite.constants.silverkite_component.SilverkiteComponentsEnum</a><span class="p">]</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant.get_silverkite_components_enum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the SilverkiteComponentsEnum constants</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant.get_silverkite_holiday">
<code class="sig-name descname">get_silverkite_holiday</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Type<span class="p">[</span><a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday" title="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday">greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday</a><span class="p">]</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant.get_silverkite_holiday" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the SilverkiteHoliday constants</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant.get_silverkite_seasonality_enum">
<code class="sig-name descname">get_silverkite_seasonality_enum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Type<span class="p">[</span><a class="reference internal" href="#id15" title="greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum">greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum</a><span class="p">]</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant.get_silverkite_seasonality_enum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the SilverkiteSeasonalityEnum constants</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant.get_silverkite_time_frequency_enum">
<code class="sig-name descname">get_silverkite_time_frequency_enum</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Type<span class="p">[</span><a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_time_frequency.SilverkiteTimeFrequencyEnum" title="greykite.algo.forecast.silverkite.constants.silverkite_time_frequency.SilverkiteTimeFrequencyEnum">greykite.algo.forecast.silverkite.constants.silverkite_time_frequency.SilverkiteTimeFrequencyEnum</a><span class="p">]</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant.get_silverkite_time_frequency_enum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the SilverkiteTimeFrequencyEnum constants</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.forecast.silverkite.constants.silverkite_column.</code><code class="sig-name descname">SilverkiteColumn</code><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/constants/silverkite_column.html#SilverkiteColumn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite feature sets for sub-daily data.</p>
<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_HOUR_OF_WEEK">
<code class="sig-name descname">COLS_HOUR_OF_WEEK</code><em class="property">: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></em><em class="property"> = 'hour_of_week'</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_HOUR_OF_WEEK" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite feature_sets_enabled key. constant hour of week effect</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_WEEKEND_SEAS">
<code class="sig-name descname">COLS_WEEKEND_SEAS</code><em class="property">: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></em><em class="property"> = 'is_weekend:daily_seas'</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_WEEKEND_SEAS" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite feature_sets_enabled key. daily seasonality interaction with is_weekend</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_DAY_OF_WEEK_SEAS">
<code class="sig-name descname">COLS_DAY_OF_WEEK_SEAS</code><em class="property">: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></em><em class="property"> = 'day_of_week:daily_seas'</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_DAY_OF_WEEK_SEAS" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite feature_sets_enabled key. daily seasonality interaction with day of week</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_TREND_DAILY_SEAS">
<code class="sig-name descname">COLS_TREND_DAILY_SEAS</code><em class="property">: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></em><em class="property"> = 'trend:is_weekend:daily_seas'</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_TREND_DAILY_SEAS" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite feature_sets_enabled key. allow daily seasonality to change over time, depending on is_weekend</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_EVENT_SEAS">
<code class="sig-name descname">COLS_EVENT_SEAS</code><em class="property">: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></em><em class="property"> = 'event:daily_seas'</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_EVENT_SEAS" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite feature_sets_enabled key. allow sub-daily event effects</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_EVENT_WEEKEND_SEAS">
<code class="sig-name descname">COLS_EVENT_WEEKEND_SEAS</code><em class="property">: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></em><em class="property"> = 'event:is_weekend:daily_seas'</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_EVENT_WEEKEND_SEAS" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite feature_sets_enabled key. allow sub-daily event effect to interact with is_weekend</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_DAY_OF_WEEK">
<code class="sig-name descname">COLS_DAY_OF_WEEK</code><em class="property">: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></em><em class="property"> = 'day_of_week'</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_DAY_OF_WEEK" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite feature_sets_enabled key. constant day of week effect</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_TREND_WEEKEND">
<code class="sig-name descname">COLS_TREND_WEEKEND</code><em class="property">: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></em><em class="property"> = 'trend:is_weekend'</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_TREND_WEEKEND" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite feature_sets_enabled key. allow trend (growth, changepoints) to interact with is_weekend</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_TREND_DAY_OF_WEEK">
<code class="sig-name descname">COLS_TREND_DAY_OF_WEEK</code><em class="property">: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></em><em class="property"> = 'trend:day_of_week'</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_TREND_DAY_OF_WEEK" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite feature_sets_enabled key. allow trend to interact with day of week</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_TREND_WEEKLY_SEAS">
<code class="sig-name descname">COLS_TREND_WEEKLY_SEAS</code><em class="property">: <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></em><em class="property"> = 'trend:weekly_seas'</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn.COLS_TREND_WEEKLY_SEAS" title="Permalink to this definition">¶</a></dt>
<dd><p>Silverkite feature_sets_enabled key. allow weekly seasonality to change over time</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_component.SilverkiteComponentsEnum">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.forecast.silverkite.constants.silverkite_component.</code><code class="sig-name descname">SilverkiteComponentsEnum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/constants/silverkite_component.html#SilverkiteComponentsEnum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_component.SilverkiteComponentsEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines groupby time feature, xlabel and ylabel for Silverkite Component Plots.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.forecast.silverkite.constants.silverkite_holiday.</code><code class="sig-name descname">SilverkiteHoliday</code><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/constants/silverkite_holiday.html#SilverkiteHoliday"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday" title="Permalink to this definition">¶</a></dt>
<dd><p>Holiday constants to be used by Silverkite</p>
<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAY_LOOKUP_COUNTRIES_AUTO">
<code class="sig-name descname">HOLIDAY_LOOKUP_COUNTRIES_AUTO</code><em class="property"> = ('UnitedStates', 'UnitedKingdom', 'India', 'France', 'China')</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAY_LOOKUP_COUNTRIES_AUTO" title="Permalink to this definition">¶</a></dt>
<dd><p>Auto setting for the countries that contain the holidays to include in the model</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAYS_TO_MODEL_SEPARATELY_AUTO">
<code class="sig-name descname">HOLIDAYS_TO_MODEL_SEPARATELY_AUTO</code><em class="property"> = (&quot;New Year's Day&quot;, 'Chinese New Year', 'Christmas Day', 'Independence Day', 'Thanksgiving', 'Labor Day', 'Good Friday', 'Easter Monday [England, Wales, Northern Ireland]', 'Memorial Day', 'Veterans Day')</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAYS_TO_MODEL_SEPARATELY_AUTO" title="Permalink to this definition">¶</a></dt>
<dd><p>Auto setting for the holidays to include in the model</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.ALL_HOLIDAYS_IN_COUNTRIES">
<code class="sig-name descname">ALL_HOLIDAYS_IN_COUNTRIES</code><em class="property"> = 'ALL_HOLIDAYS_IN_COUNTRIES'</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.ALL_HOLIDAYS_IN_COUNTRIES" title="Permalink to this definition">¶</a></dt>
<dd><p>Value for <em class="xref py py-obj">holidays_to_model_separately</em> to request all holidays in the lookup countries</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAYS_TO_INTERACT">
<code class="sig-name descname">HOLIDAYS_TO_INTERACT</code><em class="property"> = ('Christmas Day', 'Christmas Day_minus_1', 'Christmas Day_minus_2', 'Christmas Day_plus_1', 'Christmas Day_plus_2', 'New Years Day', 'New Years Day_minus_1', 'New Years Day_minus_2', 'New Years Day_plus_1', 'New Years Day_plus_2', 'Thanksgiving', 'Thanksgiving_plus_1', 'Independence Day')</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAYS_TO_INTERACT" title="Permalink to this definition">¶</a></dt>
<dd><p>Significant holidays that may have a different daily seasonality pattern</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.forecast.silverkite.constants.silverkite_seasonality.</code><code class="sig-name descname">SilverkiteSeasonalityEnum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/constants/silverkite_seasonality.html#SilverkiteSeasonalityEnum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines default seasonalities for Silverkite estimator.
Names should match those in SeasonalityEnum.
The default order for various seasonalities is stored in this enum.</p>
<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum.DAILY_SEASONALITY">
<code class="sig-name descname">DAILY_SEASONALITY</code><em class="property">: greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonality</em><em class="property"> = SilverkiteSeasonality(name='tod', period=24.0, order=12, seas_names='daily', default_min_days=2)</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum.DAILY_SEASONALITY" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">tod</span></code> is 0-24 time of day (tod granularity based on input data, up to second level).
Requires at least two full cycles to add the seasonal term (<code class="docutils literal notranslate"><span class="pre">default_min_days=2</span></code>).</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum.WEEKLY_SEASONALITY">
<code class="sig-name descname">WEEKLY_SEASONALITY</code><em class="property">: greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonality</em><em class="property"> = SilverkiteSeasonality(name='tow', period=7.0, order=4, seas_names='weekly', default_min_days=14)</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum.WEEKLY_SEASONALITY" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">tow</span></code> is 0-7 time of week (tow granularity based on input data, up to second level).
<code class="docutils literal notranslate"><span class="pre">order=4</span></code> for full flexibility to model daily input.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum.MONTHLY_SEASONALITY">
<code class="sig-name descname">MONTHLY_SEASONALITY</code><em class="property">: greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonality</em><em class="property"> = SilverkiteSeasonality(name='tom', period=1.0, order=2, seas_names='monthly', default_min_days=60)</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum.MONTHLY_SEASONALITY" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">tom</span></code> is 0-1 time of month (tom granularity based on input data, up to daily level).</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum.QUARTERLY_SEASONALITY">
<code class="sig-name descname">QUARTERLY_SEASONALITY</code><em class="property">: greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonality</em><em class="property"> = SilverkiteSeasonality(name='toq', period=1.0, order=5, seas_names='quarterly', default_min_days=180)</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum.QUARTERLY_SEASONALITY" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">toq</span></code> (continuous time of quarter) with natural period.
Each day is mapped to a value in [0.0, 1.0) based on its position in the calendar quarter:
(Jan1-Mar31, Apr1-Jun30, Jul1-Sep30, Oct1-Dec31). The start of each quarter is 0.0.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum.YEARLY_SEASONALITY">
<code class="sig-name descname">YEARLY_SEASONALITY</code><em class="property">: greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonality</em><em class="property"> = SilverkiteSeasonality(name='ct1', period=1.0, order=15, seas_names='yearly', default_min_days=548)</em><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnum.YEARLY_SEASONALITY" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">ct1</span></code> (continuous year) with natural period.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.algo.forecast.silverkite.constants.silverkite_time_frequency.SilverkiteTimeFrequencyEnum">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.forecast.silverkite.constants.silverkite_time_frequency.</code><code class="sig-name descname">SilverkiteTimeFrequencyEnum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/constants/silverkite_time_frequency.html#SilverkiteTimeFrequencyEnum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.constants.silverkite_time_frequency.SilverkiteTimeFrequencyEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides properties for modeling for various time frequencies in Silverkite.
The enum names is the time frequency, corresponding to the simple time
frequencies in <code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleTimeFrequencyEnum</span></code>.</p>
</dd></dl>

<span class="target" id="module-greykite.framework.templates.simple_silverkite_template_config"></span><p>Provides templates for SimpleSilverkiteEstimator that are pre-tuned to fit
specific use cases.</p>
<p>A subset of these templates are recognized by
<em class="xref py py-obj">ModelTemplateEnum</em>.</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">simple_silverkite_template</span></code>
also accepts any <code class="docutils literal notranslate"><span class="pre">model_template</span></code> name that follows
the naming convention in this file. For details, see
the <code class="docutils literal notranslate"><span class="pre">model_template</span></code> parameter in
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a>.</p>
<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_FREQ</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SILVERKITE_FREQ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name frequency.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.templates.simple_silverkite_template_config.VALID_FREQ">
<code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">VALID_FREQ</code><em class="property"> = ['HOURLY', 'DAILY', 'WEEKLY']</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.VALID_FREQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid non-default values for simple silverkite template string name frequency.
These are the non-default frequencies recognized by
<a class="reference internal" href="#id0" title="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplateOptions</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_SEAS</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SILVERKITE_SEAS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name seasonality.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_GR</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SILVERKITE_GR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name growth_term.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_CP</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SILVERKITE_CP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name changepoints_dict.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_HOL</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SILVERKITE_HOL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name events.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_FEASET</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SILVERKITE_FEASET"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name feature_sets_enabled.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_ALGO</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SILVERKITE_ALGO"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name fit_algorithm.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_AR</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SILVERKITE_AR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name autoregression.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_DSI</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SILVERKITE_DSI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name daily seasonality max interaction order.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_WSI</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SILVERKITE_WSI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name weekly seasonality max interaction order.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_COMPONENT_KEYWORDS">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_COMPONENT_KEYWORDS</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SILVERKITE_COMPONENT_KEYWORDS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_COMPONENT_KEYWORDS" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name keywords.
The names are the keywords and the values are the corresponding value enum.
Can be used to create an instance of
<a class="reference internal" href="#id0" title="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplateOptions</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt id="id0">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SimpleSilverkiteTemplateOptions</code><span class="sig-paren">(</span><em class="sig-param">freq: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ = &lt;SILVERKITE_FREQ.DAILY: 'DAILY'&gt;</em>, <em class="sig-param">seas: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS = &lt;SILVERKITE_SEAS.LT: 'LT'&gt;</em>, <em class="sig-param">gr: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR = &lt;SILVERKITE_GR.LINEAR: 'LINEAR'&gt;</em>, <em class="sig-param">cp: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP = &lt;SILVERKITE_CP.NONE: 'NONE'&gt;</em>, <em class="sig-param">hol: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL = &lt;SILVERKITE_HOL.NONE: 'NONE'&gt;</em>, <em class="sig-param">feaset: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET = &lt;SILVERKITE_FEASET.OFF: 'OFF'&gt;</em>, <em class="sig-param">algo: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO = &lt;SILVERKITE_ALGO.LINEAR: 'LINEAR'&gt;</em>, <em class="sig-param">ar: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR = &lt;SILVERKITE_AR.OFF: 'OFF'&gt;</em>, <em class="sig-param">dsi: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI = &lt;SILVERKITE_DSI.AUTO: 'AUTO'&gt;</em>, <em class="sig-param">wsi: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI = &lt;SILVERKITE_WSI.AUTO: 'AUTO'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SimpleSilverkiteTemplateOptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines generic simple silverkite template options.</p>
<p>Attributes can be set to different values using
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_COMPONENT_KEYWORDS" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_COMPONENT_KEYWORDS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_COMPONENT_KEYWORDS</span></code></a>
for high level tuning.</p>
<p><code class="docutils literal notranslate"><span class="pre">freq</span></code> represents data frequency.</p>
<p>The other attributes stand for seasonality,
growth, changepoints_dict, events, feature_sets_enabled, fit_algorithm and autoregression in
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>, which are used in
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a>.</p>
<dl class="py attribute">
<dt id="id3">
<code class="sig-name descname">freq</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ</a></em><em class="property"> = 'DAILY'</em><a class="headerlink" href="#id3" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name frequency.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_FREQ</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="id4">
<code class="sig-name descname">seas</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS</a></em><em class="property"> = 'LT'</em><a class="headerlink" href="#id4" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name seasonality.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_SEAS</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="id5">
<code class="sig-name descname">gr</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR</a></em><em class="property"> = 'LINEAR'</em><a class="headerlink" href="#id5" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name growth.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_GR</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="id6">
<code class="sig-name descname">cp</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP</a></em><em class="property"> = 'NONE'</em><a class="headerlink" href="#id6" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name changepoints.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_CP</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="id7">
<code class="sig-name descname">hol</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL</a></em><em class="property"> = 'NONE'</em><a class="headerlink" href="#id7" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name holiday.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_HOL</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="id8">
<code class="sig-name descname">feaset</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET</a></em><em class="property"> = 'OFF'</em><a class="headerlink" href="#id8" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name feature sets enabled.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_FEASET</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="id9">
<code class="sig-name descname">algo</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO</a></em><em class="property"> = 'LINEAR'</em><a class="headerlink" href="#id9" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name fit algorithm.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_ALGO</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="id10">
<code class="sig-name descname">ar</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR</a></em><em class="property"> = 'OFF'</em><a class="headerlink" href="#id10" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name autoregression.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_AR</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="id11">
<code class="sig-name descname">dsi</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI</a></em><em class="property"> = 'AUTO'</em><a class="headerlink" href="#id11" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name max daily seasonality interaction order.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_DSI</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="id12">
<code class="sig-name descname">wsi</code><em class="property">: <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI">greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI</a></em><em class="property"> = 'AUTO'</em><a class="headerlink" href="#id12" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name max weekly seasonality interaction order.
See <a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_WSI</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt id="greykite.framework.templates.simple_silverkite_template_config.COMMON_MODELCOMPONENTPARAM_PARAMETERS">
<code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">COMMON_MODELCOMPONENTPARAM_PARAMETERS</code><em class="property"> = {'ALGO': {'LASSO': {'fit_algorithm': 'lasso', 'fit_algorithm_params': None}, 'LINEAR': {'fit_algorithm': 'linear', 'fit_algorithm_params': None}, 'RIDGE': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'SGD': {'fit_algorithm': 'sgd', 'fit_algorithm_params': None}}, 'AR': {'AUTO': {'autoreg_dict': 'auto', 'fast_simulation': False, 'simulation_num': 10}, 'OFF': {'autoreg_dict': None, 'fast_simulation': False, 'simulation_num': 10}}, 'CP': {'DAILY': {'HV': {'method': 'auto', 'no_changepoint_distance_from_end': '180D', 'potential_changepoint_distance': '15D', 'regularization_strength': 0.3, 'resample_freq': '7D', 'yearly_seasonality_change_freq': '365D', 'yearly_seasonality_order': 15}, 'LT': {'method': 'auto', 'no_changepoint_distance_from_end': '90D', 'potential_changepoint_distance': '15D', 'regularization_strength': 0.6, 'resample_freq': '7D', 'yearly_seasonality_change_freq': None, 'yearly_seasonality_order': 15}, 'NM': {'method': 'auto', 'no_changepoint_distance_from_end': '180D', 'potential_changepoint_distance': '15D', 'regularization_strength': 0.5, 'resample_freq': '7D', 'yearly_seasonality_change_freq': '365D', 'yearly_seasonality_order': 15}, 'NONE': None}, 'HOURLY': {'HV': {'method': 'auto', 'no_changepoint_distance_from_end': '30D', 'potential_changepoint_distance': '15D', 'regularization_strength': 0.3, 'resample_freq': 'D', 'yearly_seasonality_change_freq': '365D', 'yearly_seasonality_order': 15}, 'LT': {'method': 'auto', 'no_changepoint_distance_from_end': '30D', 'potential_changepoint_distance': '7D', 'regularization_strength': 0.6, 'resample_freq': 'D', 'yearly_seasonality_change_freq': None, 'yearly_seasonality_order': 15}, 'NM': {'method': 'auto', 'no_changepoint_distance_from_end': '30D', 'potential_changepoint_distance': '15D', 'regularization_strength': 0.5, 'resample_freq': 'D', 'yearly_seasonality_change_freq': '365D', 'yearly_seasonality_order': 15}, 'NONE': None}, 'WEEKLY': {'HV': {'method': 'auto', 'no_changepoint_distance_from_end': '180D', 'potential_changepoint_distance': '14D', 'regularization_strength': 0.3, 'resample_freq': '7D', 'yearly_seasonality_change_freq': '365D', 'yearly_seasonality_order': 15}, 'LT': {'method': 'auto', 'no_changepoint_distance_from_end': '180D', 'potential_changepoint_distance': '14D', 'regularization_strength': 0.6, 'resample_freq': '7D', 'yearly_seasonality_change_freq': None, 'yearly_seasonality_order': 15}, 'NM': {'method': 'auto', 'no_changepoint_distance_from_end': '180D', 'potential_changepoint_distance': '14D', 'regularization_strength': 0.5, 'resample_freq': '7D', 'yearly_seasonality_change_freq': '365D', 'yearly_seasonality_order': 15}, 'NONE': None}}, 'DSI': {'DAILY': {'AUTO': 0, 'OFF': 0}, 'HOURLY': {'AUTO': 5, 'OFF': 0}, 'WEEKLY': {'AUTO': 0, 'OFF': 0}}, 'FEASET': {'AUTO': 'auto', 'OFF': False, 'ON': True}, 'GR': {'LINEAR': {'growth_term': 'linear'}, 'NONE': {'growth_term': None}}, 'HOL': {'NONE': {'auto_holiday': False, 'daily_event_df_dict': None, 'holiday_lookup_countries': [], 'holiday_post_num_days': 0, 'holiday_pre_num_days': 0, 'holiday_pre_post_num_dict': None, 'holidays_to_model_separately': []}, 'SP1': {'auto_holiday': False, 'daily_event_df_dict': None, 'holiday_lookup_countries': 'auto', 'holiday_post_num_days': 1, 'holiday_pre_num_days': 1, 'holiday_pre_post_num_dict': None, 'holidays_to_model_separately': 'auto'}, 'SP2': {'auto_holiday': False, 'daily_event_df_dict': None, 'holiday_lookup_countries': 'auto', 'holiday_post_num_days': 2, 'holiday_pre_num_days': 2, 'holiday_pre_post_num_dict': None, 'holidays_to_model_separately': 'auto'}, 'SP4': {'auto_holiday': False, 'daily_event_df_dict': None, 'holiday_lookup_countries': 'auto', 'holiday_post_num_days': 4, 'holiday_pre_num_days': 4, 'holiday_pre_post_num_dict': None, 'holidays_to_model_separately': 'auto'}, 'TG': {'auto_holiday': False, 'daily_event_df_dict': None, 'holiday_lookup_countries': 'auto', 'holiday_post_num_days': 3, 'holiday_pre_num_days': 3, 'holiday_pre_post_num_dict': None, 'holidays_to_model_separately': []}}, 'SEAS': {'DAILY': {'HV': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 0, 'quarterly_seasonality': 0, 'weekly_seasonality': 4, 'yearly_seasonality': 25}, 'HVQM': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 4, 'quarterly_seasonality': 6, 'weekly_seasonality': 4, 'yearly_seasonality': 25}, 'LT': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 0, 'quarterly_seasonality': 0, 'weekly_seasonality': 3, 'yearly_seasonality': 8}, 'LTQM': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 2, 'quarterly_seasonality': 3, 'weekly_seasonality': 3, 'yearly_seasonality': 8}, 'NM': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 0, 'quarterly_seasonality': 0, 'weekly_seasonality': 3, 'yearly_seasonality': 15}, 'NMQM': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 4, 'quarterly_seasonality': 4, 'weekly_seasonality': 3, 'yearly_seasonality': 15}, 'NONE': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 0, 'quarterly_seasonality': 0, 'weekly_seasonality': 0, 'yearly_seasonality': 0}}, 'HOURLY': {'HV': {'auto_seasonality': False, 'daily_seasonality': 12, 'monthly_seasonality': 0, 'quarterly_seasonality': 0, 'weekly_seasonality': 6, 'yearly_seasonality': 25}, 'HVQM': {'auto_seasonality': False, 'daily_seasonality': 12, 'monthly_seasonality': 4, 'quarterly_seasonality': 4, 'weekly_seasonality': 6, 'yearly_seasonality': 25}, 'LT': {'auto_seasonality': False, 'daily_seasonality': 5, 'monthly_seasonality': 0, 'quarterly_seasonality': 0, 'weekly_seasonality': 3, 'yearly_seasonality': 8}, 'LTQM': {'auto_seasonality': False, 'daily_seasonality': 5, 'monthly_seasonality': 2, 'quarterly_seasonality': 2, 'weekly_seasonality': 3, 'yearly_seasonality': 8}, 'NM': {'auto_seasonality': False, 'daily_seasonality': 8, 'monthly_seasonality': 0, 'quarterly_seasonality': 0, 'weekly_seasonality': 4, 'yearly_seasonality': 15}, 'NMQM': {'auto_seasonality': False, 'daily_seasonality': 8, 'monthly_seasonality': 3, 'quarterly_seasonality': 3, 'weekly_seasonality': 4, 'yearly_seasonality': 15}, 'NONE': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 0, 'quarterly_seasonality': 0, 'weekly_seasonality': 0, 'yearly_seasonality': 0}}, 'WEEKLY': {'HV': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 0, 'quarterly_seasonality': 0, 'weekly_seasonality': 0, 'yearly_seasonality': 25}, 'HVQM': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 4, 'quarterly_seasonality': 4, 'weekly_seasonality': 0, 'yearly_seasonality': 25}, 'LT': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 0, 'quarterly_seasonality': 0, 'weekly_seasonality': 0, 'yearly_seasonality': 8}, 'LTQM': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 2, 'quarterly_seasonality': 2, 'weekly_seasonality': 0, 'yearly_seasonality': 8}, 'NM': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 0, 'quarterly_seasonality': 0, 'weekly_seasonality': 0, 'yearly_seasonality': 15}, 'NMQM': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 3, 'quarterly_seasonality': 3, 'weekly_seasonality': 0, 'yearly_seasonality': 15}, 'NONE': {'auto_seasonality': False, 'daily_seasonality': 0, 'monthly_seasonality': 0, 'quarterly_seasonality': 0, 'weekly_seasonality': 0, 'yearly_seasonality': 0}}}, 'WSI': {'DAILY': {'AUTO': 2, 'OFF': 0}, 'HOURLY': {'AUTO': 2, 'OFF': 0}, 'WEEKLY': {'AUTO': 0, 'OFF': 0}}}</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.COMMON_MODELCOMPONENTPARAM_PARAMETERS" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the default component values for
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a>.
The components include seasonality, growth, holiday, trend changepoints,
feature sets, autoregression, fit algorithm, etc. These are used when
<em class="xref py py-obj">config.model_template</em> provides the
<a class="reference internal" href="#id0" title="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplateOptions</span></code></a>.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE">
<code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE</code><em class="property"> = ModelComponentsParam(autoregression={'autoreg_dict': 'auto', 'simulation_num': 10, 'fast_simulation': False}, changepoints={'auto_growth': False, 'changepoints_dict': {'method': 'auto', 'yearly_seasonality_order': 15, 'resample_freq': '3D', 'regularization_strength': 0.6, 'actual_changepoint_min_distance': '30D', 'potential_changepoint_distance': '15D', 'no_changepoint_distance_from_end': '90D'}, 'seasonality_changepoints_dict': None}, custom={'fit_algorithm_dict': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'feature_sets_enabled': 'auto', 'max_daily_seas_interaction_order': 5, 'max_weekly_seas_interaction_order': 2, 'extra_pred_cols': [], 'drop_pred_cols': None, 'explicit_pred_cols': None, 'min_admissible_value': None, 'max_admissible_value': None, 'regression_weight_col': None, 'normalize_method': 'zero_to_one'}, events={'auto_holiday': False, 'holidays_to_model_separately': 'auto', 'holiday_lookup_countries': 'auto', 'holiday_pre_num_days': 2, 'holiday_post_num_days': 2, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, growth={'growth_term': 'linear'}, hyperparameter_override=None, regressors={'regressor_cols': []}, lagged_regressors={'lagged_regressor_dict': None}, seasonality={'auto_seasonality': False, 'yearly_seasonality': 'auto', 'quarterly_seasonality': 'auto', 'monthly_seasonality': 'auto', 'weekly_seasonality': 'auto', 'daily_seasonality': 'auto'}, uncertainty={'uncertainty_dict': None})</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the <code class="docutils literal notranslate"><span class="pre">SILVERKITE</span></code> template. Contains automatic growth,
seasonality, holidays, autoregression and interactions.
Uses “zero_to_one” normalization method.
Best for hourly and daily frequencies. Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_MONTHLY">
<code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_MONTHLY</code><em class="property"> = ModelComponentsParam(autoregression={'autoreg_dict': {'lag_dict': None, 'agg_lag_dict': {'orders_list': [[1, 2, 3]]}}, 'simulation_num': 50, 'fast_simulation': True}, changepoints={'auto_growth': False, 'changepoints_dict': {'method': 'auto', 'regularization_strength': 0.6, 'resample_freq': '28D', 'potential_changepoint_distance': '180D', 'potential_changepoint_n_max': 100, 'actual_changepoint_min_distance': '730D', 'no_changepoint_distance_from_end': '180D', 'yearly_seasonality_order': 6}, 'seasonality_changepoints_dict': None}, custom={'fit_algorithm_dict': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'feature_sets_enabled': False, 'max_daily_seas_interaction_order': 0, 'max_weekly_seas_interaction_order': 0, 'extra_pred_cols': ['y_avglag_1_2_3*C(month, levels=list(range(1, 13)))', 'C(month, levels=list(range(1, 13)))'], 'drop_pred_cols': None, 'explicit_pred_cols': None, 'min_admissible_value': None, 'max_admissible_value': None, 'regression_weight_col': None, 'normalize_method': 'zero_to_one'}, events={'auto_holiday': False, 'holidays_to_model_separately': [], 'holiday_lookup_countries': [], 'holiday_pre_num_days': 0, 'holiday_post_num_days': 0, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, growth={'growth_term': 'linear'}, hyperparameter_override=None, regressors={'regressor_cols': []}, lagged_regressors={'lagged_regressor_dict': None}, seasonality={'auto_seasonality': False, 'yearly_seasonality': False, 'quarterly_seasonality': False, 'monthly_seasonality': False, 'weekly_seasonality': False, 'daily_seasonality': False}, uncertainty={'uncertainty_dict': None})</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_MONTHLY" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the <code class="docutils literal notranslate"><span class="pre">SILVERKITE_MONTHLY</span></code> template. Contains automatic growth.
Seasonality is modeled via categorical variable “month”.
Includes aggregated autoregression.
Simulation is needed when forecast horizon is greater than 1.
Uses statistical normalization method. Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DAILY_1">
<code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SILVERKITE_DAILY_1</code><em class="property"> = ['SILVERKITE_DAILY_1_CONFIG_1', 'SILVERKITE_DAILY_1_CONFIG_2', 'SILVERKITE_DAILY_1_CONFIG_3']</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DAILY_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the <code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1</span></code> template, which contains 3 candidate configs for grid search,
optimized for the seasonality and changepoint parameters.
Best for 1-day forecast for daily time series. Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.templates.simple_silverkite_template_config.MULTI_TEMPLATES">
<code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">MULTI_TEMPLATES</code><em class="property"> = {'SILVERKITE_DAILY_1': ['SILVERKITE_DAILY_1_CONFIG_1', 'SILVERKITE_DAILY_1_CONFIG_2', 'SILVERKITE_DAILY_1_CONFIG_3'], 'SILVERKITE_DAILY_90': ['DAILY_SEAS_LTQM_GR_LINEAR_CP_LT_HOL_SP2_FEASET_AUTO_ALGO_LINEAR_AR_OFF_DSI_AUTO_WSI_AUTO', 'DAILY_SEAS_LTQM_GR_LINEAR_CP_NONE_HOL_SP2_FEASET_AUTO_ALGO_LINEAR_AR_OFF_DSI_AUTO_WSI_AUTO', 'DAILY_SEAS_LTQM_GR_LINEAR_CP_LT_HOL_SP2_FEASET_AUTO_ALGO_RIDGE_AR_OFF_DSI_AUTO_WSI_AUTO', 'DAILY_SEAS_NM_GR_LINEAR_CP_LT_HOL_SP4_FEASET_AUTO_ALGO_RIDGE_AR_OFF_DSI_AUTO_WSI_AUTO'], 'SILVERKITE_HOURLY_1': ['SILVERKITE', 'HOURLY_SEAS_LT_GR_LINEAR_CP_NM_HOL_SP4_FEASET_OFF_ALGO_RIDGE_AR_AUTO', 'HOURLY_SEAS_NM_GR_LINEAR_CP_NM_HOL_SP1_FEASET_AUTO_ALGO_RIDGE_AR_AUTO'], 'SILVERKITE_HOURLY_168': ['HOURLY_SEAS_LT_GR_LINEAR_CP_LT_HOL_SP4_FEASET_AUTO_ALGO_RIDGE_AR_OFF', 'HOURLY_SEAS_LT_GR_LINEAR_CP_LT_HOL_SP2_FEASET_AUTO_ALGO_RIDGE_AR_OFF', 'HOURLY_SEAS_NM_GR_LINEAR_CP_NONE_HOL_SP4_FEASET_OFF_ALGO_LINEAR_AR_AUTO', 'HOURLY_SEAS_NM_GR_LINEAR_CP_NM_HOL_SP1_FEASET_AUTO_ALGO_RIDGE_AR_OFF'], 'SILVERKITE_HOURLY_24': ['HOURLY_SEAS_LT_GR_LINEAR_CP_NM_HOL_SP4_FEASET_AUTO_ALGO_RIDGE_AR_AUTO', 'HOURLY_SEAS_LT_GR_LINEAR_CP_NONE_HOL_SP4_FEASET_AUTO_ALGO_RIDGE_AR_AUTO', 'HOURLY_SEAS_NM_GR_LINEAR_CP_LT_HOL_SP1_FEASET_OFF_ALGO_LINEAR_AR_AUTO', 'HOURLY_SEAS_NM_GR_LINEAR_CP_NM_HOL_SP4_FEASET_AUTO_ALGO_RIDGE_AR_AUTO'], 'SILVERKITE_HOURLY_336': ['HOURLY_SEAS_LT_GR_LINEAR_CP_LT_HOL_SP2_FEASET_AUTO_ALGO_RIDGE_AR_OFF', 'HOURLY_SEAS_LT_GR_LINEAR_CP_LT_HOL_SP4_FEASET_AUTO_ALGO_RIDGE_AR_OFF', 'HOURLY_SEAS_NM_GR_LINEAR_CP_LT_HOL_SP1_FEASET_AUTO_ALGO_LINEAR_AR_OFF', 'HOURLY_SEAS_NM_GR_LINEAR_CP_NM_HOL_SP1_FEASET_AUTO_ALGO_LINEAR_AR_AUTO'], 'SILVERKITE_WEEKLY': ['WEEKLY_SEAS_NM_GR_LINEAR_CP_NONE_HOL_NONE_FEASET_OFF_ALGO_LINEAR_AR_OFF_DSI_AUTO_WSI_AUTO', 'WEEKLY_SEAS_NM_GR_LINEAR_CP_LT_HOL_NONE_FEASET_OFF_ALGO_LINEAR_AR_OFF_DSI_AUTO_WSI_AUTO', 'WEEKLY_SEAS_HV_GR_LINEAR_CP_NM_HOL_NONE_FEASET_OFF_ALGO_RIDGE_AR_OFF_DSI_AUTO_WSI_AUTO', 'WEEKLY_SEAS_HV_GR_LINEAR_CP_LT_HOL_NONE_FEASET_OFF_ALGO_RIDGE_AR_OFF_DSI_AUTO_WSI_AUTO']}</em><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.MULTI_TEMPLATES" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary of multi templates.</p>
<ul class="simple">
<li><p>Keys are the available multi templates names (valid strings for <em class="xref py py-obj">config.model_template</em>).</p></li>
<li><p>Values correspond to a list of
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>.</p></li>
</ul>
</dd></dl>

<dl class="py data">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SINGLE_MODEL_TEMPLATE_TYPE">
<code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SINGLE_MODEL_TEMPLATE_TYPE</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SINGLE_MODEL_TEMPLATE_TYPE" title="Permalink to this definition">¶</a></dt>
<dd><p>Types accepted by SimpleSilverkiteTemplate for <code class="docutils literal notranslate"><span class="pre">config.model_template</span></code>
for a single template.</p>
<p>alias of Union[str, greykite.framework.templates.autogen.forecast_config.ModelComponentsParam, greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions]</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.templates.simple_silverkite_template_config.</code><code class="sig-name descname">SimpleSilverkiteTemplateConstants</code><span class="sig-paren">(</span><em class="sig-param">COMMON_MODELCOMPONENTPARAM_PARAMETERS: Dict = &lt;factory&gt;, MULTI_TEMPLATES: Dict = &lt;factory&gt;, SILVERKITE: Union[str, greykite.framework.templates.autogen.forecast_config.ModelComponentsParam, greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions] = ModelComponentsParam(autoregression={'autoreg_dict': 'auto', 'simulation_num': 10, 'fast_simulation': False}, changepoints={'auto_growth': False, 'changepoints_dict': {'method': 'auto', 'yearly_seasonality_order': 15, 'resample_freq': '3D', 'regularization_strength': 0.6, 'actual_changepoint_min_distance': '30D', 'potential_changepoint_distance': '15D', 'no_changepoint_distance_from_end': '90D'}, 'seasonality_changepoints_dict': None}, custom={'fit_algorithm_dict': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'feature_sets_enabled': 'auto', 'max_daily_seas_interaction_order': 5, 'max_weekly_seas_interaction_order': 2, 'extra_pred_cols': [], 'drop_pred_cols': None, 'explicit_pred_cols': None, 'min_admissible_value': None, 'max_admissible_value': None, 'regression_weight_col': None, 'normalize_method': 'zero_to_one'}, events={'auto_holiday': False, 'holidays_to_model_separately': 'auto', 'holiday_lookup_countries': 'auto', 'holiday_pre_num_days': 2, 'holiday_post_num_days': 2, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, growth={'growth_term': 'linear'}, hyperparameter_override=None, regressors={'regressor_cols': []}, lagged_regressors={'lagged_regressor_dict': None}, seasonality={'auto_seasonality': False, 'yearly_seasonality': 'auto', 'quarterly_seasonality': 'auto', 'monthly_seasonality': 'auto', 'weekly_seasonality': 'auto', 'daily_seasonality': 'auto'}, uncertainty={'uncertainty_dict': None}), SILVERKITE_MONTHLY: Union[str, greykite.framework.templates.autogen.forecast_config.ModelComponentsParam, greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions] = ModelComponentsParam(autoregression={'autoreg_dict': {'lag_dict': None, 'agg_lag_dict': {'orders_list': [[1, 2, 3]]}}, 'simulation_num': 50, 'fast_simulation': True}, changepoints={'auto_growth': False, 'changepoints_dict': {'method': 'auto', 'regularization_strength': 0.6, 'resample_freq': '28D', 'potential_changepoint_distance': '180D', 'potential_changepoint_n_max': 100, 'actual_changepoint_min_distance': '730D', 'no_changepoint_distance_from_end': '180D', 'yearly_seasonality_order': 6}, 'seasonality_changepoints_dict': None}, custom={'fit_algorithm_dict': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'feature_sets_enabled': False, 'max_daily_seas_interaction_order': 0, 'max_weekly_seas_interaction_order': 0, 'extra_pred_cols': ['y_avglag_1_2_3*C(month, levels=list(range(1, 13)))', 'C(month, levels=list(range(1, 13)))'], 'drop_pred_cols': None, 'explicit_pred_cols': None, 'min_admissible_value': None, 'max_admissible_value': None, 'regression_weight_col': None, 'normalize_method': 'zero_to_one'}, events={'auto_holiday': False, 'holidays_to_model_separately': [], 'holiday_lookup_countries': [], 'holiday_pre_num_days': 0, 'holiday_post_num_days': 0, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, growth={'growth_term': 'linear'}, hyperparameter_override=None, regressors={'regressor_cols': []}, lagged_regressors={'lagged_regressor_dict': None}, seasonality={'auto_seasonality': False, 'yearly_seasonality': False, 'quarterly_seasonality': False, 'monthly_seasonality': False, 'weekly_seasonality': False, 'daily_seasonality': False}, uncertainty={'uncertainty_dict': None}), SILVERKITE_DAILY_1_CONFIG_1: Union[str, greykite.framework.templates.autogen.forecast_config.ModelComponentsParam, greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions] = ModelComponentsParam(autoregression={'autoreg_dict': 'auto', 'simulation_num': 10, 'fast_simulation': False}, changepoints={'auto_growth': False, 'changepoints_dict': {'method': 'auto', 'resample_freq': '7D', 'regularization_strength': 0.809, 'potential_changepoint_distance': '7D', 'no_changepoint_distance_from_end': '7D', 'yearly_seasonality_order': 8, 'yearly_seasonality_change_freq': None}, 'seasonality_changepoints_dict': None}, custom={'fit_algorithm_dict': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'feature_sets_enabled': 'auto', 'max_daily_seas_interaction_order': 5, 'max_weekly_seas_interaction_order': 2, 'extra_pred_cols': [], 'drop_pred_cols': None, 'explicit_pred_cols': None, 'min_admissible_value': None, 'max_admissible_value': None, 'regression_weight_col': None, 'normalize_method': 'zero_to_one'}, events={'auto_holiday': False, 'holidays_to_model_separately': (&quot;New Year's Day&quot;, 'Chinese New Year', 'Christmas Day', 'Independence Day', 'Thanksgiving', 'Labor Day', 'Good Friday', 'Easter Monday [England, Wales, Northern Ireland]', 'Memorial Day', 'Veterans Day'), 'holiday_lookup_countries': ('UnitedStates', 'UnitedKingdom', 'India', 'France', 'China'), 'holiday_pre_num_days': 2, 'holiday_post_num_days': 2, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, growth={'growth_term': 'linear'}, hyperparameter_override=None, regressors={'regressor_cols': []}, lagged_regressors={'lagged_regressor_dict': None}, seasonality={'auto_seasonality': False, 'yearly_seasonality': 8, 'quarterly_seasonality': 0, 'monthly_seasonality': 7, 'weekly_seasonality': 1, 'daily_seasonality': 0}, uncertainty={'uncertainty_dict': None}), SILVERKITE_DAILY_1_CONFIG_2: Union[str, greykite.framework.templates.autogen.forecast_config.ModelComponentsParam, greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions] = ModelComponentsParam(autoregression={'autoreg_dict': 'auto', 'simulation_num': 10, 'fast_simulation': False}, changepoints={'auto_growth': False, 'changepoints_dict': {'method': 'auto', 'resample_freq': '7D', 'regularization_strength': 0.624, 'potential_changepoint_distance': '7D', 'no_changepoint_distance_from_end': '17D', 'yearly_seasonality_order': 1, 'yearly_seasonality_change_freq': None}, 'seasonality_changepoints_dict': None}, custom={'fit_algorithm_dict': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'feature_sets_enabled': 'auto', 'max_daily_seas_interaction_order': 5, 'max_weekly_seas_interaction_order': 2, 'extra_pred_cols': [], 'drop_pred_cols': None, 'explicit_pred_cols': None, 'min_admissible_value': None, 'max_admissible_value': None, 'regression_weight_col': None, 'normalize_method': 'zero_to_one'}, events={'auto_holiday': False, 'holidays_to_model_separately': (&quot;New Year's Day&quot;, 'Chinese New Year', 'Christmas Day', 'Independence Day', 'Thanksgiving', 'Labor Day', 'Good Friday', 'Easter Monday [England, Wales, Northern Ireland]', 'Memorial Day', 'Veterans Day'), 'holiday_lookup_countries': ('UnitedStates', 'UnitedKingdom', 'India', 'France', 'China'), 'holiday_pre_num_days': 2, 'holiday_post_num_days': 2, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, growth={'growth_term': 'linear'}, hyperparameter_override=None, regressors={'regressor_cols': []}, lagged_regressors={'lagged_regressor_dict': None}, seasonality={'auto_seasonality': False, 'yearly_seasonality': 1, 'quarterly_seasonality': 0, 'monthly_seasonality': 4, 'weekly_seasonality': 6, 'daily_seasonality': 0}, uncertainty={'uncertainty_dict': None}), SILVERKITE_DAILY_1_CONFIG_3: Union[str, greykite.framework.templates.autogen.forecast_config.ModelComponentsParam, greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions] = ModelComponentsParam(autoregression={'autoreg_dict': 'auto', 'simulation_num': 10, 'fast_simulation': False}, changepoints={'auto_growth': False, 'changepoints_dict': {'method': 'auto', 'resample_freq': '7D', 'regularization_strength': 0.59, 'potential_changepoint_distance': '7D', 'no_changepoint_distance_from_end': '8D', 'yearly_seasonality_order': 40, 'yearly_seasonality_change_freq': None}, 'seasonality_changepoints_dict': None}, custom={'fit_algorithm_dict': {'fit_algorithm': 'ridge', 'fit_algorithm_params': None}, 'feature_sets_enabled': 'auto', 'max_daily_seas_interaction_order': 5, 'max_weekly_seas_interaction_order': 2, 'extra_pred_cols': [], 'drop_pred_cols': None, 'explicit_pred_cols': None, 'min_admissible_value': None, 'max_admissible_value': None, 'regression_weight_col': None, 'normalize_method': 'zero_to_one'}, events={'auto_holiday': False, 'holidays_to_model_separately': (&quot;New Year's Day&quot;, 'Chinese New Year', 'Christmas Day', 'Independence Day', 'Thanksgiving', 'Labor Day', 'Good Friday', 'Easter Monday [England, Wales, Northern Ireland]', 'Memorial Day', 'Veterans Day'), 'holiday_lookup_countries': ('UnitedStates', 'UnitedKingdom', 'India', 'France', 'China'), 'holiday_pre_num_days': 2, 'holiday_post_num_days': 2, 'holiday_pre_post_num_dict': None, 'daily_event_df_dict': None}, growth={'growth_term': 'linear'}, hyperparameter_override=None, regressors={'regressor_cols': []}, lagged_regressors={'lagged_regressor_dict': None}, seasonality={'auto_seasonality': False, 'yearly_seasonality': 40, 'quarterly_seasonality': 0, 'monthly_seasonality': 0, 'weekly_seasonality': 2, 'daily_seasonality': 0}, uncertainty={'uncertainty_dict': None}), SILVERKITE_COMPONENT_KEYWORDS: Type[enum.Enum] = &lt;enum 'SILVERKITE_COMPONENT_KEYWORDS'&gt;, SILVERKITE_EMPTY: Union[str, greykite.framework.templates.autogen.forecast_config.ModelComponentsParam, greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions] = 'DAILY_SEAS_NONE_GR_NONE_CP_NONE_HOL_NONE_FEASET_OFF_ALGO_LINEAR_AR_OFF_DSI_OFF_WSI_OFF', VALID_FREQ: List = &lt;factory&gt;, SimpleSilverkiteTemplateOptions: dataclasses.dataclass = &lt;class 'greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/simple_silverkite_template_config.html#SimpleSilverkiteTemplateConstants"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants" title="Permalink to this definition">¶</a></dt>
<dd><p>Constants used by
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a>.
Includes the model templates and their default values.</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">mutable_field</span></code> is used when the default value
is a mutable type like dict and list. Dataclass requires mutable default values
to be wrapped in ‘default_factory’, so that instances of this dataclass cannot
accidentally modify the default value.
<code class="xref py py-obj docutils literal notranslate"><span class="pre">mutable_field</span></code> wraps the constant accordingly.</p>
<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.COMMON_MODELCOMPONENTPARAM_PARAMETERS">
<code class="sig-name descname">COMMON_MODELCOMPONENTPARAM_PARAMETERS</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.COMMON_MODELCOMPONENTPARAM_PARAMETERS" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the default component values for
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate" title="greykite.framework.templates.simple_silverkite_template.SimpleSilverkiteTemplate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplate</span></code></a>.
The components include seasonality, growth, holiday, trend changepoints,
feature sets, autoregression, fit algorithm, etc. These are used when
<em class="xref py py-obj">config.model_template</em> provides the
<a class="reference internal" href="#id0" title="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplateOptions</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.MULTI_TEMPLATES">
<code class="sig-name descname">MULTI_TEMPLATES</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.MULTI_TEMPLATES" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary of multi templates.</p>
<ul class="simple">
<li><p>Keys are the available multi templates names (valid strings for <em class="xref py py-obj">config.model_template</em>).</p></li>
<li><p>Values correspond to a list of
<a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ModelComponentsParam" title="greykite.framework.templates.autogen.forecast_config.ModelComponentsParam"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ModelComponentsParam</span></code></a>.</p></li>
</ul>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE">
<code class="sig-name descname">SILVERKITE</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the <code class="docutils literal notranslate"><span class="pre">&quot;SILVERKITE&quot;</span></code> template. Contains automatic growth,
seasonality, holidays, autoregression and interactions.
Uses “zero_to_one” normalization method.
Best for hourly and daily frequencies. Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE_MONTHLY">
<code class="sig-name descname">SILVERKITE_MONTHLY</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE_MONTHLY" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the <code class="docutils literal notranslate"><span class="pre">SILVERKITE_MONTHLY</span></code> template.
Best for monthly forecasts. Uses <em class="xref py py-obj">SimpleSilverkiteEstimator</em>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE_DAILY_1_CONFIG_1">
<code class="sig-name descname">SILVERKITE_DAILY_1_CONFIG_1</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE_DAILY_1_CONFIG_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Config 1 in template <code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1</span></code>.
Compared to <code class="docutils literal notranslate"><span class="pre">SILVERKITE</span></code>, it adds change points and uses parameters
specifically tuned for daily data and 1-day forecast.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE_DAILY_1_CONFIG_2">
<code class="sig-name descname">SILVERKITE_DAILY_1_CONFIG_2</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE_DAILY_1_CONFIG_2" title="Permalink to this definition">¶</a></dt>
<dd><p>Config 2 in template <code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1</span></code>.
Compared to <code class="docutils literal notranslate"><span class="pre">SILVERKITE</span></code>, it adds change points and uses parameters
specifically tuned for daily data and 1-day forecast.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE_DAILY_1_CONFIG_3">
<code class="sig-name descname">SILVERKITE_DAILY_1_CONFIG_3</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE_DAILY_1_CONFIG_3" title="Permalink to this definition">¶</a></dt>
<dd><p>Config 3 in template <code class="docutils literal notranslate"><span class="pre">SILVERKITE_DAILY_1</span></code>.
Compared to <code class="docutils literal notranslate"><span class="pre">SILVERKITE</span></code>, it adds change points and uses parameters
specifically tuned for daily data and 1-day forecast.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE_COMPONENT_KEYWORDS">
<em class="property">class </em><code class="sig-name descname">SILVERKITE_COMPONENT_KEYWORDS</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE_COMPONENT_KEYWORDS" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid values for simple silverkite template string name keywords.
The names are the keywords and the values are the corresponding value enum.
Can be used to create an instance of
<a class="reference internal" href="#id0" title="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplateOptions</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE_EMPTY">
<code class="sig-name descname">SILVERKITE_EMPTY</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SILVERKITE_EMPTY" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the <code class="docutils literal notranslate"><span class="pre">&quot;SILVERKITE_EMPTY&quot;</span></code> template. Everything here is None or off.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.VALID_FREQ">
<code class="sig-name descname">VALID_FREQ</code><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.VALID_FREQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid non-default values for simple silverkite template string name frequency.
<a class="reference internal" href="#id0" title="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateOptions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteTemplateOptions</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt id="greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SimpleSilverkiteTemplateOptions">
<em class="property">class </em><code class="sig-name descname">SimpleSilverkiteTemplateOptions</code><span class="sig-paren">(</span><em class="sig-param">freq: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FREQ = &lt;SILVERKITE_FREQ.DAILY: 'DAILY'&gt;</em>, <em class="sig-param">seas: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_SEAS = &lt;SILVERKITE_SEAS.LT: 'LT'&gt;</em>, <em class="sig-param">gr: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_GR = &lt;SILVERKITE_GR.LINEAR: 'LINEAR'&gt;</em>, <em class="sig-param">cp: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_CP = &lt;SILVERKITE_CP.NONE: 'NONE'&gt;</em>, <em class="sig-param">hol: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_HOL = &lt;SILVERKITE_HOL.NONE: 'NONE'&gt;</em>, <em class="sig-param">feaset: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_FEASET = &lt;SILVERKITE_FEASET.OFF: 'OFF'&gt;</em>, <em class="sig-param">algo: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_ALGO = &lt;SILVERKITE_ALGO.LINEAR: 'LINEAR'&gt;</em>, <em class="sig-param">ar: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_AR = &lt;SILVERKITE_AR.OFF: 'OFF'&gt;</em>, <em class="sig-param">dsi: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_DSI = &lt;SILVERKITE_DSI.AUTO: 'AUTO'&gt;</em>, <em class="sig-param">wsi: greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_WSI = &lt;SILVERKITE_WSI.AUTO: 'AUTO'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.templates.simple_silverkite_template_config.SimpleSilverkiteTemplateConstants.SimpleSilverkiteTemplateOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines generic simple silverkite template options.
Attributes can be set to different values using
<a class="reference internal" href="#greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_COMPONENT_KEYWORDS" title="greykite.framework.templates.simple_silverkite_template_config.SILVERKITE_COMPONENT_KEYWORDS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SILVERKITE_COMPONENT_KEYWORDS</span></code></a>
for high level tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="easyconfig">
<h2>EasyConfig<a class="headerlink" href="#easyconfig" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferrer">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.common.seasonality_inferrer.</code><code class="sig-name descname">SeasonalityInferrer</code><a class="reference internal" href="../../_modules/greykite/algo/common/seasonality_inferrer.html#SeasonalityInferrer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferrer" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to infer appropriate Fourier series orders in different
seasonality components.</p>
<p>The method allows users to:</p>
<blockquote>
<div><ul class="simple">
<li><p>optionally remove the trend with different methods.
Available methods are in <a class="reference internal" href="#greykite.algo.common.seasonality_inferrer.TrendAdjustMethodEnum" title="greykite.algo.common.seasonality_inferrer.TrendAdjustMethodEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TrendAdjustMethodEnum</span></code></a>.</p></li>
<li><p>optionally do an aggregation.</p></li>
<li><p>fits the seasonality component with different Fourier series orders.</p></li>
<li><p>calculates the AIC/BIC of the fits.</p></li>
<li><p>choose the most appropriate order with AIC or BIC and an optional tolerance.</p></li>
<li><p>plot the investigations.</p></li>
</ul>
</div></blockquote>
<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.df">
<code class="sig-name descname">df</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.df" title="Permalink to this definition">¶</a></dt>
<dd><p>The input timeseries.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.time_col">
<code class="sig-name descname">time_col</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.time_col" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name for timestamps in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.value_col">
<code class="sig-name descname">value_col</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.value_col" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name for values in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.fourier_series_orders">
<code class="sig-name descname">fourier_series_orders</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.fourier_series_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>The inferred Fourier series orders.
The keys are the seasonality component names.
The values are the inferred best orders according to the config.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.df_features">
<code class="sig-name descname">df_features</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.df_features" title="Permalink to this definition">¶</a></dt>
<dd><p>The cached dataframe with time features.
Building this df is slow for large dataset.
We cache it the first time we build it for subsequent uses.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.infer_fourier_series_order">
<code class="sig-name descname">infer_fourier_series_order</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">configs</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig" title="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig">greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">time_col</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">adjust_trend_method</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">adjust_trend_param</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fit_algorithm</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plotting</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">aggregation_period</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">offset</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">criterion</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><a class="reference internal" href="../../_modules/greykite/algo/common/seasonality_inferrer.html#SeasonalityInferrer.infer_fourier_series_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.infer_fourier_series_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Infers the most appropriate Fourier series order.
Can infer multiple seasonality components with multiple configs at the same time.
The configurations for each component are passed as a list of
<a class="reference internal" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig" title="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SeasonalityInferConfig</span></code></a> object.
To override a parameter for all configs, pass it via this function’s parameter.</p>
<p>For each seasonality component,
the method first does an optional trend removal via grouped average or spline fit.
For example, for yearly seasonality, one option is to remove the average of each year
from the time series.
The seasonality pattern is clearer and dominates after the trend removal.</p>
<p>Next it does an optional aggregation to emphasize the current seasonality.
For example, for yearly seasonality, it can do a weekly aggregation so that
the weekly seasonality won’t be mixed when modeling yearly seasonality.</p>
<p>Then it fits seasonality model using Fourier series with orders up to a certain max_order,
and computes the AIC/BIC of the models.</p>
<p>The final order will be selected based on the criterion with a tolerance adjustment.
A pre-specified offset can also be added to the selected order for adjustment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The input timeseries.</p></li>
<li><p><strong>configs</strong> (<em class="xref py py-obj">list</em> [<a class="reference internal" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig" title="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SeasonalityInferConfig</span></code></a>]) – A list of <a class="reference internal" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig" title="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SeasonalityInferConfig</span></code></a>
objects. Each element corresponds to the config for a seasonality component.
For example, if you would like to infer seasonality orders for yearly seasonality and
weekly seasonality, you need to provide a list of two configs.</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – The column name for timestamps in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – The column name for values in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
<li><p><strong>adjust_trend_method</strong> (<em class="xref py py-obj">str</em> or None, default None) – The methods used to adjust trend.
Supported methods are in <em class="xref py py-obj">AdjustTrendMethodEnum</em>.
If not None, value is used to override all configs.</p></li>
<li><p><strong>adjust_trend_param</strong> (<em class="xref py py-obj">dict</em> or None, default None) – Additional parameters for adjusting trend.
For valid options, see
<code class="xref py py-obj docutils literal notranslate"><span class="pre">_adjust_trend</span></code>.
If not None, value is used to override all configs.</p></li>
<li><p><strong>fit_algorithm</strong> (<em class="xref py py-obj">str</em> or None, default None) – The algorithms used to fit the seasonality.
Supported algorithms are “linear”, “ridge” and “sgd”.
If not None, value is used to override all configs.</p></li>
<li><p><strong>plotting</strong> (<em class="xref py py-obj">bool</em> or None, default None) – Whether to generate plots.
If True, the returned dictionary will have plot via the “fig” key.
Can turn this off to speed up the process.
If not None, value is used to override all configs.</p></li>
<li><p><strong>tolerance</strong> (<em class="xref py py-obj">float</em> or None, default None) – A tolerance on the criterion to allow a smaller order.
For example, if AIC’s minimum is 100 and <code class="docutils literal notranslate"><span class="pre">tolerance</span></code> is 0.1,
then the function will find the smallest order that has AIC less than or equal to 110.
If not None, value is used to override all configs.</p></li>
<li><p><strong>aggregation_period</strong> (<em class="xref py py-obj">str</em> or None, default None) – The aggregation periods before fitting the Fourier series.
Having aggregation to eliminate shorter seasonal periods may help get more accurate orders.
But also make sure the number of observations after aggregation is sufficient.
(At least 2 *  max_order + 1 to have a unique solution for the regression problem)
If not None, value is used to override all configs.</p></li>
<li><p><strong>offset</strong> (<em class="xref py py-obj">int</em> or None, default None) – The offset order to be added to the inferred orders.
The orders after applying offsets can not be negative.
If not None, value is used to override all configs.</p></li>
<li><p><strong>criterion</strong> (<em class="xref py py-obj">str</em> or None, default None) – The criteria to pick the most appropriate orders.
If not None, value is used to override all configs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> –</p>
<p>The result dictionary with the following keys:</p>
<blockquote>
<div><ul>
<li><p>”result”: a list of result dictionaries from the inferring methods.
The keys are:</p>
<blockquote>
<div><ul class="simple">
<li><p>”seas_name”: the seasonality name.</p></li>
<li><p>”orders”: the Fourier series orders fitted.</p></li>
<li><p>”aics”: the fitted AICs.</p></li>
<li><p>”bics”: the fitted BICs.</p></li>
<li><p>”best_aic_order”: the order corresponding to the best feasible AIC.</p></li>
<li><p>”best_bic_order”: the order corresponding to the best feasible BIC.</p></li>
<li><p>”fig”: the diagnostic figure.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>”best_orders”: a dictionary of seasonality component names and their
inferred Fourier series orders.</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.algo.common.seasonality_inferrer.TrendAdjustMethodEnum">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.common.seasonality_inferrer.</code><code class="sig-name descname">TrendAdjustMethodEnum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/common/seasonality_inferrer.html#TrendAdjustMethodEnum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.TrendAdjustMethodEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>The methods that are available for adjusting trend in
<a class="reference internal" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.infer_fourier_series_order" title="greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.infer_fourier_series_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">infer_fourier_series_order</span></code></a>.</p>
<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.TrendAdjustMethodEnum.seasonal_average">
<code class="sig-name descname">seasonal_average</code><em class="property"> = 'seasonal_average'</em><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.TrendAdjustMethodEnum.seasonal_average" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the average within each seasonal period and removes it.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.TrendAdjustMethodEnum.overall_average">
<code class="sig-name descname">overall_average</code><em class="property"> = 'overall_average'</em><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.TrendAdjustMethodEnum.overall_average" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the average of the whole timeseries and removes it.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.TrendAdjustMethodEnum.spline_fit">
<code class="sig-name descname">spline_fit</code><em class="property"> = 'spline_fit'</em><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.TrendAdjustMethodEnum.spline_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits a spline with no knots (polynomial) with a certain degree and removes it.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.TrendAdjustMethodEnum.none">
<code class="sig-name descname">none</code><em class="property"> = 'none'</em><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.TrendAdjustMethodEnum.none" title="Permalink to this definition">¶</a></dt>
<dd><p>Does not adjust trend.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.common.seasonality_inferrer.</code><code class="sig-name descname">SeasonalityInferConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">seas_name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span></em>, <em class="sig-param"><span class="n">col_name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span></em>, <em class="sig-param"><span class="n">period</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a></span></em>, <em class="sig-param"><span class="n">max_order</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em>, <em class="sig-param"><span class="n">adjust_trend_method</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'seasonal_average'</span></em>, <em class="sig-param"><span class="n">adjust_trend_param</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fit_algorithm</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'ridge'</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a></span> <span class="o">=</span> <span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">plotting</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">aggregation_period</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">offset</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">criterion</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'bic'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/common/seasonality_inferrer.html#SeasonalityInferConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>A dataclass to pass the parameters for
<a class="reference internal" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.infer_fourier_series_order" title="greykite.algo.common.seasonality_inferrer.SeasonalityInferrer.infer_fourier_series_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">infer_fourier_series_order</span></code></a>.</p>
<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.seas_name">
<code class="sig-name descname">seas_name</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.seas_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Required.
The seasonality component name.
Will be used to distinguish the results.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.col_name">
<code class="sig-name descname">col_name</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.col_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Required.
The column name used to generate seasonality Fourier series.
Must be in <code class="docutils literal notranslate"><span class="pre">df</span></code> or can be generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See <em class="xref py py-obj">fourier_series_multi_func</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.period">
<code class="sig-name descname">period</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.period" title="Permalink to this definition">¶</a></dt>
<dd><p>Required.
The period corresponding to <code class="docutils literal notranslate"><span class="pre">col_name</span></code>.
See <em class="xref py py-obj">fourier_series_multi_func</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.max_order">
<code class="sig-name descname">max_order</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.max_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Required.
The maximum Fourier series order to fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.adjust_trend_method">
<code class="sig-name descname">adjust_trend_method</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.adjust_trend_method" title="Permalink to this definition">¶</a></dt>
<dd><p>The method used to adjust trend.
Supported methods are in <em class="xref py py-obj">AdjustTrendMethodEnum</em>.
None values are default to “seasonal_average” with subtracting yearly average as the default.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or None, default “seasonal_average”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.adjust_trend_param">
<code class="sig-name descname">adjust_trend_param</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.adjust_trend_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional parameters for adjusting the trend.
For valid options, see
<code class="xref py py-obj docutils literal notranslate"><span class="pre">_adjust_trend</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.fit_algorithm">
<code class="sig-name descname">fit_algorithm</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.fit_algorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>The algorithm used to fit the seasonality.
Supported algorithms are “linear”, “ridge” and “sgd”.
None values are default to “ridge”.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or None, default “ridge”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.plotting">
<code class="sig-name descname">plotting</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.plotting" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to generate plots.
If True, the returned dictionary will have plot via the “fig” key.
Can turn this off to speed up the process.
None values are default to False.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">bool</em> or None, default False</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.tolerance">
<code class="sig-name descname">tolerance</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>A tolerance on the criterion to allow a smaller order.
For example, if AIC’s minimum is 100 and <code class="docutils literal notranslate"><span class="pre">tolerance</span></code> is 0.1,
then the function will find the smallest order that has AIC less than or equal to 110.
None values are default to 0.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None, default 0.0</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.aggregation_period">
<code class="sig-name descname">aggregation_period</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.aggregation_period" title="Permalink to this definition">¶</a></dt>
<dd><p>The aggregation period before fitting the Fourier series.
Having aggregation to eliminate shorter seasonal periods may help get more accurate orders.
But also making sure the number of observations after aggregation is sufficient.
None corresponds to no aggregation.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or None, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.offset">
<code class="sig-name descname">offset</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>The offset order to be added to the inferred orders.
The order after adding offset can not be negative.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em> or None, default 0</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.criterion">
<code class="sig-name descname">criterion</code><a class="headerlink" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferConfig.criterion" title="Permalink to this definition">¶</a></dt>
<dd><p>The criterion to pick the most appropriate orders.
Supported criteria are “aic” and “bic”.
None values are default to “bic”.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or None, default “bic”</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.common.holiday_inferrer.</code><code class="sig-name descname">HolidayInferrer</code><a class="reference internal" href="../../_modules/greykite/algo/common/holiday_inferrer.html#HolidayInferrer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements methods to automatically infer holiday effects.</p>
<p>The class works for daily and sub-daily data.
Sub-daily data is aggregated into daily data.
It pulls holiday candidates from <em class="xref py py-obj">pypi:holidays-ext</em>,
and adds a pre-specified number of days before/after the holiday candidates
as the whole holiday candidates pool.
Every day in the candidate pool is compared with a pre-defined baseline imputed from surrounding days
(e.g. the average of -7 and +7 days)
and a score is generated to indicate deviation.
The score is averaged if a holiday has multiple occurrences through the timeseries period.
The holidays are ranked according to the magnitudes of the scores.
Holidays are classified into:</p>
<blockquote>
<div><ul class="simple">
<li><p>model independently</p></li>
<li><p>model together</p></li>
<li><p>do not model</p></li>
</ul>
</div></blockquote>
<p>according to their score magnitudes.
For example, if the sum of the absolute scores is 1000,
and the threshold for independent holidays is 0.8,
the method keeps adding holidays to the independent modeling list
from the largest magnitude until the sum reaches 1000 x 0.8 = 800.
Then it continues to count the together modeling list.</p>
<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.baseline_offsets">
<code class="sig-name descname">baseline_offsets</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.baseline_offsets" title="Permalink to this definition">¶</a></dt>
<dd><p>The offsets in days to calculate baselines.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.post_search_days">
<code class="sig-name descname">post_search_days</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.post_search_days" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of days after each holiday to be counted as candidates.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.pre_search_days">
<code class="sig-name descname">pre_search_days</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.pre_search_days" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of days before each holiday to be counted as candidates.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.independent_holiday_thres">
<code class="sig-name descname">independent_holiday_thres</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.independent_holiday_thres" title="Permalink to this definition">¶</a></dt>
<dd><p>A certain proportion of the total holiday effects that are allocated for holidays
that are modeled independently. For example, 0.8 means the holidays that contribute
to the first 80% of the holiday effects are modeled independently.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.together_holiday_thres">
<code class="sig-name descname">together_holiday_thres</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.together_holiday_thres" title="Permalink to this definition">¶</a></dt>
<dd><p>A certain proportion of the total holiday effects that are allocated for holidays
that are modeled together. For example, if <code class="docutils literal notranslate"><span class="pre">independent_holiday_thres</span></code> is 0.8 and
<code class="docutils literal notranslate"><span class="pre">together_holiday_thres</span></code> is 0.9, then after the first 80% of the holiday effects
are counted, the rest starts to be allocated for the holidays that are modeled together
until the cum sum exceeds 0.9.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.extra_years">
<code class="sig-name descname">extra_years</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.extra_years" title="Permalink to this definition">¶</a></dt>
<dd><p>Extra years after <code class="docutils literal notranslate"><span class="pre">self.year_end</span></code> to pull holidays in <code class="docutils literal notranslate"><span class="pre">self.country_holiday_df</span></code>.
This can be used to cover the forecast periods.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em>, default 2</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.df">
<code class="sig-name descname">df</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.df" title="Permalink to this definition">¶</a></dt>
<dd><p>The timeseries after daily aggregation.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.time_col">
<code class="sig-name descname">time_col</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.time_col" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name for timestamps in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.value_col">
<code class="sig-name descname">value_col</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.value_col" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name for values in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.year_start">
<code class="sig-name descname">year_start</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.year_start" title="Permalink to this definition">¶</a></dt>
<dd><p>The year of the first timeseries observation in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.year_end">
<code class="sig-name descname">year_end</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.year_end" title="Permalink to this definition">¶</a></dt>
<dd><p>The year of the last timeseries observation in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.ts">
<code class="sig-name descname">ts</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.ts" title="Permalink to this definition">¶</a></dt>
<dd><p>The existing timestamps in <code class="docutils literal notranslate"><span class="pre">df</span></code> for fast look up.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">set</em> [<a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#module-datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code></a>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.country_holiday_df">
<code class="sig-name descname">country_holiday_df</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.country_holiday_df" title="Permalink to this definition">¶</a></dt>
<dd><p>The holidays between <code class="docutils literal notranslate"><span class="pre">year_start</span></code> and <code class="docutils literal notranslate"><span class="pre">year_end</span></code>.
This is the output from <em class="xref py py-obj">pypi:holidays-ext</em>.
Duplicates are dropped.
Observed holidays are merged.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.holidays">
<code class="sig-name descname">holidays</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.holidays" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of holidays in <code class="docutils literal notranslate"><span class="pre">country_holiday_df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.score_result">
<code class="sig-name descname">score_result</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.score_result" title="Permalink to this definition">¶</a></dt>
<dd><p>The scores from comparing holidays and their baselines.
The keys are holidays.
The values are a list of the scores for each occurrence.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>]] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.score_result_avg">
<code class="sig-name descname">score_result_avg</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.score_result_avg" title="Permalink to this definition">¶</a></dt>
<dd><p>The scores from <code class="docutils literal notranslate"><span class="pre">score_result</span></code> where the values are averaged.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">float</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.result">
<code class="sig-name descname">result</code><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.result" title="Permalink to this definition">¶</a></dt>
<dd><p>The output of the model. Includes:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>“scores”: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>]]</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">score_result</span></code> from <code class="docutils literal notranslate"><span class="pre">self._get_scores_for_holidays</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“country_holiday_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">country_holiday_df</span></code> from <code class="docutils literal notranslate"><span class="pre">pypi:holidays_ext</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“independent_holidays”: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">tuple</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>]]</dt><dd><p>The holidays to be modeled independently. Each item is in (country, holiday) format.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“together_holidays_positive”: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">tuple</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>]]</dt><dd><p>The holidays with positive effects to be modeled together. Each item is in (country, holiday) format.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“together_holidays_negative”: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">tuple</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>]]</dt><dd><p>The holidays with negative effects to be modeled together. Each item is in (country, holiday) format.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“fig”: <a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#id0" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objs.Figure</span></code></a></dt><dd><p>The visualization if activated.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.infer_holidays">
<code class="sig-name descname">infer_holidays</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">value_col</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">countries</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'US'</span></em>, <em class="sig-param"><span class="n">pre_search_days</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">post_search_days</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">baseline_offsets</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">- 7, 7</span></em>, <em class="sig-param"><span class="n">plot</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">independent_holiday_thres</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a></span> <span class="o">=</span> <span class="default_value">0.8</span></em>, <em class="sig-param"><span class="n">together_holiday_thres</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a></span> <span class="o">=</span> <span class="default_value">0.99</span></em>, <em class="sig-param"><span class="n">extra_years</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">2</span></em><span class="sig-paren">)</span> &#x2192; Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>any<span class="p">]</span><span class="p">]</span><a class="reference internal" href="../../_modules/greykite/algo/common/holiday_inferrer.html#HolidayInferrer.infer_holidays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.infer_holidays" title="Permalink to this definition">¶</a></dt>
<dd><p>Infers significant holidays and holiday configurations.</p>
<p>The class works for daily and sub-daily data.
Sub-daily data is aggregated into daily data.
It pulls holiday candidates from <em class="xref py py-obj">pypi:holidays-ext</em>,
and adds a pre-specified number of days before/after the holiday candidates
as the whole holiday candidates pool.
Every day in the candidate pool is compared with a pre-defined baseline imputed from surrounding days
(e.g. the average of -7 and +7 days)
and a score is generated to indicate deviation.
The score is averaged if a holiday has multiple occurrences through the timeseries period.
The holidays are ranked according to the magnitudes of the scores.
Holidays are classified into:</p>
<blockquote>
<div><ul class="simple">
<li><p>model independently</p></li>
<li><p>model together</p></li>
<li><p>do not model</p></li>
</ul>
</div></blockquote>
<p>according to their score magnitudes.
For example, if the sum of the absolute scores is 1000,
and the threshold for independent holidays is 0.8,
the method keeps adding holidays to the independent modeling list
from the largest magnitude until the sum reaches 1000 x 0.8 = 800.
Then it continues to count the together modeling list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>) – The input timeseries.</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>, default <code class="xref py py-obj docutils literal notranslate"><span class="pre">TIME_COL</span></code>) – The column name for timestamps in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>, default <code class="xref py py-obj docutils literal notranslate"><span class="pre">VALUE_COL</span></code>) – The column name for values in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
<li><p><strong>countries</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], default (“UnitedStates”,)) – A list of countries to look up holiday candidates.
Available countries can be listed with
<code class="docutils literal notranslate"><span class="pre">holidays_ext.get_holidays.get_available_holiday_lookup_countries()</span></code>.
Two-character country names are preferred.</p></li>
<li><p><strong>pre_search_days</strong> (<em class="xref py py-obj">int</em>, default 2) – The number of days to include as holidays candidates before each holiday.</p></li>
<li><p><strong>post_search_days</strong> (<em class="xref py py-obj">int</em>, default 2) – The number of days to include as holidays candidates after each holiday.</p></li>
<li><p><strong>baseline_offsets</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>], default (-7, 7)) – The offsets in days as a baseline to compare with each holiday.</p></li>
<li><p><strong>plot</strong> (<em class="xref py py-obj">bool</em>, default False) – Whether to generate visualization.</p></li>
<li><p><strong>independent_holiday_thres</strong> (<em class="xref py py-obj">float</em>, default 0.8) – A certain proportion of the total holiday effects that are allocated for holidays
that are modeled independently. For example, 0.8 means the holidays that contribute
to the first 80% of the holiday effects are modeled independently.</p></li>
<li><p><strong>together_holiday_thres</strong> (<em class="xref py py-obj">float</em>, default 0.99) – A certain proportion of the total holiday effects that are allocated for holidays
that are modeled together. For example, if <code class="docutils literal notranslate"><span class="pre">independent_holiday_thres</span></code> is 0.8 and
<code class="docutils literal notranslate"><span class="pre">together_holiday_thres</span></code> is 0.9, then after the first 80% of the holiday effects
are counted, the rest starts to be allocated for the holidays that are modeled together
until the cum sum exceeds 0.9.</p></li>
<li><p><strong>extra_years</strong> (<em class="xref py py-obj">int</em>, default 2) – Extra years after <code class="docutils literal notranslate"><span class="pre">self.year_end</span></code> to pull holidays in <code class="docutils literal notranslate"><span class="pre">self.country_holiday_df</span></code>.
This can be used to cover the forecast periods.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> –</p>
<p>A dictionary with the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>”scores”: <em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>]]</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">score_result</span></code> from <code class="docutils literal notranslate"><span class="pre">self._get_scores_for_holidays</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”country_holiday_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">country_holiday_df</span></code> from <code class="docutils literal notranslate"><span class="pre">pypi:holidays_ext</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”independent_holidays”: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">tuple</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>]]</dt><dd><p>The holidays to be modeled independently. Each item is in (country, holiday) format.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”together_holidays_positive”: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">tuple</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>]]</dt><dd><p>The holidays with positive effects to be modeled together.
Each item is in (country, holiday) format.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”together_holidays_negative”: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">tuple</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>]]</dt><dd><p>The holidays with negative effects to be modeled together.
Each item is in (country, holiday) format.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”fig”: <a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objs.Figure.html#id0" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objs.Figure</span></code></a></dt><dd><p>The visualization if activated.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, any] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.common.holiday_inferrer.HolidayInferrer.generate_daily_event_dict">
<code class="sig-name descname">generate_daily_event_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">country_holiday_df</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">holiday_result</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span>Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>pandas.core.frame.DataFrame<span class="p">]</span><a class="reference internal" href="../../_modules/greykite/algo/common/holiday_inferrer.html#HolidayInferrer.generate_daily_event_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer.generate_daily_event_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates daily event dict for all holidays inferred.
The daily event dict will contain:</p>
<blockquote>
<div><ul class="simple">
<li><p>Single events for every holiday or holiday neighboring day
that is to be modeled independently.</p></li>
<li><p>A single event for all holiday or holiday neighboring days
with positive effects that are modeled together.</p></li>
<li><p>A single event for all holiday or holiday neighboring days
with negative effects that are modeled together.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country_holiday_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – The dataframe that contains the country/holiday/dates information
for holidays. Must cover the periods need in training/forecasting
for all holidays.
This has the same format as <code class="docutils literal notranslate"><span class="pre">self.country_holiday_df</span></code>.
If None, it pulls from <code class="docutils literal notranslate"><span class="pre">self.country_holiday_df</span></code>.</p></li>
<li><p><strong>holiday_result</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">list</em> [<em class="xref py py-obj">tuple</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>]]] or None, default None) – <p>A dictionary with the following keys:</p>
<blockquote>
<div><ul>
<li><p>INFERRED_INDEPENDENT_HOLIDAYS_KEY</p></li>
<li><p>INFERRED_GROUPED_POSITIVE_HOLIDAYS_KEY</p></li>
<li><p>INFERRED_GROUPED_NEGATIVE_HOLIDAYS_KEY</p></li>
</ul>
</div></blockquote>
<p>Each key’s value is a list of length-2 tuples of the format (country, holiday).
This format is the output of <code class="docutils literal notranslate"><span class="pre">self.infer_holidays</span></code>.
If None, it pulls from <code class="docutils literal notranslate"><span class="pre">self.result</span></code>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>daily_event_dict</strong> – The daily event dict that is consumable by
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast" title="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleSilverkiteForecast</span></code></a> or
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SilverkiteForecast</span></code></a>.
The keys are the event names.
The values are dataframes with the event dates.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="changepoint-detection">
<h2>Changepoint Detection<a class="headerlink" href="#changepoint-detection" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.changepoint.adalasso.changepoint_detector.</code><code class="sig-name descname">ChangepointDetector</code><a class="reference internal" href="../../_modules/greykite/algo/changepoint/adalasso/changepoint_detector.html#ChangepointDetector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to implement change point detection.</p>
<p>Currently supports long-term change point detection only. Input is a dataframe with time_col
indicating the column of time info (the format should be able to be parsed by pd.to_datetime),
and value_col indicating the column of observed time series values.</p>
<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.original_df">
<code class="sig-name descname">original_df</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.original_df" title="Permalink to this definition">¶</a></dt>
<dd><p>The original data df, used to retrieve original observations, if aggregation is used in
fitting change points.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.time_col">
<code class="sig-name descname">time_col</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.time_col" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name for time column.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.value_col">
<code class="sig-name descname">value_col</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.value_col" title="Permalink to this definition">¶</a></dt>
<dd><p>The column name for value column.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_potential_changepoint_n">
<code class="sig-name descname">trend_potential_changepoint_n</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_potential_changepoint_n" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of change points that are evenly distributed over the time period.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.yearly_seasonality_order">
<code class="sig-name descname">yearly_seasonality_order</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.yearly_seasonality_order" title="Permalink to this definition">¶</a></dt>
<dd><p>The yearly seasonality order used when fitting trend.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.y">
<code class="sig-name descname">y</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.y" title="Permalink to this definition">¶</a></dt>
<dd><p>The observations after aggregation.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_df">
<code class="sig-name descname">trend_df</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_df" title="Permalink to this definition">¶</a></dt>
<dd><p>The augmented df of the original_df, including regressors of trend change points and
Fourier series for yearly seasonality.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_model">
<code class="sig-name descname">trend_model</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_model" title="Permalink to this definition">¶</a></dt>
<dd><p>The fitted trend model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">sklearn.base.RegressionMixin</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_coef">
<code class="sig-name descname">trend_coef</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_coef" title="Permalink to this definition">¶</a></dt>
<dd><p>The estimated trend coefficients.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_intercept">
<code class="sig-name descname">trend_intercept</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_intercept" title="Permalink to this definition">¶</a></dt>
<dd><p>The estimated trend intercept.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.adaptive_lasso_coef">
<code class="sig-name descname">adaptive_lasso_coef</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.adaptive_lasso_coef" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of length two, first element is estimated trend coefficients, and second element
is intercept, both estimated by adaptive lasso.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_changepoints">
<code class="sig-name descname">trend_changepoints</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_changepoints" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of detected trend change points, parsable by pd.to_datetime</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_estimation">
<code class="sig-name descname">trend_estimation</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.trend_estimation" title="Permalink to this definition">¶</a></dt>
<dd><p>The estimated trend with detected trend change points.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.Series</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.seasonality_df">
<code class="sig-name descname">seasonality_df</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.seasonality_df" title="Permalink to this definition">¶</a></dt>
<dd><p>The augmented df of <code class="docutils literal notranslate"><span class="pre">original_df</span></code>, including regressors of seasonality change points with
different Fourier series frequencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.seasonality_changepoints">
<code class="sig-name descname">seasonality_changepoints</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.seasonality_changepoints" title="Permalink to this definition">¶</a></dt>
<dd><p>The dictionary of detected seasonality change points for each component.
Keys are component names, and values are list of change points.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.seasonality_estimation">
<code class="sig-name descname">seasonality_estimation</code><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.seasonality_estimation" title="Permalink to this definition">¶</a></dt>
<dd><p>The estimated seasonality with detected seasonality change points.
The series has the same length as <code class="docutils literal notranslate"><span class="pre">original_df</span></code>. Index is timestamp, and values
are the estimated seasonality at each timestamp.
The seasonality estimation is the estimated of seasonality effect with trend estimated
by <code class="xref py py-obj docutils literal notranslate"><span class="pre">estimate_trend_with_detected_changepoints</span></code>
removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">find_trend_changepoints : callable</code></dt>
<dd><p>Finds the potential trend change points for a given time series df.</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">plot : callable</code></dt>
<dd><p>Plot the results after implementing find_trend_changepoints.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints">
<code class="sig-name descname">find_trend_changepoints</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">time_col</span></em>, <em class="sig-param"><span class="n">value_col</span></em>, <em class="sig-param"><span class="n">yearly_seasonality_order</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">yearly_seasonality_change_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">resample_freq</span><span class="o">=</span><span class="default_value">'D'</span></em>, <em class="sig-param"><span class="n">trend_estimator</span><span class="o">=</span><span class="default_value">'ridge'</span></em>, <em class="sig-param"><span class="n">adaptive_lasso_initial_estimator</span><span class="o">=</span><span class="default_value">'ridge'</span></em>, <em class="sig-param"><span class="n">regularization_strength</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">actual_changepoint_min_distance</span><span class="o">=</span><span class="default_value">'30D'</span></em>, <em class="sig-param"><span class="n">potential_changepoint_distance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">potential_changepoint_n</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">potential_changepoint_n_max</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">no_changepoint_distance_from_begin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">no_changepoint_proportion_from_begin</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">no_changepoint_distance_from_end</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">no_changepoint_proportion_from_end</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">fast_trend_estimation</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/changepoint/adalasso/changepoint_detector.html#ChangepointDetector.find_trend_changepoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds trend change points automatically by adaptive lasso.</p>
<p>The algorithm does an aggregation with a user-defined frequency, defaults daily.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">potential_changepoint_distance</span></code> is not given,  <code class="docutils literal notranslate"><span class="pre">potential_changepoint_n</span></code>
potential change points are evenly distributed over the time period, else
<code class="docutils literal notranslate"><span class="pre">potential_changepoint_n</span></code> is overridden by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>total_time_length / ``potential_changepoint_distance``
</pre></div>
</div>
<p>Users can specify either <code class="docutils literal notranslate"><span class="pre">no_changepoint_proportion_from_end</span></code> to specify what proportion
from the end of data they do not want changepoints, or <code class="docutils literal notranslate"><span class="pre">no_changepoint_distance_from_end</span></code>
(overrides <code class="docutils literal notranslate"><span class="pre">no_changepoint_proportion_from_end</span></code>) to specify how long from the end they
do not want change points.</p>
<p>Then all potential change points will be selected by adaptive lasso, with the initial
estimator specified by <code class="docutils literal notranslate"><span class="pre">adaptive_lasso_initial_estimator</span></code>. If user specifies
<code class="docutils literal notranslate"><span class="pre">regularization_strength</span></code>, then the adaptive lasso will be run with a single tuning
parameter calculated based on user provided prior, else a cross-validation will be run to
automatically select the tuning parameter.</p>
<p>A yearly seasonality is also fitted at the same time, preventing trend from catching
yearly periodical changes.</p>
<p>A rule-based guard function is applied at the end to ensure change points are not
too close, as specified by <code class="docutils literal notranslate"><span class="pre">actual_changepoint_min_distance</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data df</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – Time column name in <code class="docutils literal notranslate"><span class="pre">df</span></code></p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – Value column name in <code class="docutils literal notranslate"><span class="pre">df</span></code></p></li>
<li><p><strong>yearly_seasonality_order</strong> (<em class="xref py py-obj">int</em>, default 8) – Fourier series order to capture yearly seasonality.</p></li>
<li><p><strong>yearly_seasonality_change_freq</strong> (<em class="xref py py-obj">DateOffset</em>, <em class="xref py py-obj">Timedelta</em> or <em class="xref py py-obj">str</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – <p>How often to change the yearly seasonality model. Set to <em class="xref py py-obj">None</em> to disable this feature.</p>
<p>This is useful if you have more than 2.5 years of data and the detected trend without this
feature is inaccurate because yearly seasonality changes over the training period.
Modeling yearly seasonality separately over the each period can prevent trend changepoints
from fitting changes in yearly seasonality. For example, if you have 2.5 years of data and
yearly seasonality increases in magnitude after the first year, setting this parameter to
“365D” will model each year’s yearly seasonality differently and capture both shapes.
However, without this feature, both years will have the same yearly seasonality, roughly
the average effect across the training set.</p>
<p>Note that if you use <em class="xref py py-obj">str</em> as input, the maximal supported unit is day, i.e.,
you might use “200D” but not “12M” or “1Y”.</p>
</p></li>
<li><p><strong>resample_freq</strong> (<em class="xref py py-obj">DateOffset</em>, <em class="xref py py-obj">Timedelta</em>, <em class="xref py py-obj">str</em> or None, default “D”.) – The frequency to aggregate data.
Coarser aggregation leads to fitting longer term trends.
If None, no aggregation will be done.</p></li>
<li><p><strong>trend_estimator</strong> (<em class="xref py py-obj">str</em> in [“ridge”, “lasso” or “ols”], default “ridge”.) – The estimator to estimate trend. The estimated trend is only for plotting purposes.
‘ols’ is not recommended when <code class="docutils literal notranslate"><span class="pre">yearly_seasonality_order</span></code> is specified other than 0,
because significant over-fitting will happen.
In this case, the given value is overridden by “ridge”.</p></li>
<li><p><strong>adaptive_lasso_initial_estimator</strong> (<em class="xref py py-obj">str</em> in [“ridge”, “lasso” or “ols”], default “ridge”.) – The initial estimator to compute adaptive lasso weights</p></li>
<li><p><strong>regularization_strength</strong> (<em class="xref py py-obj">float</em> in [0, 1] or <em class="xref py py-obj">None</em>) – The regularization for change points. Greater value implies fewer change points.
0 indicates all change points, and 1 indicates no change point.
If <em class="xref py py-obj">None</em>, the turning parameter will be selected by cross-validation.
If a value is given, it will be used as the tuning parameter.</p></li>
<li><p><strong>actual_changepoint_min_distance</strong> (<em class="xref py py-obj">DateOffset</em>, <em class="xref py py-obj">Timedelta</em> or <em class="xref py py-obj">str</em>, default “30D”) – The minimal distance allowed between detected change points. If consecutive change points
are within this minimal distance, the one with smaller absolute change coefficient will
be dropped.
Note: maximal unit is ‘D’, i.e., you may use units no more than ‘D’ such as
‘10D’, ‘5H’, ‘100T’, ‘200S’. The reason is that ‘W’, ‘M’ or higher has either
cycles or indefinite number of days, thus is not parsable by pandas as timedelta.</p></li>
<li><p><strong>potential_changepoint_distance</strong> (<em class="xref py py-obj">DateOffset</em>, <em class="xref py py-obj">Timedelta</em>, <em class="xref py py-obj">str</em> or None, default None) – The distance between potential change points.
If provided, will override the parameter <code class="docutils literal notranslate"><span class="pre">potential_changepoint_n</span></code>.
Note: maximal unit is ‘D’, i.e., you may only use units no more than ‘D’ such as
‘10D’, ‘5H’, ‘100T’, ‘200S’. The reason is that ‘W’, ‘M’ or higher has either
cycles or indefinite number of days, thus is not parsable by pandas as timedelta.</p></li>
<li><p><strong>potential_changepoint_n</strong> (<em class="xref py py-obj">int</em>, default 100) – Number of change points to be evenly distributed, recommended 1-2 per month, based
on the training data length.</p></li>
<li><p><strong>potential_changepoint_n_max</strong> (<em class="xref py py-obj">int</em> or None, default None) – The maximum number of potential changepoints.
This parameter is effective when user specifies <code class="docutils literal notranslate"><span class="pre">potential_changepoint_distance</span></code>,
and the number of potential changepoints in the training data is more than <code class="docutils literal notranslate"><span class="pre">potential_changepoint_n_max</span></code>,
then it is equivalent to specifying <code class="docutils literal notranslate"><span class="pre">potential_changepoint_n</span> <span class="pre">=</span> <span class="pre">potential_changepoint_n_max</span></code>,
and ignoring <code class="docutils literal notranslate"><span class="pre">potential_changepoint_distance</span></code>.</p></li>
<li><p><strong>no_changepoint_distance_from_begin</strong> (<em class="xref py py-obj">DateOffset</em>, <em class="xref py py-obj">Timedelta</em>, <em class="xref py py-obj">str</em> or None, default None) – The length of time from the beginning of training data, within which no change point will be placed.
If provided, will override the parameter <code class="docutils literal notranslate"><span class="pre">no_changepoint_proportion_from_begin</span></code>.
Note: maximal unit is ‘D’, i.e., you may only use units no more than ‘D’ such as
‘10D’, ‘5H’, ‘100T’, ‘200S’. The reason is that ‘W’, ‘M’ or higher has either
cycles or indefinite number of days, thus is not parsable by pandas as timedelta.</p></li>
<li><p><strong>no_changepoint_proportion_from_begin</strong> (<em class="xref py py-obj">float</em> in [0, 1], default 0.0.) – <code class="docutils literal notranslate"><span class="pre">potential_changepoint_n</span></code> change points will be placed evenly over the whole training period,
however, change points that are located within the first <code class="docutils literal notranslate"><span class="pre">no_changepoint_proportion_from_begin</span></code>
proportion of training period will not be used for change point detection.</p></li>
<li><p><strong>no_changepoint_distance_from_end</strong> (<em class="xref py py-obj">DateOffset</em>, <em class="xref py py-obj">Timedelta</em>, <em class="xref py py-obj">str</em> or None, default None) – The length of time from the end of training data, within which no change point will be placed.
If provided, will override the parameter <code class="docutils literal notranslate"><span class="pre">no_changepoint_proportion_from_end</span></code>.
Note: maximal unit is ‘D’, i.e., you may only use units no more than ‘D’ such as
‘10D’, ‘5H’, ‘100T’, ‘200S’. The reason is that ‘W’, ‘M’ or higher has either
cycles or indefinite number of days, thus is not parsable by pandas as timedelta.</p></li>
<li><p><strong>no_changepoint_proportion_from_end</strong> (<em class="xref py py-obj">float</em> in [0, 1], default 0.0.) – <code class="docutils literal notranslate"><span class="pre">potential_changepoint_n</span></code> change points will be placed evenly over the whole training period,
however, change points that are located within the last <code class="docutils literal notranslate"><span class="pre">no_changepoint_proportion_from_end</span></code>
proportion of training period will not be used for change point detection.</p></li>
<li><p><strong>fast_trend_estimation</strong> (<em class="xref py py-obj">bool</em>, default True) – If True, the trend estimation is not refitted on the original data,
but is a linear interpolation of the fitted trend from the resampled time series.
If False, the trend estimation is refitted on the original data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – result dictionary with keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;trend_feature_df&quot;</span></code><span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>The augmented df for change detection, in other words, the design matrix for
the regression model. Columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>’changepoint0’: regressor for change point 0, equals the continuous time
of the observation minus the continuous time for time of origin.</p></li>
<li><p>…</p></li>
<li><p>’changepoint{potential_changepoint_n}’: regressor for change point
{potential_changepoint_n}, equals the continuous time of the observation
minus the continuous time of the {potential_changepoint_n}th change point.</p></li>
<li><p>’cos1_conti_year_yearly’: cosine yearly seasonality regressor of first order.</p></li>
<li><p>’sin1_conti_year_yearly’: sine yearly seasonality regressor of first order.</p></li>
<li><p>…</p></li>
<li><p>’cos{yearly_seasonality_order}_conti_year_yearly’ : cosine yearly seasonality
regressor of {yearly_seasonality_order}th order.</p></li>
<li><p>’sin{yearly_seasonality_order}_conti_year_yearly’ : sine yearly seasonality
regressor of {yearly_seasonality_order}th order.</p></li>
</ul>
</div></blockquote>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;trend_changepoints&quot;</span></code><span class="classifier"><em class="xref py py-obj">list</em></span></dt><dd><p>The list of detected change points.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;changepoints_dict&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict</em></span></dt><dd><p>The change point dictionary that is compatible as an input with
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;trend_estimation&quot;</span></code><span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a></span></dt><dd><p>The estimated trend with detected trend change points.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_seasonality_changepoints">
<code class="sig-name descname">find_seasonality_changepoints</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">time_col</em>, <em class="sig-param">value_col</em>, <em class="sig-param">seasonality_components_df=         name  period  order seas_names 0         tod    24.0      3      daily 1         tow     7.0      3     weekly 2  conti_year     1.0      5     yearly</em>, <em class="sig-param">resample_freq='H'</em>, <em class="sig-param">regularization_strength=0.6</em>, <em class="sig-param">actual_changepoint_min_distance='30D'</em>, <em class="sig-param">potential_changepoint_distance=None</em>, <em class="sig-param">potential_changepoint_n=50</em>, <em class="sig-param">no_changepoint_distance_from_end=None</em>, <em class="sig-param">no_changepoint_proportion_from_end=0.0</em>, <em class="sig-param">trend_changepoints=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/changepoint/adalasso/changepoint_detector.html#ChangepointDetector.find_seasonality_changepoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_seasonality_changepoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the seasonality change points (defined as the time points where seasonality
magnitude changes, i.e., the time series becomes “fatter” or “thinner”.)</p>
<p>Subtracts the estimated trend from the original time series first,
then uses regression-based regularization methods to select important seasonality
change points. Regressors are built from truncated Fourier series.</p>
<p>If you have run <code class="docutils literal notranslate"><span class="pre">find_trend_changepoints</span></code> before running <code class="docutils literal notranslate"><span class="pre">find_seasonality_changepoints</span></code>
with the same df, the estimated trend will be automatically used for removing trend in
<code class="docutils literal notranslate"><span class="pre">find_seasonality_changepoints</span></code>.
Otherwise, <code class="docutils literal notranslate"><span class="pre">find_trend_changepoints</span></code> will be run automatically with the same parameters
as you passed to <code class="docutils literal notranslate"><span class="pre">find_seasonality_changepoints</span></code>. If you do not want to use the same
parameters, run <code class="docutils literal notranslate"><span class="pre">find_trend_changepoints</span></code> with your desired parameter before calling
<code class="docutils literal notranslate"><span class="pre">find_seasonality_changepoints</span></code>.</p>
<p>The algorithm does an aggregation with a user-defined frequency, default hourly.</p>
<p>The regression features consists of <code class="docutils literal notranslate"><span class="pre">potential_changepoint_n</span></code> + 1 blocks of
predictors. The first block consists of Fourier series according to
<code class="docutils literal notranslate"><span class="pre">seasonality_components_df</span></code>, and other blocks are a copy of the first block
truncated at the corresponding potential change point.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">potential_changepoint_distance</span></code> is not given,  <code class="docutils literal notranslate"><span class="pre">potential_changepoint_n</span></code>
potential change points are evenly distributed over the time period, else
<code class="docutils literal notranslate"><span class="pre">potential_changepoint_n</span></code> is overridden by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>total_time_length / ``potential_changepoint_distance``
</pre></div>
</div>
<p>Users can specify either <code class="docutils literal notranslate"><span class="pre">no_changepoint_proportion_from_end</span></code> to specify what proportion
from the end of data they do not want changepoints, or <code class="docutils literal notranslate"><span class="pre">no_changepoint_distance_from_end</span></code>
(overrides <code class="docutils literal notranslate"><span class="pre">no_changepoint_proportion_from_end</span></code>) to specify how long from the end they
do not want change points.</p>
<p>Then all potential change points will be selected by adaptive lasso, with the initial
estimator specified by <code class="docutils literal notranslate"><span class="pre">adaptive_lasso_initial_estimator</span></code>. The regularization strength
is specified by <code class="docutils literal notranslate"><span class="pre">regularization_strength</span></code>, which lies between 0 and 1.</p>
<p>A rule-based guard function is applied at the end to ensure change points are not
too close, as specified by <code class="docutils literal notranslate"><span class="pre">actual_changepoint_min_distance</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data df</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – Time column name in <code class="docutils literal notranslate"><span class="pre">df</span></code></p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – Value column name in <code class="docutils literal notranslate"><span class="pre">df</span></code></p></li>
<li><p><strong>seasonality_components_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The df to generate seasonality design matrix, which is compatible with
<code class="docutils literal notranslate"><span class="pre">seasonality_components_df</span></code> in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_seasonality_changepoints" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_seasonality_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_seasonality_changepoints</span></code></a></p></li>
<li><p><strong>resample_freq</strong> (<em class="xref py py-obj">DateOffset, Timedelta or str</em>, default “H”.) – The frequency to aggregate data.
Coarser aggregation leads to fitting longer term trends.</p></li>
<li><p><strong>regularization_strength</strong> (<em class="xref py py-obj">float</em> in [0, 1] or <em class="xref py py-obj">None</em>, default 0.6.) – The regularization for change points. Greater value implies fewer change points.
0 indicates all change points, and 1 indicates no change point.
If <em class="xref py py-obj">None</em>, the turning parameter will be selected by cross-validation.
If a value is given, it will be used as the tuning parameter.
Here “None” is not recommended, because seasonality change has different levels,
and automatic selection by cross-validation may produce more change points than
desired. Practically, 0.6 is a good choice for most cases. Tuning around
0.6 is recommended.</p></li>
<li><p><strong>actual_changepoint_min_distance</strong> (<em class="xref py py-obj">DateOffset</em>, <em class="xref py py-obj">Timedelta</em> or <em class="xref py py-obj">str</em>, default “30D”) – The minimal distance allowed between detected change points. If consecutive change points
are within this minimal distance, the one with smaller absolute change coefficient will
be dropped.
Note: maximal unit is ‘D’, i.e., you may use units no more than ‘D’ such as
‘10D’, ‘5H’, ‘100T’, ‘200S’. The reason is that ‘W’, ‘M’ or higher has either
cycles or indefinite number of days, thus is not parsable by pandas as timedelta.</p></li>
<li><p><strong>potential_changepoint_distance</strong> (<em class="xref py py-obj">DateOffset</em>, <em class="xref py py-obj">Timedelta</em>, <em class="xref py py-obj">str</em> or None, default None) – The distance between potential change points.
If provided, will override the parameter <code class="docutils literal notranslate"><span class="pre">potential_changepoint_n</span></code>.
Note: maximal unit is ‘D’, i.e., you may only use units no more than ‘D’ such as
‘10D’, ‘5H’, ‘100T’, ‘200S’. The reason is that ‘W’, ‘M’ or higher has either
cycles or indefinite number of days, thus is not parsable by pandas as timedelta.</p></li>
<li><p><strong>potential_changepoint_n</strong> (<em class="xref py py-obj">int</em>, default 50) – Number of change points to be evenly distributed, recommended 1 per month, based
on the training data length.</p></li>
<li><p><strong>no_changepoint_distance_from_end</strong> (<em class="xref py py-obj">DateOffset</em>, <em class="xref py py-obj">Timedelta</em>, <em class="xref py py-obj">str</em> or None, default None) – The length of time from the end of training data, within which no change point will be placed.
If provided, will override the parameter <code class="docutils literal notranslate"><span class="pre">no_changepoint_proportion_from_end</span></code>.
Note: maximal unit is ‘D’, i.e., you may only use units no more than ‘D’ such as
‘10D’, ‘5H’, ‘100T’, ‘200S’. The reason is that ‘W’, ‘M’ or higher has either
cycles or indefinite number of days, thus is not parsable by pandas as timedelta.</p></li>
<li><p><strong>no_changepoint_proportion_from_end</strong> (<em class="xref py py-obj">float</em> in [0, 1], default 0.0.) – <code class="docutils literal notranslate"><span class="pre">potential_changepoint_n</span></code> change points will be placed evenly over the whole training period,
however, only change points that are not located within the last <code class="docutils literal notranslate"><span class="pre">no_changepoint_proportion_from_end</span></code>
proportion of training period will be used for change point detection.</p></li>
<li><p><strong>trend_changepoints</strong> (<em class="xref py py-obj">list</em> or None) – A list of user specified trend change points, used to estimated the trend to be removed
from the time series before detecting seasonality change points. If provided, the algorithm
will not check existence of detected trend change points or run <code class="docutils literal notranslate"><span class="pre">find_trend_changepoints</span></code>,
but will use these change points directly for trend estimation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – result dictionary with keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;seasonality_feature_df&quot;</span></code><span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>The augmented df for seasonality changepoint detection, in other words, the design matrix for
the regression model. Columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>”cos1_tod_daily”: cosine daily seasonality regressor of first order at change point 0.</p></li>
<li><p>”sin1_tod_daily”: sine daily seasonality regressor of first order at change point 0.</p></li>
<li><p>…</p></li>
<li><p>”cos1_conti_year_yearly”: cosine yearly seasonality regressor of first order at
change point 0.</p></li>
<li><p>”sin1_conti_year_yearly”: sine yearly seasonality regressor of first order at
change point 0.</p></li>
<li><p>…</p></li>
<li><p>”cos{daily_seasonality_order}_tod_daily_cp{potential_changepoint_n}” : cosine
daily seasonality regressor of {yearly_seasonality_order}th order at change point
{potential_changepoint_n}.</p></li>
<li><p>”sin{daily_seasonality_order}_tod_daily_cp{potential_changepoint_n}” : sine
daily seasonality regressor of {yearly_seasonality_order}th order at change point
{potential_changepoint_n}.</p></li>
<li><p>…</p></li>
<li><p>”cos{yearly_seasonality_order}_conti_year_yearly_cp{potential_changepoint_n}” : cosine
yearly seasonality regressor of {yearly_seasonality_order}th order at change point
{potential_changepoint_n}.</p></li>
<li><p>”sin{yearly_seasonality_order}_conti_year_yearly_cp{potential_changepoint_n}” : sine
yearly seasonality regressor of {yearly_seasonality_order}th order at change point
{potential_changepoint_n}.</p></li>
</ul>
</div></blockquote>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;seasonality_changepoints&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict`[`list`[`datetime</em>]]</span></dt><dd><p>The dictionary of detected seasonality change points for each component.
Keys are component names, and values are list of change points.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;seasonality_estimation&quot;</span></code><span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a></span></dt><dd><dl class="simple">
<dt>The estimated seasonality with detected seasonality change points.</dt><dd><p>The series has the same length as <code class="docutils literal notranslate"><span class="pre">original_df</span></code>. Index is timestamp, and values
are the estimated seasonality at each timestamp.
The seasonality estimation is the estimated of seasonality effect with trend estimated
by <code class="xref py py-obj docutils literal notranslate"><span class="pre">estimate_trend_with_detected_changepoints</span></code>
removed.</p>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;seasonality_components_df</span></code><span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>The processed <code class="docutils literal notranslate"><span class="pre">seasonality_components_df</span></code>. Daily component row is removed if
inferred frequency or aggregation frequency is at least one day.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">observation</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">observation_original</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">trend_estimate</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">trend_change</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">yearly_seasonality_estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">adaptive_lasso_estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">seasonality_change</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">seasonality_change_by_component</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">seasonality_estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/changepoint/adalasso/changepoint_detector.html#ChangepointDetector.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a plot to show the observations/estimations/change points.</p>
<p>In this function, component parameters specify if each component in the plot is
included or not. These are <em class="xref py py-obj">bool</em> variables.
For those components that are set to True, their values will be replaced by the
corresponding data. Other components values will be set to None. Then these variables
will be fed into
<code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_change</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>observation</strong> (<em class="xref py py-obj">bool</em>) – Whether to include observation</p></li>
<li><p><strong>observation_original</strong> (<em class="xref py py-obj">bool</em>) – Set True to plot original observations, and False to plot aggregated observations.
No effect is <code class="docutils literal notranslate"><span class="pre">observation</span></code> is False</p></li>
<li><p><strong>trend_estimate</strong> (<em class="xref py py-obj">bool</em>) – Set True to add trend estimation.</p></li>
<li><p><strong>trend_change</strong> (<em class="xref py py-obj">bool</em>) – Set True to add change points.</p></li>
<li><p><strong>yearly_seasonality_estimate</strong> (<em class="xref py py-obj">bool</em>) – Set True to add estimated yearly seasonality.</p></li>
<li><p><strong>adaptive_lasso_estimate</strong> (<em class="xref py py-obj">bool</em>) – Set True to add adaptive lasso estimated trend.</p></li>
<li><p><strong>seasonality_change</strong> (<em class="xref py py-obj">bool</em>) – Set True to add seasonality change points.</p></li>
<li><p><strong>seasonality_change_by_component</strong> (<em class="xref py py-obj">bool</em>) – If true, seasonality changes will be plotted separately for different components,
else all will be in the same symbol.
No effect if <code class="docutils literal notranslate"><span class="pre">seasonality_change</span></code> is False</p></li>
<li><p><strong>seasonality_estimate</strong> (<em class="xref py py-obj">bool</em>) – Set True to add estimated seasonality.
The seasonality if plotted around trend, so the actual seasonality shown is
trend estimation + seasonality estimation.</p></li>
<li><p><strong>plot</strong> (<em class="xref py py-obj">bool</em>, default True) – Set to True to display the plot, and set to False to return the plotly figure object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>None (if <code class="docutils literal notranslate"><span class="pre">plot</span></code> == True) – The function shows a plot.</p></li>
<li><p><strong>fig</strong> (<a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a>) – The plot object.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="benchmarking">
<h2>Benchmarking<a class="headerlink" href="#benchmarking" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.benchmark.benchmark_class.</code><code class="sig-name descname">BenchmarkForecastConfig</code><span class="sig-paren">(</span><em class="sig-param">df: pandas.core.frame.DataFrame, configs: Dict[str, greykite.framework.templates.autogen.forecast_config.ForecastConfig], tscv: greykite.sklearn.cross_validation.RollingTimeSeriesSplit, forecaster: greykite.framework.templates.forecaster.Forecaster = &lt;greykite.framework.templates.forecaster.Forecaster object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for benchmarking multiple ForecastConfig on a rolling window basis.</p>
<dl class="py attribute">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.df">
<code class="sig-name descname">df</code><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.df" title="Permalink to this definition">¶</a></dt>
<dd><p>Timeseries data to forecast.
Contains columns [<em class="xref py py-obj">time_col</em>, <em class="xref py py-obj">value_col</em>], and optional regressor columns.
Regressor columns should include future values for prediction.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.configs">
<code class="sig-name descname">configs</code><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of model configurations.
A model configuration is a <code class="docutils literal notranslate"><span class="pre">ForecastConfig</span></code>.
See <a class="reference internal" href="#greykite.framework.templates.autogen.forecast_config.ForecastConfig" title="greykite.framework.templates.autogen.forecast_config.ForecastConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastConfig</span></code></a> for details on
valid <code class="docutils literal notranslate"><span class="pre">ForecastConfig</span></code>.
Validity of the <code class="docutils literal notranslate"><span class="pre">configs</span></code> for benchmarking is checked via the <code class="docutils literal notranslate"><span class="pre">validate</span></code> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dict</span></code> [<em class="xref py py-obj">str</em>,  <code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastConfig</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.tscv">
<code class="sig-name descname">tscv</code><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.tscv" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross-validation object that determines the rolling window evaluation.
See <a class="reference internal" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit" title="greykite.sklearn.cross_validation.RollingTimeSeriesSplit"><code class="xref py py-class docutils literal notranslate"><span class="pre">RollingTimeSeriesSplit</span></code></a> for details.
The <code class="docutils literal notranslate"><span class="pre">forecast_horizon</span></code> and <code class="docutils literal notranslate"><span class="pre">periods_between_train_test</span></code> parameters of <code class="docutils literal notranslate"><span class="pre">configs</span></code> are
matched against that of <code class="docutils literal notranslate"><span class="pre">tscv</span></code>. A ValueError is raised if there is a mismatch.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit" title="greykite.sklearn.cross_validation.RollingTimeSeriesSplit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RollingTimeSeriesSplit</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.forecaster">
<code class="sig-name descname">forecaster</code><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.forecaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Forecaster used to create the forecasts.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster" title="greykite.framework.templates.forecaster.Forecaster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Forecaster</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.is_run">
<code class="sig-name descname">is_run</code><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.is_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicator of whether the <a class="reference internal" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.run" title="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.run"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run</span></code></a> method is executed.
After executing <a class="reference internal" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.run" title="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.run"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run</span></code></a>, this indicator is set to True.
Some class methods like <code class="docutils literal notranslate"><span class="pre">get_forecast</span></code> requires <code class="docutils literal notranslate"><span class="pre">is_run</span></code> to be True
to be executed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a>, default False</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.result">
<code class="sig-name descname">result</code><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.result" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores the benchmarking results. Has the same keys as <code class="docutils literal notranslate"><span class="pre">configs</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.forecasts">
<code class="sig-name descname">forecasts</code><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.forecasts" title="Permalink to this definition">¶</a></dt>
<dd><p>Merged DataFrame of forecasts, upper and lower confidence interval for all
input <code class="docutils literal notranslate"><span class="pre">configs</span></code>. Also stores train end date and forecast step for each prediction.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the inputs to the class for the method <code class="docutils literal notranslate"><span class="pre">run</span></code>.</p>
<p>Raises a ValueError if there is a mismatch between the following parameters
of <code class="docutils literal notranslate"><span class="pre">configs</span></code> and <code class="docutils literal notranslate"><span class="pre">tscv</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">forecast_horizon</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">periods_between_train_test</span></code></p></li>
</ul>
</div></blockquote>
<p>Raises ValueError if all the <code class="docutils literal notranslate"><span class="pre">configs</span></code> do not have the same <code class="docutils literal notranslate"><span class="pre">coverage</span></code> parameter.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs every config and stores the output of the
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>.
This function runs only if the <code class="docutils literal notranslate"><span class="pre">configs</span></code> and <code class="docutils literal notranslate"><span class="pre">tscv</span></code> are jointly valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>self</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Returns self. Stores pipeline output of every config in <code class="docutils literal notranslate"><span class="pre">self.result</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.extract_forecasts">
<code class="sig-name descname">extract_forecasts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.extract_forecasts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.extract_forecasts" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts forecasts, upper and lower confidence interval for each individual
config. This is saved as a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> with the name
<code class="docutils literal notranslate"><span class="pre">rolling_forecast_df</span></code> within the corresponding config of <code class="docutils literal notranslate"><span class="pre">self.result</span></code>.
e.g. if config key is “silverkite”, then the forecasts are stored in
<code class="docutils literal notranslate"><span class="pre">self.result[&quot;silverkite&quot;][&quot;rolling_forecast_df&quot;]</span></code>.</p>
<p>This method also constructs a merged DataFrame of forecasts,
upper and lower confidence interval for all input <code class="docutils literal notranslate"><span class="pre">configs</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.plot_forecasts_by_step">
<code class="sig-name descname">plot_forecasts_by_step</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">forecast_step</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em>, <em class="sig-param"><span class="n">config_names</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">title</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">showlegend</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.plot_forecasts_by_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.plot_forecasts_by_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="docutils literal notranslate"><span class="pre">forecast_step</span></code> ahead rolling forecast plot.
The plot consists one line for each valid. <code class="docutils literal notranslate"><span class="pre">config_names</span></code>.
If available, the corresponding actual values are also plotted.</p>
<p>For a more customizable plot, see
<a class="reference internal" href="#greykite.common.viz.timeseries_plotting.plot_multivariate" title="greykite.common.viz.timeseries_plotting.plot_multivariate"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_multivariate</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>forecast_step</strong> (<em class="xref py py-obj">int</em>) – Which forecast step to plot. A forecast step is an integer between 1 and the
forecast horizon, inclusive, indicating the number of periods from train end date
to the prediction date (# steps ahead).</p></li>
<li><p><strong>config_names</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], default None) – Which config results to plot. A list of config names.
If None, uses all the available config keys.</p></li>
<li><p><strong>xlabel</strong> (<em class="xref py py-obj">str</em> or None, default TIME_COL) – x-axis label.</p></li>
<li><p><strong>ylabel</strong> (<em class="xref py py-obj">str</em> or None, default VALUE_COL) – y-axis label.</p></li>
<li><p><strong>title</strong> (<em class="xref py py-obj">str</em> or None, default None) – Plot title. If None, default is based on <code class="docutils literal notranslate"><span class="pre">forecast_step</span></code>.</p></li>
<li><p><strong>showlegend</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether to show the legend.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>fig</strong> – Interactive plotly graph.
Plots multiple column(s) in <code class="docutils literal notranslate"><span class="pre">self.forecasts</span></code> against <code class="docutils literal notranslate"><span class="pre">TIME_COL</span></code>.</p>
<p>See <a class="reference internal" href="#greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual" title="greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_forecast_vs_actual</span></code></a>
return value for how to plot the figure and add customization.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.plot_forecasts_by_config">
<code class="sig-name descname">plot_forecasts_by_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config_name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span></em>, <em class="sig-param"><span class="n">colors</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="default_value">['rgb(31, 119, 180)', 'rgb(255, 127, 14)', 'rgb(44, 160, 44)', 'rgb(214, 39, 40)', 'rgb(148, 103, 189)', 'rgb(140, 86, 75)', 'rgb(227, 119, 194)', 'rgb(127, 127, 127)', 'rgb(188, 189, 34)', 'rgb(23, 190, 207)']</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">title</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">showlegend</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.plot_forecasts_by_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.plot_forecasts_by_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a rolling plot of the forecasts by <code class="docutils literal notranslate"><span class="pre">config_name</span></code> against <code class="docutils literal notranslate"><span class="pre">TIME_COL</span></code>.
The plot consists of one line for each available split. Some lines may overlap if test
period in corresponding splits intersect. Hence every line is given a different color.
If available, the corresponding actual values are also plotted.</p>
<p>For a more customizable plot, see
<code class="xref py py-func docutils literal notranslate"><span class="pre">plot_multivariate_grouped</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config_name</strong> (<em class="xref py py-obj">str</em>) – Which config result to plot.
The name must match the name of one of the input <code class="docutils literal notranslate"><span class="pre">configs</span></code>.</p></li>
<li><p><strong>colors</strong> ([<em class="xref py py-obj">str</em>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">List</span></code> [<em class="xref py py-obj">str</em>]], default <code class="docutils literal notranslate"><span class="pre">DEFAULT_PLOTLY_COLORS</span></code>) – Which colors to use to build the color palette.
This can be a list of RGB colors or a <em class="xref py py-obj">str</em> from <code class="docutils literal notranslate"><span class="pre">PLOTLY_SCALES</span></code>.
To use a single color for all lines, pass a <code class="xref py py-obj docutils literal notranslate"><span class="pre">List</span></code> with a single color.</p></li>
<li><p><strong>xlabel</strong> (<em class="xref py py-obj">str</em> or None, default TIME_COL) – x-axis label.</p></li>
<li><p><strong>ylabel</strong> (<em class="xref py py-obj">str</em> or None, default VALUE_COL) – y-axis label.</p></li>
<li><p><strong>title</strong> (<em class="xref py py-obj">str</em> or None, default None) – Plot title. If None, default is based on <code class="docutils literal notranslate"><span class="pre">config_name</span></code>.</p></li>
<li><p><strong>showlegend</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether to show the legend.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Interactive plotly graph.
Plots multiple column(s) in <code class="docutils literal notranslate"><span class="pre">self.forecasts</span></code> against <code class="docutils literal notranslate"><span class="pre">TIME_COL</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.get_evaluation_metrics">
<code class="sig-name descname">get_evaluation_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metric_dict</span><span class="p">:</span> <span class="n">Dict</span></em>, <em class="sig-param"><span class="n">config_names</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.get_evaluation_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.get_evaluation_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns rolling train and test evaluation metric values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metric_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">callable</em>]) – <p>Evaluation metrics to compute.</p>
<blockquote>
<div><ul>
<li><p>key: evaluation metric name, used to create column name in output.</p></li>
<li><dl class="simple">
<dt>value: metric function to apply to forecast df in each split to generate the column value.</dt><dd><p>Signature (y_true: <em class="xref py py-obj">str</em>, y_pred: <em class="xref py py-obj">str</em>) -&gt; transformed value: <em class="xref py py-obj">float</em>.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">metric_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;median_residual&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">y_true</span> <span class="o">-</span> <span class="n">y_pred</span><span class="p">),</span>
    <span class="s2">&quot;mean_squared_error&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">((</span><span class="n">y_true</span> <span class="o">-</span> <span class="n">y_pred</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Some predefined functions are available in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">evaluation</span></code>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">metric_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;correlation&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">:</span> <span class="n">correlation</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">),</span>
    <span class="s2">&quot;RMSE&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">:</span> <span class="n">root_mean_squared_error</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">),</span>
    <span class="s2">&quot;Q_95&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">:</span> <span class="n">partial</span><span class="p">(</span><span class="n">quantile_loss</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="mf">0.95</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As shorthand, it is sufficient to provide the corresponding <code class="docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code>
member.  These are auto-expanded into the appropriate function.
So the following is equivalent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">metric_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;correlation&quot;</span><span class="p">:</span> <span class="n">EvaluationMetricEnum</span><span class="o">.</span><span class="n">Correlation</span><span class="p">,</span>
    <span class="s2">&quot;RMSE&quot;</span><span class="p">:</span> <span class="n">EvaluationMetricEnum</span><span class="o">.</span><span class="n">RootMeanSquaredError</span><span class="p">,</span>
    <span class="s2">&quot;Q_95&quot;</span><span class="p">:</span> <span class="n">EvaluationMetricEnum</span><span class="o">.</span><span class="n">Quantile95</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>config_names</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], default None) – Which config results to plot. A list of config names.
If None, uses all the available config keys.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>evaluation_metrics_df</strong> – A DataFrame containing splitwise train and test evaluation metrics for <code class="docutils literal notranslate"><span class="pre">metric_dict</span></code>
and <code class="docutils literal notranslate"><span class="pre">config_names</span></code>.</p>
<p>For example. Let’s assume:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>metric_dict = {
    &quot;RMSE&quot;: EvaluationMetricEnum.RootMeanSquaredError,
    &quot;Q_95&quot;: EvaluationMetricEnum.Quantile95
}

config_names = [&quot;default_prophet&quot;, &quot;custom_silverkite&quot;]
These are valid ``config_names`` and there are 2 splits for each.

Then evaluation_metrics_df =

config_name     split_num   train_RMSE  test_RMSE   train_Q_95  test_Q_95
default_prophet      0          *           *           *           *
default_prophet      1          *           *           *           *
custom_silverkite    0          *           *           *           *
custom_silverkite    1          *           *           *           *

where * represents computed values.
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.plot_evaluation_metrics">
<code class="sig-name descname">plot_evaluation_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metric_dict</span><span class="p">:</span> <span class="n">Dict</span></em>, <em class="sig-param"><span class="n">config_names</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'Metric value'</span></em>, <em class="sig-param"><span class="n">title</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">showlegend</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.plot_evaluation_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.plot_evaluation_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a barplot of the train and test values of <code class="docutils literal notranslate"><span class="pre">metric_dict</span></code> of <code class="docutils literal notranslate"><span class="pre">config_names</span></code>.
Value of a metric for all <code class="docutils literal notranslate"><span class="pre">config_names</span></code> are plotted as a grouped bar.
Train and test values of a metric are plot side-by-side for easy comparison.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metric_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">callable</em>]) – Evaluation metrics to compute. Same as
<em class="xref py py-obj">get_evaluation_metrics</em>.
To get the best visualization, keep number of metrics &lt;= 2.</p></li>
<li><p><strong>config_names</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], default None) – Which config results to plot. A list of config names.
If None, uses all the available config keys.</p></li>
<li><p><strong>xlabel</strong> (<em class="xref py py-obj">str</em> or None, default None) – x-axis label.</p></li>
<li><p><strong>ylabel</strong> (<em class="xref py py-obj">str</em> or None, default “Metric value”) – y-axis label.</p></li>
<li><p><strong>title</strong> (<em class="xref py py-obj">str</em> or None, default None) – Plot title.</p></li>
<li><p><strong>showlegend</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether to show the legend.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Interactive plotly bar plot.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.get_grouping_evaluation_metrics">
<code class="sig-name descname">get_grouping_evaluation_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metric_dict</span><span class="p">:</span> <span class="n">Dict</span></em>, <em class="sig-param"><span class="n">config_names</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">which</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'train'</span></em>, <em class="sig-param"><span class="n">groupby_time_feature</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groupby_sliding_window_size</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groupby_custom_column</span><span class="p">:</span> <span class="n">pandas.core.series.Series</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.get_grouping_evaluation_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.get_grouping_evaluation_metrics" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns splitwise rolling evaluation metric values.</dt><dd><p>These values are grouped by the grouping method chosen by <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>,
<code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code> and <code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code>.</p>
</dd>
</dl>
<p>See <a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.get_grouping_evaluation" title="greykite.framework.output.univariate_forecast.UnivariateForecast.get_grouping_evaluation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_grouping_evaluation</span></code></a>
for details on grouping method.</p>
<blockquote>
<div><p>Parameters</p>
</div></blockquote>
<dl>
<dt>metric_dict<span class="classifier"><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">callable</em>]</span></dt><dd><p>Evaluation metrics to compute. Same as
<em class="xref py py-obj">get_evaluation_metrics</em>.</p>
</dd>
<dt>config_names<span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], default None</span></dt><dd><p>Which config results to plot. A list of config names.
If None, uses all the available config keys.</p>
</dd>
<dt>which: <em class="xref py py-obj">str</em></dt><dd><p>“train” or “test”. Which dataset to evaluate.</p>
</dd>
<dt>groupby_time_feature<span class="classifier"><em class="xref py py-obj">str</em> or None, default None</span></dt><dd><p>If provided, groups by a column generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See that function for valid values.</p>
</dd>
<dt>groupby_sliding_window_size<span class="classifier"><em class="xref py py-obj">int</em> or None, default None</span></dt><dd><p>If provided, sequentially partitions data into groups of size
<code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>.</p>
</dd>
<dt>groupby_custom_column<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or None, default None</span></dt><dd><p>If provided, groups by this column value. Should be same length as the DataFrame.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>grouped_evaluation_df</strong> – A DataFrame containing splitwise train and test evaluation metrics for <code class="docutils literal notranslate"><span class="pre">metric_dict</span></code>
and <code class="docutils literal notranslate"><span class="pre">config_names</span></code>. The evaluation metrics are grouped by the grouping method.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.plot_grouping_evaluation_metrics">
<code class="sig-name descname">plot_grouping_evaluation_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metric_dict</span><span class="p">:</span> <span class="n">Dict</span></em>, <em class="sig-param"><span class="n">config_names</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">which</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'train'</span></em>, <em class="sig-param"><span class="n">groupby_time_feature</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groupby_sliding_window_size</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groupby_custom_column</span><span class="p">:</span> <span class="n">pandas.core.series.Series</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="o">=</span><span class="default_value">'Metric value'</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">showlegend</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.plot_grouping_evaluation_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.plot_grouping_evaluation_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a line plot of the grouped evaluation values of <code class="docutils literal notranslate"><span class="pre">metric_dict</span></code> of <code class="docutils literal notranslate"><span class="pre">config_names</span></code>.
These values are grouped by the grouping method chosen by <code class="docutils literal notranslate"><span class="pre">groupby_time_feature</span></code>,</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code> and <code class="docutils literal notranslate"><span class="pre">groupby_custom_column</span></code>.</p>
</div></blockquote>
<p>See <a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast.get_grouping_evaluation" title="greykite.framework.output.univariate_forecast.UnivariateForecast.get_grouping_evaluation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_grouping_evaluation</span></code></a>
for details on grouping method.</p>
<blockquote>
<div><p>Parameters</p>
</div></blockquote>
<dl>
<dt>metric_dict<span class="classifier"><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">callable</em>]</span></dt><dd><p>Evaluation metrics to compute. Same as
<em class="xref py py-obj">get_evaluation_metrics</em>.
To get the best visualization, keep number of metrics &lt;= 2.</p>
</dd>
<dt>config_names<span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], default None</span></dt><dd><p>Which config results to plot. A list of config names.
If None, uses all the available config keys.</p>
</dd>
<dt>which: <em class="xref py py-obj">str</em></dt><dd><p>“train” or “test”. Which dataset to evaluate.</p>
</dd>
<dt>groupby_time_feature<span class="classifier"><em class="xref py py-obj">str</em> or None, optional</span></dt><dd><p>If provided, groups by a column generated by
<a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>.
See that function for valid values.</p>
</dd>
<dt>groupby_sliding_window_size<span class="classifier"><em class="xref py py-obj">int</em> or None, optional</span></dt><dd><p>If provided, sequentially partitions data into groups of size
<code class="docutils literal notranslate"><span class="pre">groupby_sliding_window_size</span></code>.</p>
</dd>
<dt>groupby_custom_column<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> or None, optional</span></dt><dd><p>If provided, groups by this column value. Should be same length as the DataFrame.</p>
</dd>
<dt>xlabel<span class="classifier"><em class="xref py py-obj">str</em> or None, default None</span></dt><dd><p>x-axis label. If None, label is determined by the groupby column name.</p>
</dd>
<dt>ylabel<span class="classifier"><em class="xref py py-obj">str</em> or None, default “Metric value”</span></dt><dd><p>y-axis label.</p>
</dd>
<dt>title<span class="classifier"><em class="xref py py-obj">str</em> or None, default None</span></dt><dd><p>Plot title. If None, default is based on <code class="docutils literal notranslate"><span class="pre">config_name</span></code>.</p>
</dd>
<dt>showlegend<span class="classifier"><em class="xref py py-obj">bool</em>, default True</span></dt><dd><p>Whether to show the legend.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>fig</strong> – Interactive plotly graph.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.get_runtimes">
<code class="sig-name descname">get_runtimes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config_names</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.get_runtimes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.get_runtimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns rolling average runtime in seconds for <code class="docutils literal notranslate"><span class="pre">config_names</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config_names</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], default None) – Which config results to plot. A list of config names.
If None, uses all the available config keys.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>runtimes_df</strong> – A DataFrame containing splitwise runtime in seconds for <code class="docutils literal notranslate"><span class="pre">config_names</span></code>.</p>
<p>For example. Let’s assume:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>config_names = [&quot;default_prophet&quot;, &quot;custom_silverkite&quot;]
These are valid ``config_names`` and there are 2 splits for each.

Then runtimes_df =

config_name     split_num   runtime_sec
default_prophet      0          *
default_prophet      1          *
custom_silverkite    0          *
custom_silverkite    1          *

where * represents computed values.
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.plot_runtimes">
<code class="sig-name descname">plot_runtimes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config_names</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'Mean runtime in seconds'</span></em>, <em class="sig-param"><span class="n">title</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'Average runtime across rolling windows'</span></em>, <em class="sig-param"><span class="n">showlegend</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.plot_runtimes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.plot_runtimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a barplot of the runtimes of <code class="docutils literal notranslate"><span class="pre">config_names</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config_names</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], default None) – Which config results to plot. A list of config names.
If None, uses all the available config keys.</p></li>
<li><p><strong>xlabel</strong> (<em class="xref py py-obj">str</em> or None, default None) – x-axis label.</p></li>
<li><p><strong>ylabel</strong> (<em class="xref py py-obj">str</em> or None, default “Mean runtime in seconds”) – y-axis label.</p></li>
<li><p><strong>title</strong> (<em class="xref py py-obj">str</em> or None, default “Average runtime across rolling windows”) – Plot title.</p></li>
<li><p><strong>showlegend</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether to show the legend.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Interactive plotly bar plot.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.get_valid_config_names">
<code class="sig-name descname">get_valid_config_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config_names</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.get_valid_config_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.get_valid_config_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate <code class="docutils literal notranslate"><span class="pre">config_names</span></code> against keys of <code class="docutils literal notranslate"><span class="pre">configs</span></code>.
Raises a ValueError in case of a mismatch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config_names</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], default None) – Which config results to plot. A list of config names.
If None, uses all the available config keys.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>config_names</strong> – List of valid config names.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.autocomplete_metric_dict">
<em class="property">static </em><code class="sig-name descname">autocomplete_metric_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metric_dict</span></em>, <em class="sig-param"><span class="n">enum_class</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/benchmark_class.html#BenchmarkForecastConfig.autocomplete_metric_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.benchmark_class.BenchmarkForecastConfig.autocomplete_metric_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Sweeps through <code class="docutils literal notranslate"><span class="pre">metric_dict</span></code>, converting members of <code class="docutils literal notranslate"><span class="pre">enum_class</span></code> to
their corresponding evaluation function.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">metric_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;correlation&quot;</span><span class="p">:</span> <span class="n">EvaluationMetricEnum</span><span class="o">.</span><span class="n">Correlation</span><span class="p">,</span>
    <span class="s2">&quot;RMSE&quot;</span><span class="p">:</span> <span class="n">EvaluationMetricEnum</span><span class="o">.</span><span class="n">RootMeanSquaredError</span><span class="p">,</span>
    <span class="s2">&quot;Q_95&quot;</span><span class="p">:</span> <span class="n">EvaluationMetricEnum</span><span class="o">.</span><span class="n">Quantile95</span>
    <span class="s2">&quot;custom_metric&quot;</span><span class="p">:</span> <span class="n">custom_function</span>
<span class="p">}</span>

<span class="ow">is</span> <span class="n">converted</span> <span class="n">to</span>

<span class="n">metric_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;correlation&quot;</span><span class="p">:</span> <span class="n">correlation</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">),</span>
    <span class="s2">&quot;RMSE&quot;</span><span class="p">:</span> <span class="n">root_mean_squared_error</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">),</span>
    <span class="s2">&quot;Q_95&quot;</span><span class="p">:</span> <span class="n">quantile_loss_q</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="mf">0.95</span><span class="p">),</span>
    <span class="s2">&quot;custom_function&quot;</span><span class="p">:</span> <span class="n">custom_function</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metric_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">callable</em>]) – Evaluation metrics to compute. Same as
<em class="xref py py-obj">get_evaluation_metrics</em>.</p></li>
<li><p><strong>enum_class</strong> (<em>Enum</em>) – The enum class <code class="docutils literal notranslate"><span class="pre">metric_dict</span></code> elements might be member of.
It must have a method <code class="docutils literal notranslate"><span class="pre">get_metric_func</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>updated_metric_dict</strong> – Autocompleted metric dict.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cross-validation">
<h2>Cross Validation<a class="headerlink" href="#cross-validation" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.sklearn.cross_validation.RollingTimeSeriesSplit">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.cross_validation.</code><code class="sig-name descname">RollingTimeSeriesSplit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">forecast_horizon</span></em>, <em class="sig-param"><span class="n">min_train_periods</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">expanding_window</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">use_most_recent_splits</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">periods_between_splits</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">periods_between_train_test</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">max_splits</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/cross_validation.html#RollingTimeSeriesSplit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit" title="Permalink to this definition">¶</a></dt>
<dd><p>Flexible splitter for time-series cross validation and rolling window evaluation.
Suitable for use in GridSearchCV.</p>
<dl class="py attribute">
<dt id="greykite.sklearn.cross_validation.RollingTimeSeriesSplit.min_splits">
<code class="sig-name descname">min_splits</code><a class="headerlink" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit.min_splits" title="Permalink to this definition">¶</a></dt>
<dd><p>Guaranteed min number of splits. This is always set to 1. If provided configuration results in 0 splits,
the cross validator will yield a default split.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.cross_validation.RollingTimeSeriesSplit.__starting_test_index">
<code class="sig-name descname">__starting_test_index</code><a class="headerlink" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit.__starting_test_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Test end index of the first CV split. Actual offset = __starting_test_index + _get_offset(X), for a particular
dataset X.
Cross validator ensures the last test split contains the last observation in X.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">greykite.sklearn.cross_validation</span> <span class="kn">import</span> <span class="n">RollingTimeSeriesSplit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tscv</span> <span class="o">=</span> <span class="n">RollingTimeSeriesSplit</span><span class="p">(</span><span class="n">forecast_horizon</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_splits</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tscv</span><span class="o">.</span><span class="n">get_n_splits</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="ow">in</span> <span class="n">tscv</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">test</span><span class="p">)</span>
<span class="go">[2 3 4 5 6 7] [ 8  9 10]</span>
<span class="go">[ 5  6  7  8  9 10] [11 12 13]</span>
<span class="go">[ 8  9 10 11 12 13] [14 15 16]</span>
<span class="go">[11 12 13 14 15 16] [17 18 19]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tscv</span> <span class="o">=</span> <span class="n">RollingTimeSeriesSplit</span><span class="p">(</span><span class="n">forecast_horizon</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                              <span class="n">min_train_periods</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="gp">... </span>                              <span class="n">expanding_window</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                              <span class="n">periods_between_splits</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="gp">... </span>                              <span class="n">periods_between_train_test</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                              <span class="n">max_splits</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tscv</span><span class="o">.</span><span class="n">get_n_splits</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="ow">in</span> <span class="n">tscv</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">test</span><span class="p">)</span>
<span class="go">[0 1 2 3] [6 7]</span>
<span class="go">[0 1 2 3 4 5 6 7] [10 11]</span>
<span class="go">[ 0  1  2  3  4  5  6  7  8  9 10 11] [14 15]</span>
<span class="go">[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15] [18 19]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># default split if there is not enough data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">train</span><span class="p">,</span> <span class="n">test</span> <span class="ow">in</span> <span class="n">tscv</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">test</span><span class="p">)</span>
<span class="go">[0 1 2 3] [4]</span>
</pre></div>
</div>
<dl class="py method">
<dt id="greykite.sklearn.cross_validation.RollingTimeSeriesSplit.split">
<code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groups</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/cross_validation.html#RollingTimeSeriesSplit.split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit.split" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Generates indices to split data into training and test CV folds according to rolling</dt><dd><p>window time series cross validation</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Training data, where n_samples is the number of samples
and n_features is the number of features.
Must have <em class="xref py py-obj">shape</em> method.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – The target variable for supervised learning problems. Always ignored, exists for compatibility.</p></li>
<li><p><strong>groups</strong> (<em>array-like</em><em>, </em><em>with shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – Group labels for the samples used while splitting the dataset into
train/test set. Always ignored, exists for compatibility.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>train</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – The training set indices for that split.</p></li>
<li><p><strong>test</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – The testing set indices for that split.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.cross_validation.RollingTimeSeriesSplit.get_n_splits">
<code class="sig-name descname">get_n_splits</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groups</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/cross_validation.html#RollingTimeSeriesSplit.get_n_splits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit.get_n_splits" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of splitting iterations yielded by the cross-validator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Input data to split</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><em>object</em></a>) – Always ignored, exists for compatibility.</p></li>
<li><p><strong>groups</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)"><em>object</em></a>) – Always ignored, exists for compatibility.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>n_splits</strong> – The number of splitting iterations yielded by the cross-validator.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.cross_validation.RollingTimeSeriesSplit.get_n_splits_without_capping">
<code class="sig-name descname">get_n_splits_without_capping</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/cross_validation.html#RollingTimeSeriesSplit.get_n_splits_without_capping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit.get_n_splits_without_capping" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns the number of splitting iterations in the cross-validator as configured, ignoring</dt><dd><p>self.max_splits and self.min_splits</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Input data to split</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>n_splits</strong> – The number of splitting iterations in the cross-validator as configured, ignoring
self.max_splits and self.min_splits</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.cross_validation.RollingTimeSeriesSplit._get_offset">
<code class="sig-name descname">_get_offset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/cross_validation.html#RollingTimeSeriesSplit._get_offset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit._get_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an offset to add to test set indices when creating CV splits
CV splits are shifted so that the last test observation is the last point in X.
This shift does not affect the total number of splits.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Input data to split</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>offset</strong> – The number of observations to ignore at the beginning of X when creating CV splits</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.cross_validation.RollingTimeSeriesSplit._sample_splits">
<code class="sig-name descname">_sample_splits</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_splits</span></em>, <em class="sig-param"><span class="n">seed</span><span class="o">=</span><span class="default_value">48912</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/cross_validation.html#RollingTimeSeriesSplit._sample_splits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit._sample_splits" title="Permalink to this definition">¶</a></dt>
<dd><p>Samples up to <code class="docutils literal notranslate"><span class="pre">max_splits</span></code> items from list(range(<em class="xref py py-obj">num_splits</em>)).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">use_most_recent_splits</span></code> is True, highest split indices up to <code class="docutils literal notranslate"><span class="pre">max_splits</span></code>
are retained. Otherwise, the following sampling scheme is implemented:</p>
<blockquote>
<div><ul class="simple">
<li><p>takes the last 2 splits</p></li>
<li><p>samples from the rest uniformly at random</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_splits</strong> (<em class="xref py py-obj">int</em>) – Number of splits before sampling.</p></li>
<li><p><strong>seed</strong> (<em class="xref py py-obj">int</em>) – Seed for random sampling.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>n_splits</strong> – Indices of splits to keep (subset of <em class="xref py py-obj">list(range(num_splits))</em>).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.cross_validation.RollingTimeSeriesSplit._iter_test_indices">
<code class="sig-name descname">_iter_test_indices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groups</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/cross_validation.html#RollingTimeSeriesSplit._iter_test_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit._iter_test_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Class directly implements <a class="reference internal" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit.split" title="greykite.sklearn.cross_validation.RollingTimeSeriesSplit.split"><code class="xref py py-obj docutils literal notranslate"><span class="pre">split</span></code></a> instead of providing this function</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.cross_validation.RollingTimeSeriesSplit._iter_test_masks">
<code class="sig-name descname">_iter_test_masks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groups</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.cross_validation.RollingTimeSeriesSplit._iter_test_masks" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates boolean masks corresponding to test sets.</p>
<p>By default, delegates to _iter_test_indices(X, y, groups)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-greykite.sklearn.transform.zscore_outlier_transformer">
<span id="transformers"></span><h2>Transformers<a class="headerlink" href="#module-greykite.sklearn.transform.zscore_outlier_transformer" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.transform.zscore_outlier_transformer.</code><code class="sig-name descname">ZscoreOutlierTransformer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">z_cutoff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">use_fit_baseline</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/transform/zscore_outlier_transformer.html#ZscoreOutlierTransformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces outliers in data with NaN.
Outliers are determined by z-score cutoff. Columns are handled independently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z_cutoff</strong> (<em class="xref py py-obj">float</em> or None, default None) – z-score cutoff to define outliers. If None, this transformer is a no-op.</p></li>
<li><p><strong>use_fit_baseline</strong> (<em class="xref py py-obj">bool</em>, default False) – <p>If True, the z-scores are calculated using the mean and standard
deviation of the dataset passed to <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p>
<p>If False, the transformer is stateless. z-scores are calculated
for the dataset passed to <code class="docutils literal notranslate"><span class="pre">transform</span></code>, regardless of <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p>
</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.mean">
<code class="sig-name descname">mean</code><a class="headerlink" href="#greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean of each column. NaNs are ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.std">
<code class="sig-name descname">std</code><a class="headerlink" href="#greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.std" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard deviation of each column. NaNs are ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer._is_fitted">
<code class="sig-name descname">_is_fitted</code><a class="headerlink" href="#greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer._is_fitted" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the transformer is fitted.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">bool</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/transform/zscore_outlier_transformer.html#ZscoreOutlierTransformer.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the column mean and standard deviation,
stored as <code class="docutils literal notranslate"><span class="pre">mean</span></code> and <code class="docutils literal notranslate"><span class="pre">std</span></code> attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Training input data. e.g. each column is a timeseries.
Columns are expected to be numeric.</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) – There is no need of a target in a transformer, yet the pipeline API
requires this parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)">object</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/transform/zscore_outlier_transformer.html#ZscoreOutlierTransformer.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces outliers with NaN.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Data to transform. e.g. each column is a timeseries.
Columns are expected to be numeric.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>X_outlier</strong> – A copy of the data frame with original values and outliers replaced with NaN.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.fit_transform">
<code class="sig-name descname">fit_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fit_params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit to data, then transform it.</p>
<p>Fits transformer to <em class="xref py py-obj">X</em> and <em class="xref py py-obj">y</em> with optional parameters <em class="xref py py-obj">fit_params</em>
and returns a transformed version of <em class="xref py py-obj">X</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Input samples.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em><em>,                 </em><em>default=None</em>) – Target values (None for unsupervised transformations).</p></li>
<li><p><strong>**fit_params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Additional fit parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>X_new</strong> – Transformed array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray array of shape (n_samples, n_features_new)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deep</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.transform.zscore_outlier_transformer.ZscoreOutlierTransformer.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>). The latter have
parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s
possible to update each component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimator instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-greykite.sklearn.transform.normalize_transformer"></span><dl class="py class">
<dt id="greykite.sklearn.transform.normalize_transformer.NormalizeTransformer">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.transform.normalize_transformer.</code><code class="sig-name descname">NormalizeTransformer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">normalize_algorithm</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">normalize_params</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/transform/normalize_transformer.html#NormalizeTransformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.transform.normalize_transformer.NormalizeTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes time series data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>normalize_algorithm</strong> (<em class="xref py py-obj">str</em> or None, default None) – <p>Which algorithm to use. Valid options are:</p>
<blockquote>
<div><ul>
<li><p>”MinMaxScaler” : <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.preprocessing.MinMaxScaler.html#sklearn.preprocessing.MinMaxScaler" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.preprocessing.MinMaxScaler</span></code></a>,</p></li>
<li><p>”MaxAbsScaler” : <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.preprocessing.MaxAbsScaler.html#sklearn.preprocessing.MaxAbsScaler" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.preprocessing.MaxAbsScaler</span></code></a>,</p></li>
<li><p>”StandardScaler” : <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.preprocessing.StandardScaler.html#sklearn.preprocessing.StandardScaler" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.preprocessing.StandardScaler</span></code></a>,</p></li>
<li><p>”RobustScaler” : <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.preprocessing.RobustScaler.html#sklearn.preprocessing.RobustScaler" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.preprocessing.RobustScaler</span></code></a>,</p></li>
<li><p>”Normalizer” : <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.preprocessing.Normalizer.html#sklearn.preprocessing.Normalizer" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.preprocessing.Normalizer</span></code></a>,</p></li>
<li><p>”QuantileTransformer” : <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.preprocessing.QuantileTransformer.html#sklearn.preprocessing.QuantileTransformer" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.preprocessing.QuantileTransformer</span></code></a>,</p></li>
<li><p>”PowerTransformer” : <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.preprocessing.PowerTransformer.html#sklearn.preprocessing.PowerTransformer" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.preprocessing.PowerTransformer</span></code></a>,</p></li>
</ul>
</div></blockquote>
<p>If None, this transformer is a no-op. No normalization is done.</p>
</p></li>
<li><p><strong>normalize_params</strong> (<em class="xref py py-obj">dict</em> or None, default None) – Params to initialize the normalization scaler/transformer.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="greykite.sklearn.transform.normalize_transformer.NormalizeTransformer.scaler">
<code class="sig-name descname">scaler</code><a class="headerlink" href="#greykite.sklearn.transform.normalize_transformer.NormalizeTransformer.scaler" title="Permalink to this definition">¶</a></dt>
<dd><p>sklearn class used for normalization</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">class</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.transform.normalize_transformer.NormalizeTransformer._is_fitted">
<code class="sig-name descname">_is_fitted</code><a class="headerlink" href="#greykite.sklearn.transform.normalize_transformer.NormalizeTransformer._is_fitted" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the transformer is fitted.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">bool</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.normalize_transformer.NormalizeTransformer.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/transform/normalize_transformer.html#NormalizeTransformer.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.transform.normalize_transformer.NormalizeTransformer.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the normalization transform.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Training input data. e.g. each column is a timeseries.
Columns are expected to be numeric.</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) – There is no need of a target in a transformer, yet the pipeline API
requires this parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)">object</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.normalize_transformer.NormalizeTransformer.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/transform/normalize_transformer.html#NormalizeTransformer.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.transform.normalize_transformer.NormalizeTransformer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes data using the specified scaling method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Data to transform. e.g. each column is a timeseries.
Columns are expected to be numeric.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>X_normalized</strong> – A normalized copy of the data frame.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.normalize_transformer.NormalizeTransformer.fit_transform">
<code class="sig-name descname">fit_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fit_params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.transform.normalize_transformer.NormalizeTransformer.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit to data, then transform it.</p>
<p>Fits transformer to <em class="xref py py-obj">X</em> and <em class="xref py py-obj">y</em> with optional parameters <em class="xref py py-obj">fit_params</em>
and returns a transformed version of <em class="xref py py-obj">X</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Input samples.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em><em>,                 </em><em>default=None</em>) – Target values (None for unsupervised transformations).</p></li>
<li><p><strong>**fit_params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Additional fit parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>X_new</strong> – Transformed array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray array of shape (n_samples, n_features_new)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.normalize_transformer.NormalizeTransformer.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deep</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.transform.normalize_transformer.NormalizeTransformer.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.normalize_transformer.NormalizeTransformer.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.transform.normalize_transformer.NormalizeTransformer.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>). The latter have
parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s
possible to update each component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimator instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-greykite.sklearn.transform.null_transformer"></span><dl class="py class">
<dt id="greykite.sklearn.transform.null_transformer.NullTransformer">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.transform.null_transformer.</code><code class="sig-name descname">NullTransformer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_frac</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">impute_algorithm</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">impute_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">impute_all</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/transform/null_transformer.html#NullTransformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.transform.null_transformer.NullTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Imputes nulls in time series data.</p>
<p>This transform is stateless in the sense that <code class="docutils literal notranslate"><span class="pre">transform</span></code> output
does not depend on the data passed to <code class="docutils literal notranslate"><span class="pre">fit</span></code>. The dataset passed to
<code class="docutils literal notranslate"><span class="pre">transform</span></code> is used to impute itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_frac</strong> (<em class="xref py py-obj">float</em>, default 0.10) – issues warning if fraction of nulls is above this value</p></li>
<li><p><strong>impute_algorithm</strong> (<em class="xref py py-obj">str</em> or None, default “interpolate”) – <p>Which imputation algorithm to use.
Valid options are:</p>
<blockquote>
<div><ul>
<li><p>”interpolate” : <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.interpolate</span></code></a></p></li>
<li><p>”ts_interpolate” : <a class="reference internal" href="#greykite.common.features.timeseries_impute.impute_with_lags_multi" title="greykite.common.features.timeseries_impute.impute_with_lags_multi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">impute_with_lags_multi</span></code></a>.</p></li>
</ul>
</div></blockquote>
<p>If None, this transformer is a no-op. No null imputation is done.</p>
</p></li>
<li><p><strong>impute_params</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>Params to pass to the imputation algorithm.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.interpolate</span></code></a> and
<a class="reference internal" href="#greykite.common.features.timeseries_impute.impute_with_lags_multi" title="greykite.common.features.timeseries_impute.impute_with_lags_multi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">impute_with_lags_multi</span></code></a>
for their respective options.</p>
<p>For pandas “interpolate”, the “ffill”, “pad”, “bfill”, “backfill” methods
are not allowed to avoid confusion with the fill axis parameter. Use “linear”
with <code class="docutils literal notranslate"><span class="pre">axis=0</span></code> instead, with direction controlled by <code class="docutils literal notranslate"><span class="pre">limit_direction</span></code>.</p>
<p>If None, uses the defaults provided in this class.</p>
</p></li>
<li><p><strong>impute_all</strong> (<em class="xref py py-obj">bool</em>, default True) – <p>Whether to impute all values. If True, NaNs are not allowed in the
transformed result. Ignored if <code class="docutils literal notranslate"><span class="pre">impute_algorithm</span></code> is None.</p>
<p>The transform specified by <code class="docutils literal notranslate"><span class="pre">impute_algorithm</span></code> and
<code class="docutils literal notranslate"><span class="pre">impute_params</span></code> may leave NaNs in the dataset. For example,
if it fills in the forward direction but the first value in a
column is NaN.</p>
<p>A first pass is taken with the impute algorithm specified.
A second pass is taken with the “interpolate” algorithm (method=”linear”,
limit_direction=”both”) to fill in remaining NaNs.</p>
</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="greykite.sklearn.transform.null_transformer.NullTransformer.null_frac">
<code class="sig-name descname">null_frac</code><a class="headerlink" href="#greykite.sklearn.transform.null_transformer.NullTransformer.null_frac" title="Permalink to this definition">¶</a></dt>
<dd><p>The fraction data points that are null</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.transform.null_transformer.NullTransformer._is_fitted">
<code class="sig-name descname">_is_fitted</code><a class="headerlink" href="#greykite.sklearn.transform.null_transformer.NullTransformer._is_fitted" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the transformer is fitted.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">bool</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.transform.null_transformer.NullTransformer.missing_info">
<code class="sig-name descname">missing_info</code><a class="headerlink" href="#greykite.sklearn.transform.null_transformer.NullTransformer.missing_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Information about the missing data.
Set by <code class="docutils literal notranslate"><span class="pre">transform</span></code> if <code class="docutils literal notranslate"><span class="pre">impute_algorithm</span> <span class="pre">=</span> <span class="pre">&quot;ts_interpolate&quot;</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.null_transformer.NullTransformer.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/transform/null_transformer.html#NullTransformer.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.transform.null_transformer.NullTransformer.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates <em class="xref py py-obj">self.impute_params</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Training input data. e.g. each column is a timeseries.
Columns are expected to be numeric.</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) – There is no need of a target in a transformer, yet the pipeline API
requires this parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)">object</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.null_transformer.NullTransformer.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/transform/null_transformer.html#NullTransformer.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.transform.null_transformer.NullTransformer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Imputes missing values in input time series.</p>
<p>Checks the % of data points that are null, and provides warning if
it exceeds <code class="docutils literal notranslate"><span class="pre">self.max_frac</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Data to transform. e.g. each column is a timeseries.
Columns are expected to be numeric.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>X_imputed</strong> – A copy of the data frame with original values and missing values imputed</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.null_transformer.NullTransformer.fit_transform">
<code class="sig-name descname">fit_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fit_params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.transform.null_transformer.NullTransformer.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit to data, then transform it.</p>
<p>Fits transformer to <em class="xref py py-obj">X</em> and <em class="xref py py-obj">y</em> with optional parameters <em class="xref py py-obj">fit_params</em>
and returns a transformed version of <em class="xref py py-obj">X</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Input samples.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em><em>,                 </em><em>default=None</em>) – Target values (None for unsupervised transformations).</p></li>
<li><p><strong>**fit_params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Additional fit parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>X_new</strong> – Transformed array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray array of shape (n_samples, n_features_new)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.null_transformer.NullTransformer.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deep</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.transform.null_transformer.NullTransformer.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.null_transformer.NullTransformer.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.transform.null_transformer.NullTransformer.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>). The latter have
parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s
possible to update each component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimator instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-greykite.sklearn.transform.drop_degenerate_transformer"></span><dl class="py class">
<dt id="greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer">
<em class="property">class </em><code class="sig-prename descclassname">greykite.sklearn.transform.drop_degenerate_transformer.</code><code class="sig-name descname">DropDegenerateTransformer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">drop_degenerate</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/transform/drop_degenerate_transformer.html#DropDegenerateTransformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes degenerate (constant) columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>drop_degenerate</strong> (<em class="xref py py-obj">bool</em>, default False) – Whether to drop degenerate columns.</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.drop_cols">
<code class="sig-name descname">drop_cols</code><a class="headerlink" href="#greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.drop_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Degenerate columns to drop</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.keep_cols">
<code class="sig-name descname">keep_cols</code><a class="headerlink" href="#greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.keep_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Columns to keep</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/transform/drop_degenerate_transformer.html#DropDegenerateTransformer.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Identifies the degenerate columns, and sets <code class="docutils literal notranslate"><span class="pre">self.keep_cols</span></code>
and <code class="docutils literal notranslate"><span class="pre">self.drop_cols</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Training input data. e.g. each column is a timeseries.
Columns are expected to be numeric.</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) – There is no need of a target in a transformer, yet the pipeline API
requires this parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Returns self.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#object" title="(in Python v3.7)">object</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/sklearn/transform/drop_degenerate_transformer.html#DropDegenerateTransformer.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes data using the specified scaling method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Data to transform. e.g. each column is a timeseries.
Columns are expected to be numeric.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>X_subset</strong> – Selected columns of X. Keeps columns that were not
degenerate on the training data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.fit_transform">
<code class="sig-name descname">fit_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fit_params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit to data, then transform it.</p>
<p>Fits transformer to <em class="xref py py-obj">X</em> and <em class="xref py py-obj">y</em> with optional parameters <em class="xref py py-obj">fit_params</em>
and returns a transformed version of <em class="xref py py-obj">X</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Input samples.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em><em>,                 </em><em>default=None</em>) – Target values (None for unsupervised transformations).</p></li>
<li><p><strong>**fit_params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Additional fit parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>X_new</strong> – Transformed array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray array of shape (n_samples, n_features_new)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deep</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.sklearn.transform.drop_degenerate_transformer.DropDegenerateTransformer.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>). The latter have
parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s
possible to update each component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimator instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="quantile-regression">
<h2>Quantile Regression<a class="headerlink" href="#quantile-regression" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.algo.common.l1_quantile_regression.QuantileRegression">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.common.l1_quantile_regression.</code><code class="sig-name descname">QuantileRegression</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">quantile</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a></span> <span class="o">=</span> <span class="default_value">0.9</span></em>, <em class="sig-param"><span class="n">alpha</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a></span> <span class="o">=</span> <span class="default_value">0.001</span></em>, <em class="sig-param"><span class="n">sample_weight</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>np.typing.ArrayLike<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">feature_weight</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>np.typing.ArrayLike<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_iter</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">100</span></em>, <em class="sig-param"><span class="n">tol</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a></span> <span class="o">=</span> <span class="default_value">0.01</span></em>, <em class="sig-param"><span class="n">fit_intercept</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/common/l1_quantile_regression.html#QuantileRegression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.l1_quantile_regression.QuantileRegression" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the quantile regression model.</p>
<p>Supports weighted sample, l1 regularization
and weighted l1 regularization.
These options can be configured to support different use cases.
For example, specifying quantile to be 0.5 and sample weight to be the
inverse absolute value of response minimizes the MAPE.</p>
<dl class="py method">
<dt id="greykite.algo.common.l1_quantile_regression.QuantileRegression.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span><span class="p">:</span> <span class="n">np.typing.ArrayLike</span></em>, <em class="sig-param"><span class="n">y</span><span class="p">:</span> <span class="n">np.typing.ArrayLike</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.algo.common.l1_quantile_regression.QuantileRegression" title="greykite.algo.common.l1_quantile_regression.QuantileRegression">QuantileRegression</a><a class="reference internal" href="../../_modules/greykite/algo/common/l1_quantile_regression.html#QuantileRegression.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.l1_quantile_regression.QuantileRegression.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the quantile regression model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – The design matrix.</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – The response vector.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.common.l1_quantile_regression.QuantileRegression.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span><span class="p">:</span> <span class="n">np.typing.ArrayLike</span></em><span class="sig-paren">)</span> &#x2192; np.array<a class="reference internal" href="../../_modules/greykite/algo/common/l1_quantile_regression.html#QuantileRegression.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.l1_quantile_regression.QuantileRegression.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes prediction for a given x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a>) – The design matrix used for prediction.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.common.l1_quantile_regression.QuantileRegression.get_params">
<code class="sig-name descname">get_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deep</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.common.l1_quantile_regression.QuantileRegression.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deep</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>default=True</em>) – If True, will return the parameters for this estimator and
contained subobjects that are estimators.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>params</strong> – Parameter names mapped to their values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.common.l1_quantile_regression.QuantileRegression.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">sample_weight</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.common.l1_quantile_regression.QuantileRegression.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coefficient of determination <span class="math notranslate nohighlight">\(R^2\)</span> of the
prediction.</p>
<p>The coefficient <span class="math notranslate nohighlight">\(R^2\)</span> is defined as <span class="math notranslate nohighlight">\((1 - \frac{u}{v})\)</span>,
where <span class="math notranslate nohighlight">\(u\)</span> is the residual sum of squares <code class="docutils literal notranslate"><span class="pre">((y_true</span> <span class="pre">-</span> <span class="pre">y_pred)</span>
<span class="pre">**</span> <span class="pre">2).sum()</span></code> and <span class="math notranslate nohighlight">\(v\)</span> is the total sum of squares <code class="docutils literal notranslate"><span class="pre">((y_true</span> <span class="pre">-</span>
<span class="pre">y_true.mean())</span> <span class="pre">**</span> <span class="pre">2).sum()</span></code>. The best possible score is 1.0 and it
can be negative (because the model can be arbitrarily worse). A
constant model that always predicts the expected value of <em class="xref py py-obj">y</em>,
disregarding the input features, would get a <span class="math notranslate nohighlight">\(R^2\)</span> score of
0.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Test samples. For some estimators this may be a precomputed
kernel matrix or a list of generic objects instead with shape
<code class="docutils literal notranslate"><span class="pre">(n_samples,</span> <span class="pre">n_samples_fitted)</span></code>, where <code class="docutils literal notranslate"><span class="pre">n_samples_fitted</span></code>
is the number of samples used in the fitting for the estimator.</p></li>
<li><p><strong>y</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>) or </em><em>(</em><em>n_samples</em><em>, </em><em>n_outputs</em><em>)</em>) – True values for <em class="xref py py-obj">X</em>.</p></li>
<li><p><strong>sample_weight</strong> (<em>array-like of shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>default=None</em>) – Sample weights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – <span class="math notranslate nohighlight">\(R^2\)</span> of <code class="docutils literal notranslate"><span class="pre">self.predict(X)</span></code> wrt. <em class="xref py py-obj">y</em>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The <span class="math notranslate nohighlight">\(R^2\)</span> score used when calling <code class="docutils literal notranslate"><span class="pre">score</span></code> on a regressor uses
<code class="docutils literal notranslate"><span class="pre">multioutput='uniform_average'</span></code> from version 0.23 to keep consistent
with default value of <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.metrics.r2_score.html#sklearn.metrics.r2_score" title="(in scikit-learn v0.24)"><code class="xref py py-func docutils literal notranslate"><span class="pre">r2_score</span></code></a>.
This influences the <code class="docutils literal notranslate"><span class="pre">score</span></code> method of all the multioutput
regressors (except for
<a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.multioutput.MultiOutputRegressor.html#sklearn.multioutput.MultiOutputRegressor" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiOutputRegressor</span></code></a>).</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.common.l1_quantile_regression.QuantileRegression.set_params">
<code class="sig-name descname">set_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.common.l1_quantile_regression.QuantileRegression.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters of this estimator.</p>
<p>The method works on simple estimators as well as on nested objects
(such as <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>). The latter have
parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;__&lt;parameter&gt;</span></code> so that it’s
possible to update each component of a nested object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**params</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Estimator parameters.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – Estimator instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimator instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="hierarchical-forecast">
<h2>Hierarchical Forecast<a class="headerlink" href="#hierarchical-forecast" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.reconcile.convex.reconcile_forecasts.</code><code class="sig-name descname">ReconcileAdditiveForecasts</code><a class="reference internal" href="../../_modules/greykite/algo/reconcile/convex/reconcile_forecasts.html#ReconcileAdditiveForecasts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconciles forecasts to satisfy additive constraints.</p>
<p>Constraints can be encoded by the tree structure via <code class="docutils literal notranslate"><span class="pre">levels</span></code>.
In the tree formulation, a parent’s value must be the sum of its children’s values.</p>
<p>Or, constraints can be encoded as a matrix via <code class="docutils literal notranslate"><span class="pre">constraint_matrix</span></code>,
specifying additive expressions that must equal 0. The constraints need not have a
tree representation.</p>
<p>Provides standard methods such as bottom up, ols, MinT. Also supports a custom method
that minimizes user-specified types of error. The solution is derived by convex optimization.
If desired, a constraint is added to require the transformation to be unbiased.</p>
<p>If not using method=”ols” or method=”bottom_up”, which don’t depend on the data,
forecast reconciliation should be trained once per horizon
(# periods between forecasted date and train_end_date),
because the optimal adjustment may differ.</p>
<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.forecasts">
<code class="sig-name descname">forecasts</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.forecasts" title="Permalink to this definition">¶</a></dt>
<dd><p>Original forecasted values, used to train the method.
Also known as “base” forecasts.
Long format where each column is a time series.
and each row is a time step.
For proper variance estimates for the variance penalty,
values should be at a fixed-horizon (e.g. always 7-step ahead).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (n, m)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.actuals">
<code class="sig-name descname">actuals</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.actuals" title="Permalink to this definition">¶</a></dt>
<dd><p>Actual values to train the method, corresponding to <code class="docutils literal notranslate"><span class="pre">forecasts</span></code>.
Must have the same shape and column names as <code class="docutils literal notranslate"><span class="pre">forecasts</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (n, m)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.constraint_matrix">
<code class="sig-name descname">constraint_matrix</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.constraint_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Constraints. <code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">x</span> <span class="pre">m</span></code> array encoding <code class="docutils literal notranslate"><span class="pre">c</span></code> constraints of <code class="docutils literal notranslate"><span class="pre">m</span></code> variables.
We require <code class="docutils literal notranslate"><span class="pre">constraint_matrix</span> <span class="pre">&#64;</span> <span class="pre">transform_matrix</span> <span class="pre">=</span> <span class="pre">0</span></code>.
For example, to encode <code class="docutils literal notranslate"><span class="pre">-x1</span> <span class="pre">+</span> <span class="pre">x2</span> <span class="pre">+</span> <span class="pre">x3</span> <span class="pre">==</span> <span class="pre">0</span> <span class="pre">and</span> <span class="pre">-x2</span> <span class="pre">+</span> <span class="pre">x4</span> <span class="pre">+</span> <span class="pre">x5</span> <span class="pre">==</span> <span class="pre">0</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">constraint_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
</pre></div>
</div>
<p>Entries are typically in [-1, 0, 1], but this is not required.
Either <code class="docutils literal notranslate"><span class="pre">constraint_matrix</span></code> or <code class="docutils literal notranslate"><span class="pre">levels</span></code> must be provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, shape (c, m), or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.levels">
<code class="sig-name descname">levels</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.levels" title="Permalink to this definition">¶</a></dt>
<dd><p>A simpler way to encode tree constraints. Overrides <code class="docutils literal notranslate"><span class="pre">constraint_matrix</span></code> if provided.
Specifies the number of children of each parent (internal) node in the tree.
The number of inner lists is the height of the tree. The ith inner list provides the number
of children of each node at depth i. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># root node with 3 children</span>
<span class="n">levels</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">3</span><span class="p">]]</span>
<span class="c1"># root node with 3 children, who have 2, 3, 3 children respectively</span>
<span class="n">levels</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
</pre></div>
</div>
<p>All leaf nodes must have the same depth. Thus, the first sublist must have one
integer, the length of a sublist must equal the sum of the previous sublist,
and all integers in <code class="docutils literal notranslate"><span class="pre">levels</span></code> must be positive.</p>
<p>Either <code class="docutils literal notranslate"><span class="pre">constraint_matrix</span></code> or <code class="docutils literal notranslate"><span class="pre">levels</span></code> must be provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>]] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.order_dict">
<code class="sig-name descname">order_dict</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.order_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>How to order the columns before fitting.
The key is the column name, the value is its position.
When <code class="docutils literal notranslate"><span class="pre">levels</span></code> is used, map each column name to the
order of its corresponding node in a BFS traversal of the tree.
When <code class="docutils literal notranslate"><span class="pre">constraint_matrix</span></code> is used, this shuffles the order
of the columns before the constraints are applied (thus, columns
in <code class="docutils literal notranslate"><span class="pre">constraint_matrix</span></code> refer to the columns after reordering).</p>
<p>If None, no reordering is done.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">float</em>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.method">
<code class="sig-name descname">method</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.method" title="Permalink to this definition">¶</a></dt>
<dd><p>Which reconciliation method to use.
Valid values are “bottom_up”, “ols”, “mint_sample”, “custom”:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>“bottom_up”<span class="classifier">Sums leaf nodes. Unbiased transform that uses only the values of the leaf nodes</span></dt><dd><p>to propagate up the tree. Each node’s value is the sum of its
corresponding leaf nodes’ values (a leaf node corresponds to a node T if it is
a leaf node of the subtree with T as its root, i.e. a descendant of T or T itself).
See Dangerfield and Morris 1992 “Top-down or bottom-up: Aggregate versus disaggregate
extrapolations” for one discussion of this method.
Depends only on the structure of the hierarchy, not on the data itself.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>“ols”<span class="classifier">OLS estimate proposed by <a class="reference external" href="https://robjhyndman.com/papers/Hierarchical6.pdf">https://robjhyndman.com/papers/Hierarchical6.pdf</a></span></dt><dd><p>(Hyndman et al. 2010, “Optimal combination forecasts for hierarchical time series”)
Also see <a class="reference external" href="https://robjhyndman.com/papers/mint.pdf">https://robjhyndman.com/papers/mint.pdf</a> section 2.4.1.
(Wickramasuriya et al. 2019 “Optimal forecast reconciliation for
hierarchical and grouped time series through trace minimization”.)
Unbiased transform that minimizes variance of adjusted residuals,
using “identity” estimate of original residual variance.
Optimal if original forecast errors are uncorrelated with equal variance (unlikely).
Depends only on the structure of the hierarchy, not on the data itself.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“mint_sample”<span class="classifier">Unbiased transform that minimizes variance of adjusted residuals,</span></dt><dd><p>using “sample” estimate of original residual variance.
Assumes base forecasts are unbiased.
See Wickramasuriya et al. 2019 section 2.4.4.
Depends on the structure of the hierarchy and forecast error covariances.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“custom”<span class="classifier">Optimization parameters can be set by the user. See</span></dt><dd><p><a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.fit" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.fit</span></code></a>
method for parameters and their default values.
Depends on the structure of the hierarchy, base forecasts, and actuals, if all terms
are included in the objective.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>If “custom”, uses the parameters passed to
<a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.fit" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.fit</span></code></a>
to formulate the convex optimization problem.</p>
<p>If “bottom_up”, “ols”, or “mint_sample”, the other fit parameters are ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.lower_bound">
<code class="sig-name descname">lower_bound</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.lower_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Lower bound on each entry of <code class="docutils literal notranslate"><span class="pre">transform_matrix</span></code>.
If None, no lower bound is applied.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.upper_bound">
<code class="sig-name descname">upper_bound</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.upper_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Upper bound on each entry of <code class="docutils literal notranslate"><span class="pre">transform_matrix</span></code>.
If None, no upper bound is applied.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.unbiased">
<code class="sig-name descname">unbiased</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.unbiased" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the resulting transformation must be unbiased.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">bool</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.lam_adj">
<code class="sig-name descname">lam_adj</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.lam_adj" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight for the adjustment penalty.
The adjustment penalty is the mean squared difference
between adjusted forecasts and base forecasts.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.lam_bias">
<code class="sig-name descname">lam_bias</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.lam_bias" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight for the bias penalty.
The bias penalty is the mean squared difference
between adjusted actuals and actuals.
For an unbiased transformation (<code class="docutils literal notranslate"><span class="pre">unbiased=True</span></code>),
the bias penalty is 0 so this has no effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.lam_train">
<code class="sig-name descname">lam_train</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.lam_train" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight for the training MSE penalty.
The train MSE penalty measures the mean squared difference
between adjusted forecasts and actuals.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.lam_var">
<code class="sig-name descname">lam_var</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.lam_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight for the variance penalty.
The variance penalty measures the variance of
adjusted forecast errors for an unbiased transformation.
It is reported as the average of the variances across timeseries.
It is based on the variance of the base forecast error
variance, <code class="docutils literal notranslate"><span class="pre">covariance</span></code>. For biased transforms,
this is an underestimate of the true variance.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.covariance">
<code class="sig-name descname">covariance</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Variance-covariance matrix of base forecast errors. Used to
compute the variance penalty.</p>
<blockquote>
<div><ul class="simple">
<li><p>If a <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, row/column i corresponds to the
ith column after reordering by <code class="docutils literal notranslate"><span class="pre">order_dict</span></code>. Should
be reported on the original scale of the data.</p></li>
<li><p>If “sample”, the sample covariance of residuals
assuming base forecasts are unbiased.
Unlike <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.cov.html#numpy.cov" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.cov</span></code></a>, does not mean center the residuals,
and divides by <code class="docutils literal notranslate"><span class="pre">n</span></code> instead of <code class="docutils literal notranslate"><span class="pre">n-1</span></code>.</p></li>
<li><p>If “identity”, the identity matrix.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> of shape (m, m), or “sample” or “identity”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.weight_adj">
<code class="sig-name descname">weight_adj</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.weight_adj" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight for the adjustment penalty that allows a different
weight per-timeseries.</p>
<blockquote>
<div><ul class="simple">
<li><p>If a numpy array/list, values specify the weight for each forecast
after reordering by <code class="docutils literal notranslate"><span class="pre">order_dict</span></code>.</p></li>
<li><p>If “MedAPE”, proportional to the MedAPE of the forecast.</p></li>
<li><p>If “InverseMedAPE”, proportional to 1 / MedAPE of the forecast. This can be useful
to penalize adjustment to base forecasts that are already accurate.</p></li>
<li><p>If None, the identity matrix (equal weights).</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] of length m or “MedAPE” or “InverseMedAPE” or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.weight_bias">
<code class="sig-name descname">weight_bias</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.weight_bias" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight for the bias penalty that allows a different
weight per-timeseries.</p>
<blockquote>
<div><ul class="simple">
<li><p>If a numpy array/list, values specify the weight for each forecast
after reordering by <code class="docutils literal notranslate"><span class="pre">order_dict</span></code>.</p></li>
<li><p>If “MedAPE”, proportional to the MedAPE of the forecast. This can be useful
to focus more on improving the base forecasts with high error.</p></li>
<li><p>If “InverseMedAPE”, proportional to 1 / MedAPE of the forecast.</p></li>
<li><p>If None, the identity matrix (equal weights).</p></li>
</ul>
</div></blockquote>
<p>For an unbiased transformation (<code class="docutils literal notranslate"><span class="pre">unbiased=True</span></code>),
the bias penalty is 0 so this has no effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] of length m or “MedAPE” or “InverseMedAPE” or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.weight_train">
<code class="sig-name descname">weight_train</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.weight_train" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight for the train MSE penalty that allows a different
weight per-timeseries.</p>
<blockquote>
<div><ul class="simple">
<li><p>If a numpy array/list, values specify the weight for each forecast
after reordering by <code class="docutils literal notranslate"><span class="pre">order_dict</span></code>.</p></li>
<li><p>If “MedAPE”, proportional to the MedAPE of the forecast. This can be useful
to focus more on improving the base forecasts with high error.</p></li>
<li><p>If “InverseMedAPE”, proportional to 1 / MedAPE of the forecast.</p></li>
<li><p>If None, the identity matrix (equal weights).</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] of length m or “MedAPE” or “InverseMedAPE” or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.weight_var">
<code class="sig-name descname">weight_var</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.weight_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight for the variance penalty that allows a different
weight per-timeseries.</p>
<blockquote>
<div><ul class="simple">
<li><p>If a numpy array/list, values specify the weight for each forecast
after reordering by <code class="docutils literal notranslate"><span class="pre">order_dict</span></code>.</p></li>
<li><p>If “MedAPE”, proportional to the MedAPE of the forecast. This can be useful
to focus more on improving the base forecasts with high error.</p></li>
<li><p>If “InverseMedAPE”, proportional to 1 / MedAPE of the forecast.</p></li>
<li><p>If None, the identity matrix (equal weights).</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] of length m or “MedAPE” or “InverseMedAPE” or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.names">
<code class="sig-name descname">names</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.names" title="Permalink to this definition">¶</a></dt>
<dd><p>Names of <code class="docutils literal notranslate"><span class="pre">forecast</span></code> columns after reordering by <code class="docutils literal notranslate"><span class="pre">order_dict</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Index.html#pandas.Index" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Index</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.tree">
<code class="sig-name descname">tree</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.tree" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">levels</span></code> is provided, represents the tree structure encoded by the levels.
Else None.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship" title="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship"><code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship</span></code></a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.transform_variable">
<code class="sig-name descname">transform_variable</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.transform_variable" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimization variable to learn the transform matrix.
None if a rule-based method is used, e.g. <code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">==</span> <span class="pre">bottom_up</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">cvxpy.Variable</span></code>, shape (m, m) or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.transform_matrix">
<code class="sig-name descname">transform_matrix</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.transform_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Transformation matrix. Same as <code class="docutils literal notranslate"><span class="pre">transform_variable.value</span></code>, unless
the solver failed the find a solution, and a backup value is used.
Adjusted forecasts are computed by applying the transform from the left
to reordered and transposed <code class="docutils literal notranslate"><span class="pre">forecasts</span></code>. See <code class="docutils literal notranslate"><span class="pre">transform</span></code> in this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, shape (m, m)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.prob">
<code class="sig-name descname">prob</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.prob" title="Permalink to this definition">¶</a></dt>
<dd><p>Convex optimization problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">cvxpy.Problem</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.is_optimization_solution">
<code class="sig-name descname">is_optimization_solution</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.is_optimization_solution" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether <code class="docutils literal notranslate"><span class="pre">transform_matrix</span></code> is a solution found by convex optimization solution.
If False, then <code class="docutils literal notranslate"><span class="pre">transform_matrix</span></code> may be set to a backup value (bottom up transform).
Check <code class="docutils literal notranslate"><span class="pre">prob.status</span></code> for more details about solver status.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">bool</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.objective_fn">
<code class="sig-name descname">objective_fn</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.objective_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the objective function for a given transform matrix and dataset.
Takes <code class="docutils literal notranslate"><span class="pre">transform_matrix,</span> <span class="pre">forecast_matrix</span> <span class="pre">(optional),</span> <span class="pre">actual_matrix</span> <span class="pre">(optional)</span></code>.
Return value has same format as <code class="docutils literal notranslate"><span class="pre">objective_fn_val</span></code>.
If forecast_matrix/actual_matrix are not provided, uses the fitting datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">callable</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.objective_fn_val">
<code class="sig-name descname">objective_fn_val</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.objective_fn_val" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary containing the objective value, and its components,
as evaluated on the training set for the identified optimal solution
from convex optimization.
Keys are:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;adj&quot;</span></code>    : adjustment size
<code class="docutils literal notranslate"><span class="pre">&quot;bias&quot;</span></code>   : bias of estimator
<code class="docutils literal notranslate"><span class="pre">&quot;train&quot;</span></code>  : train set MSE
<code class="docutils literal notranslate"><span class="pre">&quot;var&quot;</span></code>    : variance of unbiased estimator
<code class="docutils literal notranslate"><span class="pre">&quot;total&quot;</span></code>  : sum of the above</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">float</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.objective_weights">
<code class="sig-name descname">objective_weights</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.objective_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Weights used in the objective function, derived from
<code class="docutils literal notranslate"><span class="pre">covariance</span></code>, <code class="docutils literal notranslate"><span class="pre">weight_*</span></code>, <code class="docutils literal notranslate"><span class="pre">forecasts</span></code>, <code class="docutils literal notranslate"><span class="pre">actuals</span></code>.
Keys are:</p>
<blockquote>
<div><ul class="simple">
<li><p>weight_adj</p></li>
<li><p>weight_bias</p></li>
<li><p>weight_train</p></li>
<li><p>weight_var</p></li>
<li><p>covariance</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.array</span></code> of shape (m, m)]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.adjusted_forecasts">
<code class="sig-name descname">adjusted_forecasts</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.adjusted_forecasts" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusted <code class="docutils literal notranslate"><span class="pre">forecasts</span></code> that satisfy the constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (n, m)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.constraint_violation">
<code class="sig-name descname">constraint_violation</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.constraint_violation" title="Permalink to this definition">¶</a></dt>
<dd><p>The normalized constraint violations on training set.
Keys are “actual”, “forecast”, and “adjusted”.
Root mean squared constraint violation is divided by root mean squared actual value.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">float</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.evaluation_df">
<code class="sig-name descname">evaluation_df</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.evaluation_df" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame of evaluation results on training set. Rows are timeseries,
columns are metrics. See <code class="docutils literal notranslate"><span class="pre">evaluate</span></code> in this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (m, # metrics)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.figures">
<code class="sig-name descname">figures</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.figures" title="Permalink to this definition">¶</a></dt>
<dd><p>Plotly figures to visualize evaluation results on training set.
Keys are: “base_adj” (base vs adjusted forecast),
“adj_size” (adjustment size %), “error” (% error).
Each figure contains multiple subplots, one for each timeseries.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.forecasts_test">
<code class="sig-name descname">forecasts_test</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.forecasts_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Forecasted values to test the method.
Long format where each column is a time series
and each row is a time step.
Must have the same column names as <code class="docutils literal notranslate"><span class="pre">forecasts</span></code>.
Can have a different number of rows (observations).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (q, m)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.actuals_test">
<code class="sig-name descname">actuals_test</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.actuals_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Actual values to test the method.
Must have the same shape and column names as <code class="docutils literal notranslate"><span class="pre">forecasts_test</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (q, m)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.adjusted_forecasts_test">
<code class="sig-name descname">adjusted_forecasts_test</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.adjusted_forecasts_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusted <code class="docutils literal notranslate"><span class="pre">forecasts_test</span></code> that satisfy the constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (q, m)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.constraint_violation_test">
<code class="sig-name descname">constraint_violation_test</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.constraint_violation_test" title="Permalink to this definition">¶</a></dt>
<dd><p>The normalized constraint violations on test set.
Keys are “actual”, “forecast”, and “adjusted”.
Root mean squared constraint violation is divided by root mean squared actual value
on test set.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">float</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.evaluation_df_test">
<code class="sig-name descname">evaluation_df_test</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.evaluation_df_test" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame of evaluation results on test set. Rows are timeseries,
columns are metrics. See <code class="docutils literal notranslate"><span class="pre">evaluate()</span></code> in this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (m, # metrics)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.figures_test">
<code class="sig-name descname">figures_test</code><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.figures_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Plotly figures to visualize evaluation results on test set.
Keys are: “base_adj” (base vs adjusted forecast),
“adj_size” (adjustment size %), “error” (% error).
Each figure contains multiple subplots, one for each timeseries.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a>] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">fit : callable</code></dt>
<dd><p>Fits the <code class="docutils literal notranslate"><span class="pre">transform_matrix</span></code> from training data.</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">transform : callable</code></dt>
<dd><p>Adjusts a forecast to satisfy additive constraints using the <code class="docutils literal notranslate"><span class="pre">transform_matrix</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">evaluate : callable</code></dt>
<dd><p>Evaluates the adjustment quality by its impact to MAPE, MedAPE, and RMSE.</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">fit_transform : callable</code></dt>
<dd><p>Fits and transforms the training data.</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">fit_transform_evaluate : callable</code></dt>
<dd><p>Fits, transforms, and evaluates on training data.</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">transform_evaluate : calllable</code></dt>
<dd><p>Transforms and evaluates on a new test set.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">forecasts</span></em>, <em class="sig-param"><span class="n">actuals</span></em>, <em class="sig-param"><span class="n">order_dict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'custom'</span></em>, <em class="sig-param"><span class="n">levels</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">constraint_matrix</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lower_bound</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">upper_bound</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unbiased</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">lam_adj</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">lam_bias</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">lam_train</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">lam_var</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">covariance</span><span class="o">=</span><span class="default_value">'sample'</span></em>, <em class="sig-param"><span class="n">weight_adj</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">weight_bias</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">weight_train</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">weight_var</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">solver_kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/reconcile/convex/reconcile_forecasts.html#ReconcileAdditiveForecasts.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the <code class="docutils literal notranslate"><span class="pre">transform_matrix</span></code> based on input data, constraint, and objective function.</p>
<p>Sets the attributes between <code class="docutils literal notranslate"><span class="pre">forecasts</span></code> and <code class="docutils literal notranslate"><span class="pre">objective_weights</span></code> as noted
in the class description, inclusive, including <code class="docutils literal notranslate"><span class="pre">transform_matrix</span></code>, <code class="docutils literal notranslate"><span class="pre">transform_variable</span></code>,
<code class="docutils literal notranslate"><span class="pre">prob</span></code>, <code class="docutils literal notranslate"><span class="pre">objective_fn_val</span></code>.</p>
<p>If method != “bottom_up” and there is no solution, gives a warning and
<code class="docutils literal notranslate"><span class="pre">self.is_optimization_solution</span></code> is set to False. Uses “bottom_up” solution
as fallback approach if <code class="docutils literal notranslate"><span class="pre">levels</span></code> is provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>forecasts</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (n, m)) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>actuals</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (n, m)) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>order_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">float</em>] or None, default None) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>method</strong> (<em class="xref py py-obj">str</em>, default <code class="xref py py-obj docutils literal notranslate"><span class="pre">DEFAULT_METHOD</span></code>) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.
If provided, the parameters from <code class="docutils literal notranslate"><span class="pre">lower_bound</span></code> to <code class="docutils literal notranslate"><span class="pre">weight_var</span></code> below are ignored.</p></li>
<li><p><strong>levels</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>]] or None, default None) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>constraint_matrix</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, shape (c, m) or None, default None) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>lower_bound</strong> (<em class="xref py py-obj">float</em> or None, default None) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>upper_bound</strong> (<em class="xref py py-obj">float</em> or None, default None) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>unbiased</strong> (<em class="xref py py-obj">bool</em>, default True) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>lam_adj</strong> (<em class="xref py py-obj">float</em>, default 1.0) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>lam_bias</strong> (<em class="xref py py-obj">float</em>, default 1.0) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>lam_train</strong> (<em class="xref py py-obj">float</em>, default 1.0) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>lam_var</strong> (<em class="xref py py-obj">float</em>, default 1.0) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>covariance</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> of shape (m, m), or “sample” or “identity”, default “sample”) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>weight_adj</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] of length m or “MedAPE” or “InverseMedAPE” or None, default None) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>weight_bias</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] of length m or “MedAPE” or “InverseMedAPE” or None, default None) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>weight_train</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] of length m or “MedAPE” or “InverseMedAPE” or None, default None) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>weight_var</strong> (<a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] of length m or “MedAPE” or “InverseMedAPE” or None, default None) – See attributes of <a class="reference internal" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts" title="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ReconcileAdditiveForecasts</span></code></a>.</p></li>
<li><p><strong>solver_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Specify the CVXPY solver and parameters. E.g. dict(verbose=True).
See <a class="reference external" href="https://www.cvxpy.org/tutorial/advanced/index.html#setting-solver-options">https://www.cvxpy.org/tutorial/advanced/index.html#setting-solver-options</a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>transform_matrix</strong> – Transformation matrix. Same as <code class="docutils literal notranslate"><span class="pre">transform_variable.value</span></code>, unless
the solver failed the find a solution, and a backup value is used.
Adjusted forecasts are computed by applying the transform from the left
to reordered and transposed <code class="docutils literal notranslate"><span class="pre">forecasts</span></code>. See <code class="docutils literal notranslate"><span class="pre">transform()</span></code> in this class.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, shape (m, m)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">forecasts_test</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/reconcile/convex/reconcile_forecasts.html#ReconcileAdditiveForecasts.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the provided forecasts using the
fitted <code class="docutils literal notranslate"><span class="pre">self.transform_matrix</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>forecasts_test</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (r, m) or None) – Forecasted values to transform.
Must have the same columns as <code class="docutils literal notranslate"><span class="pre">self.forecasts</span></code>.
If None, uses <code class="docutils literal notranslate"><span class="pre">self.forecasts</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>adjusted_forecasts</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (r, m)) – Adjusted forecasts that satisfy additive constraints.
Columns are reordered according to <code class="docutils literal notranslate"><span class="pre">self.order_dict</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">forecasts</span></code> is None, results are stored to <code class="docutils literal notranslate"><span class="pre">self.adjusted_forecasts</span></code>.</p></li>
<li><p>Else, results are stored to <code class="docutils literal notranslate"><span class="pre">self.adjusted_forecasts_test</span></code>, and the</p></li>
<li><p>provided <code class="docutils literal notranslate"><span class="pre">forecasts_test</span></code> to <code class="docutils literal notranslate"><span class="pre">self.forecasts_test</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">is_train</span></em>, <em class="sig-param"><span class="n">actuals_test</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ipython_display</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">plot_num_cols</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/reconcile/convex/reconcile_forecasts.html#ReconcileAdditiveForecasts.evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the adjustment quality. Computes the following metrics for each
of the <em class="xref py py-obj">m</em> timeseries:</p>
<blockquote>
<div><p>“Base MAPE”        : MAPE of base forecasts
“Base MedAPE”      : MedAPE of base forecasts
“Base RMSE”        : RMSE of base forecasts
“Adjusted MAPE”    : MAPE of adjusted forecasts
“Adjusted MedAPE”  : MedAPE of adjusted forecasts
“Adjusted RMSE”    : RMSE of adjusted forecasts
“RMSE % change”    : (Adjusted RMSE) / (Base RMSE) - 1
“MAPE pp change”   : (Adjusted MAPE) - (Base MAPE)
“MedAPE pp change” : (Adjusted MedAPE) - (Base MedAPE)</p>
</div></blockquote>
<p>“pp change” refers to percentage point change (difference in %).</p>
<p>Must call <code class="docutils literal notranslate"><span class="pre">fit</span></code> and <code class="docutils literal notranslate"><span class="pre">transform</span></code> before calling this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>is_train</strong> (<em class="xref py py-obj">bool</em>) – Whether to evaluate on training set or test set.
If True, evaluates training adjustment quality.
Else, evaluates test adjustment quality. In this
case, <code class="docutils literal notranslate"><span class="pre">actuals_test</span></code> must be provided.</p></li>
<li><p><strong>actuals_test</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Actual values on test set, required if <code class="docutils literal notranslate"><span class="pre">is_train==False</span></code>.
Must have the same shape as the forecasts passed to
<code class="docutils literal notranslate"><span class="pre">transform()</span></code>, i.e. <code class="docutils literal notranslate"><span class="pre">self.forecasts_test.shape</span></code>.</p></li>
<li><p><strong>ipython_display</strong> (<em class="xref py py-obj">bool</em>, default False) – Whether to display the evaluation statistics.</p></li>
<li><p><strong>plot</strong> (<em class="xref py py-obj">bool</em>, default False) – Whether to display the evaluation plots.</p></li>
<li><p><strong>plot_num_cols</strong> (<em class="xref py py-obj">int</em>, default 3) – Number of columns in the plot.
This is the number of timeseries to plot in each row.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>evaluation_result</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">dict</em>, or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>]) –</p>
<ul>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;constraint_violation&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">float</em>]</span></dt><dd><p>The normalized constraint violations.
Keys are “actual”, “forecast”, and “adjusted”.
The value is root mean squared constraint violation divided
by root mean squared actual value. Constraint violation of
actuals should be close to 0.</p>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;evaluation_df&quot;</span></code><span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, shape (m, # metrics)</span></dt><dd><p>Evaluation results. DataFrame with one row for each timeseries,
and a column for each metric listed above.</p>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;figures&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a>]</span></dt><dd><p>Plotly figures to visualize evaluation results.
Keys are: “base_adj” (base vs adjusted forecast),
“adj_size” (adjustment size %), “error” (% error).
Each figure contains multiple subplots, one for each timeseries.</p>
</dd>
</dl>
</li>
</ul>
</li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">is_train</span></code>, results are stored to <code class="docutils literal notranslate"><span class="pre">self.constraint_violation</span></code>,  <code class="docutils literal notranslate"><span class="pre">self.evaluation_df</span></code>.</p></li>
<li><p>Otherwise, they are stored to <code class="docutils literal notranslate"><span class="pre">self.constraint_violation_test</span></code>, <code class="docutils literal notranslate"><span class="pre">self.evaluation_df_test</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.fit_transform">
<code class="sig-name descname">fit_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">forecasts</span></em>, <em class="sig-param"><span class="n">actuals</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fit_kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/reconcile/convex/reconcile_forecasts.html#ReconcileAdditiveForecasts.fit_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits and transforms training data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>forecasts</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Forecasts to fit the adjustment. See <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p></li>
<li><p><strong>actuals</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Actuals to fit the adjustment. See <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p></li>
<li><p><strong>fit_kwargs</strong> (<em class="xref py py-obj">dict</em>, optional) – Additional parameters to pass to <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>adjusted_forecasts</strong> – Adjusted forecasts.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.fit_transform_evaluate">
<code class="sig-name descname">fit_transform_evaluate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">forecasts</span></em>, <em class="sig-param"><span class="n">actuals</span></em>, <em class="sig-param"><span class="n">fit_kwargs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">evaluate_kwargs</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/reconcile/convex/reconcile_forecasts.html#ReconcileAdditiveForecasts.fit_transform_evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.fit_transform_evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits, transforms, and evaluates on training data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>forecasts</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Forecasts to fit the adjustment. See <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p></li>
<li><p><strong>actuals</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Actuals to fit the adjustment. See <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p></li>
<li><p><strong>fit_kwargs</strong> (<em class="xref py py-obj">dict</em>, optional, default None) – Additional parameters to pass to <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p></li>
<li><p><strong>evaluate_kwargs</strong> (<em class="xref py py-obj">dict</em>, optional, default None) – Additional parameters to pass to <code class="docutils literal notranslate"><span class="pre">evaluate</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>evaluation_df</strong> – Evaluation results on provided <code class="docutils literal notranslate"><span class="pre">forecasts</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.transform_evaluate">
<code class="sig-name descname">transform_evaluate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">forecasts_test</span></em>, <em class="sig-param"><span class="n">actuals_test</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">evaluate_kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/reconcile/convex/reconcile_forecasts.html#ReconcileAdditiveForecasts.transform_evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.transform_evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms and evaluates on test data.</p>
<p>Must call <code class="docutils literal notranslate"><span class="pre">fit</span></code> before calling this method.</p>
<dl>
<dt>forecasts_test<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>Forecasts to make consistent. Should be different from the training data.</p>
</dd>
<dt>actuals_test<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>Actuals to check quality of the adjustment.</p>
</dd>
<dt>evaluate_kwargs<span class="classifier"><em class="xref py py-obj">dict</em>, optional, default None</span></dt><dd><p>Additional parameters to pass to <code class="docutils literal notranslate"><span class="pre">evaluate</span></code>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>evaluation_df_test</strong> – Evaluation results on provided <code class="docutils literal notranslate"><span class="pre">forecasts_test</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.plot_transform_matrix">
<code class="sig-name descname">plot_transform_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">color_continuous_scale</span><span class="o">=</span><span class="default_value">'RdBu'</span></em>, <em class="sig-param"><span class="n">zmin</span><span class="o">=</span><span class="default_value">- 1.5</span></em>, <em class="sig-param"><span class="n">zmax</span><span class="o">=</span><span class="default_value">1.5</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/reconcile/convex/reconcile_forecasts.html#ReconcileAdditiveForecasts.plot_transform_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.ReconcileAdditiveForecasts.plot_transform_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the transform matrix visually, as a grid.
By default, negative values are red and positive values are blue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>color_continuous_scale</strong> (<em class="xref py py-obj">str</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], default “RdBu”) – Colormap used to map scalar data to colors. See <a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.express.imshow.html#plotly.express.imshow" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.express.imshow</span></code></a>.</p></li>
<li><p><strong>zmin</strong> (<em>scalar</em><em> or </em><em>iterable</em><em>, </em><em>default -1.5</em>) – The minimum value covered by the colormap.
See <a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.express.imshow.html#plotly.express.imshow" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.express.imshow</span></code></a>.</p></li>
<li><p><strong>zmax</strong> (<em>scalar</em><em> or </em><em>iterable</em><em>, </em><em>default 1.5</em>) – The maximum value covered by the colormap.
See <a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.express.imshow.html#plotly.express.imshow" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.express.imshow</span></code></a>.</p></li>
<li><p><strong>kwargs</strong> (<em>keyword arguments</em>) – Additional keyword arguments for <a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.express.imshow.html#plotly.express.imshow" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.express.imshow</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – The transform matrix plot object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.reconcile.hierarchical_relationship.</code><code class="sig-name descname">HierarchicalRelationship</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">levels</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/reconcile/hierarchical_relationship.html#HierarchicalRelationship"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents hierarchical relationships between nodes (time series).</p>
<p>Nodes are indexed by their position in the tree, in breadth-first search (BFS) order.
Matrix attributes such as <code class="docutils literal notranslate"><span class="pre">bottom_up_transform</span></code> are applied from the
left against tree values, represented as a <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> 2D array with
the values of each node as a row.</p>
<dl class="py attribute">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.levels">
<code class="sig-name descname">levels</code><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the number of children of each parent (internal) node in the tree.
The number of inner lists is the height of the tree. The ith inner list provides the number
of children of each node at depth i.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># root node with 3 children</span>
<span class="n">levels</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">3</span><span class="p">]]</span>

<span class="c1"># root node with 3 children, who have 2, 3, 3 children respectively</span>
<span class="n">levels</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="c1"># These children are ordered from &quot;left&quot; to &quot;right&quot;, so that the one with</span>
<span class="c1"># 2 children is the first in the 2nd level.</span>
<span class="c1"># This will be used as our running example.</span>
<span class="c1">#           0                # level 0</span>
<span class="c1">#   1       2        3       # level 1</span>
<span class="c1">#  4 5    6 7 8    9 10 11   # level 2</span>
</pre></div>
</div>
<p>All leaf nodes must have the same depth. Thus, the first sublist must have one
integer, the length of a sublist must equal the sum of the previous sublist,
and all integers in <code class="docutils literal notranslate"><span class="pre">levels</span></code> must be positive.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">list</em> [<a href="#id13"><span class="problematic" id="id14">`</span></a>int]] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.num_children_per_parent">
<code class="sig-name descname">num_children_per_parent</code><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.num_children_per_parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Flattened version of <code class="docutils literal notranslate"><span class="pre">levels</span></code>.
The number of children for each parent (internal) node.
[3, 2, 3, 3] in our example.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.num_internal_nodes">
<code class="sig-name descname">num_internal_nodes</code><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.num_internal_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of internal (parent) nodes (i.e. with children).
4 in our example.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.num_leaf_nodes">
<code class="sig-name descname">num_leaf_nodes</code><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.num_leaf_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of leaf nodes (i.e. without children).
8 in our example.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.num_nodes">
<code class="sig-name descname">num_nodes</code><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.num_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>The total number of nodes.
12 in our example.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.nodes_per_level">
<code class="sig-name descname">nodes_per_level</code><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.nodes_per_level" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of nodes at each level of the tree.
[1, 3, 8] in our example.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.starting_index_per_level">
<code class="sig-name descname">starting_index_per_level</code><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.starting_index_per_level" title="Permalink to this definition">¶</a></dt>
<dd><p>The index of the first node in each level.
[0, 1, 4] in our example.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.starting_child_index_per_parent">
<code class="sig-name descname">starting_child_index_per_parent</code><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.starting_child_index_per_parent" title="Permalink to this definition">¶</a></dt>
<dd><p>For each parent node, the index of its first child.
[1, 4, 6, 9]  in our example.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.sum_matrix">
<code class="sig-name descname">sum_matrix</code><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.sum_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum matrix used to compute values of all nodes from the leaf nodes. When
applied to a matrix with the values for leaf nodes, returns values for every
node by bubbling up leaf node values to the internal nodes. A node’s value is
equal to the sum of its corresponding leaf nodes’ values.</p>
<p><code class="docutils literal notranslate"><span class="pre">Y_{all}</span> <span class="pre">=</span> <span class="pre">sum_matrix</span> <span class="pre">&#64;</span> <span class="pre">Y_{leaf}</span></code>
In our example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># 4   5   6   7   8   9   10  11  (leaf nodes)</span>
<span class="p">[[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="c1"># 0</span>
 <span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 1</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 2</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="c1"># 3</span>
 <span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 4</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 5</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 6</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 7</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 8</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 9</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 10</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]]</span> <span class="c1"># 11 (all nodes)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, shape (<code class="docutils literal notranslate"><span class="pre">self.num_nodes</span></code>, <code class="docutils literal notranslate"><span class="pre">self.num_leaf_nodes</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.leaf_projection_matrix">
<code class="sig-name descname">leaf_projection_matrix</code><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.leaf_projection_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Projection matrix to get leaf nodes. When applied to a matrix with the values for
all nodes, the projection matrix selects only the rows corresponding to leaf nodes.</p>
<p><code class="docutils literal notranslate"><span class="pre">Y_{leaf}</span> <span class="pre">=</span> <span class="pre">leaf_projection_matrix</span> <span class="pre">&#64;</span> <span class="pre">Y_{actual}</span></code>
In our example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># 0   1   2   3   4   5   6   7   8   9   10  11  (all nodes)</span>
<span class="p">[[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>  <span class="c1"># 4</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>  <span class="c1"># 5</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>  <span class="c1"># 6</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>  <span class="c1"># 7</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>  <span class="c1"># 8</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>  <span class="c1"># 9</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>  <span class="c1"># 10</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]]</span>  <span class="c1"># 11 (leaf nodes)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, shape (<code class="docutils literal notranslate"><span class="pre">self.num_leaf_nodes</span></code>, <code class="docutils literal notranslate"><span class="pre">self.num_nodes</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.bottom_up_transform">
<code class="sig-name descname">bottom_up_transform</code><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.bottom_up_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Bottom-up transformation matrix. When applied to a matrix with the values for
all nodes, returns values for every node by bubbling up leaf node values to the
internal nodes. The original values of internal nodes are ignored.</p>
<p><code class="docutils literal notranslate"><span class="pre">Y_{bu}</span> <span class="pre">=</span> <span class="pre">bottom_up_transform</span> <span class="pre">&#64;</span> <span class="pre">Y_{actual}</span></code>
Note that <code class="docutils literal notranslate"><span class="pre">bottom_up_transform</span> <span class="pre">=</span> <span class="pre">sum_matrix</span> <span class="pre">&#64;</span> <span class="pre">leaf_projection_matrix</span></code>.
In our example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># 0   1   2   3   4   5   6   7   8   9   10  11  (all nodes)</span>
<span class="p">[[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="c1"># 0</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 1</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 2</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="c1"># 3</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 4</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 5</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 6</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 7</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 8</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 9</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="c1"># 10</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]]</span> <span class="c1"># 11 (all nodes)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, shape (<code class="docutils literal notranslate"><span class="pre">self.num_nodes,</span></code> <code class="docutils literal notranslate"><span class="pre">self.num_nodes</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.constraint_matrix">
<code class="sig-name descname">constraint_matrix</code><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.constraint_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Constraint matrix representing hierarchical additive constraints, where a parent’s value
is equal the sum of its leaf nodes’ values.
<code class="docutils literal notranslate"><span class="pre">constraint_matrix</span> <span class="pre">&#64;</span> <span class="pre">Y_{all}</span> <span class="pre">=</span> <span class="pre">0</span></code> if <code class="docutils literal notranslate"><span class="pre">Y_{all}</span></code> satisfies the constraints.
In our example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#  0    1    2    3    4    5    6    7    8    9    10   11  (all nodes)</span>
<span class="p">[[</span><span class="o">-</span><span class="mf">1.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">],</span>  <span class="c1"># 0</span>
 <span class="p">[</span> <span class="mf">0.</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">],</span>  <span class="c1"># 1</span>
 <span class="p">[</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">],</span>  <span class="c1"># 2</span>
 <span class="p">[</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">]]</span>  <span class="c1"># 3 (internal nodes)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>, shape (<code class="docutils literal notranslate"><span class="pre">self.num_internal_nodes</span></code>, <code class="docutils literal notranslate"><span class="pre">self.num_nodes</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">get_level_of_node : callable</code></dt>
<dd><p>Returns a node’s level in the tree</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">get_child_nodes : callable</code></dt>
<dd><p>Returns the indices of a node’s children in the tree</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">__set_sum_matrix : callable</code></dt>
<dd><p>Constructs the summing matrix to compute values of all nodes from the leaf nodes.</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">__set_leaf_projection_matrix : callable</code></dt>
<dd><p>Constructs leaf projection matrix to retain only values of leaf nodes.</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname">__set_constraint_matrix : callable</code></dt>
<dd><p>Constructs constraint matrix that requires each parent’s
value to be the sum of its leaf node’s values.</p>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.get_level_of_node">
<code class="sig-name descname">get_level_of_node</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/reconcile/hierarchical_relationship.html#HierarchicalRelationship.get_level_of_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.get_level_of_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a node’s level in the tree.
Level is defined as the length of the path to the root.
The root is at level 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> (<em class="xref py py-obj">int</em>) – Index of the node.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>level</strong> – The level of the node in the tree.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.get_child_nodes">
<code class="sig-name descname">get_child_nodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/reconcile/hierarchical_relationship.html#HierarchicalRelationship.get_child_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.reconcile.hierarchical_relationship.HierarchicalRelationship.get_child_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the indices of a node’s children in the tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> (<em class="xref py py-obj">int</em>) – Index of the node.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>child_nodes</strong> – Indices of all the node’s children.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="utility-functions">
<h2>Utility Functions<a class="headerlink" href="#utility-functions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="greykite.common.features.timeseries_features.get_available_holiday_lookup_countries">
<code class="sig-prename descclassname">greykite.common.features.timeseries_features.</code><code class="sig-name descname">get_available_holiday_lookup_countries</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">countries</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/features/timeseries_features.html#get_available_holiday_lookup_countries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.features.timeseries_features.get_available_holiday_lookup_countries" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of available countries for modeling holidays</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>countries</strong> – List[str]
only look for available countries in this set</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[str]
list of available countries for modeling holidays</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.features.timeseries_features.get_available_holidays_across_countries">
<code class="sig-prename descclassname">greykite.common.features.timeseries_features.</code><code class="sig-name descname">get_available_holidays_across_countries</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">countries</span></em>, <em class="sig-param"><span class="n">year_start</span></em>, <em class="sig-param"><span class="n">year_end</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/features/timeseries_features.html#get_available_holidays_across_countries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.features.timeseries_features.get_available_holidays_across_countries" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of holidays that occur any of the countries
between the years specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>countries</strong> – List[str]
countries for which we need holidays</p></li>
<li><p><strong>year_start</strong> – int
first year of interest</p></li>
<li><p><strong>year_end</strong> – int
last year of interest</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[str]
names of holidays in any of the countries between [year_start, year_end]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.features.timeseries_features.build_time_features_df">
<code class="sig-prename descclassname">greykite.common.features.timeseries_features.</code><code class="sig-name descname">build_time_features_df</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dt</span></em>, <em class="sig-param"><span class="n">conti_year_origin</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/features/timeseries_features.html#build_time_features_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.features.timeseries_features.build_time_features_df" title="Permalink to this definition">¶</a></dt>
<dd><p>This function gets a datetime-like vector and creates new columns containing temporal
features useful for time series analysis and forecasting e.g. year, week of year, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dt</strong> (<em>array-like</em><em> (</em><em>1-dimensional</em><em>)</em>) – A vector of datetime-like values</p></li>
<li><p><strong>conti_year_origin</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The origin used for creating continuous time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>time_features_df</strong> –</p>
<p>Dataframe with the following time features.</p>
<blockquote>
<div><ul class="simple">
<li><p>”datetime”: <a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> object, a combination of date and a time</p></li>
<li><p>”date”: <a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.date" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.date</span></code></a> object, date with the format (year, month, day)</p></li>
<li><p>”year”: integer, year of the date e.g. 2018</p></li>
<li><p>”year_length”: integer, number of days in the year e.g. 365 or 366</p></li>
<li><p>”quarter”: integer, quarter of the date, 1, 2, 3, 4</p></li>
<li><p>”quarter_start”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DatetimeIndex</span></code></a>, date of beginning of the current quarter</p></li>
<li><p>”quarter_length”: integer, number of days in the quarter, 90/91 for Q1, 91 for Q2, 92 for Q3 and Q4</p></li>
<li><p>”month”: integer, month of the year, January=1, February=2, …, December=12</p></li>
<li><p>”month_length”: integer, number of days in the month, 28/ 29/ 30/ 31</p></li>
<li><p>”woy”: integer, ISO 8601 week of the year where a week starts from Monday, 1, 2, …, 53</p></li>
<li><p>”doy”: integer, ordinal day of the year, 1, 2, …, year_length</p></li>
<li><p>”doq”: integer, ordinal day of the quarter, 1, 2, …, quarter_length</p></li>
<li><p>”dom”: integer, ordinal day of the month, 1, 2, …, month_length</p></li>
<li><p>”dow”: integer, day of the week, Monday=1, Tuesday=2, …, Sunday=7</p></li>
<li><p>”str_dow”: string, day of the week as a string e.g. “1-Mon”, “2-Tue”, …, “7-Sun”</p></li>
<li><p>”str_doy”: string, day of the year e.g. “2020-03-20” for March 20, 2020</p></li>
<li><p>”hour”: integer, discrete hours of the datetime, 0, 1, …, 23</p></li>
<li><p>”minute”: integer, minutes of the datetime, 0, 1, …, 59</p></li>
<li><p>”second”: integer, seconds of the datetime, 0, 1, …, 3599</p></li>
<li><p>”year_month”: string, (year, month) e.g. “2020-03” for March 2020</p></li>
<li><p>”year_woy”: string, (year, week of year) e.g. “2020_42” for 42nd week of 2020</p></li>
<li><p>”month_dom”: string, (month, day of month) e.g. “02/20” for February 20th</p></li>
<li><p>”year_woy_dow”: string, (year, week of year, day of week) e.g. “2020_03_6” for Saturday of 3rd week in 2020</p></li>
<li><p>”woy_dow”: string, (week of year, day of week) e.g. “03_6” for Saturday of 3rd week</p></li>
<li><p>”dow_hr”: string, (day of week, hour) e.g. “4_09” for 9am on Thursday</p></li>
<li><p>”dow_hr_min”: string, (day of week, hour, minute) e.g. “4_09_10” for 9:10am on Thursday</p></li>
<li><p>”tod”: float, time of day, continuous, 0.0 to 24.0</p></li>
<li><p>”tow”: float, time of week, continuous, 0.0 to 7.0</p></li>
<li><p>”tom”: float, standardized time of month, continuous, 0.0 to 1.0</p></li>
<li><p>”toq”: float, time of quarter, continuous, 0.0 to 1.0</p></li>
<li><p>”toy”: float, standardized time of year, continuous, 0.0 to 1.0</p></li>
<li><p>”conti_year”: float, year in continuous time, eg 2018.5 means middle of the year 2018</p></li>
<li><p>”is_weekend”: boolean, weekend indicator, True for weekend, else False</p></li>
<li><p>”dow_grouped”: string, Monday-Thursday=1234-MTuWTh, Friday=5-Fri, Saturday=6-Sat, Sunday=7-Sun</p></li>
<li><p>”ct1”: float, linear growth based on conti_year_origin, -infinity to infinity</p></li>
<li><p>”ct2”: float, signed quadratic growth, -infinity to infinity</p></li>
<li><p>”ct3”: float, signed cubic growth, -infinity to infinity</p></li>
<li><p>”ct_sqrt”: float, signed square root growth, -infinity to infinity</p></li>
<li><p>”ct_root3”: float, signed cubic root growth, -infinity to infinity</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.features.timeseries_features.get_holidays">
<code class="sig-prename descclassname">greykite.common.features.timeseries_features.</code><code class="sig-name descname">get_holidays</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">countries</span></em>, <em class="sig-param"><span class="n">year_start</span></em>, <em class="sig-param"><span class="n">year_end</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/features/timeseries_features.html#get_holidays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.features.timeseries_features.get_holidays" title="Permalink to this definition">¶</a></dt>
<dd><p>This function extracts a holiday data frame for the period of interest
[year_start to year_end] for the given countries.
This is done using the holidays libraries in pypi:holidays-ext</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>countries</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]) – countries for which we need holidays</p></li>
<li><p><strong>year_start</strong> (<em class="xref py py-obj">int</em>) – first year of interest, inclusive</p></li>
<li><p><strong>year_end</strong> (<em class="xref py py-obj">int</em>) – last year of interest, inclusive</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>holiday_df_dict</strong> –</p>
<ul class="simple">
<li><p>key: country name</p></li>
<li><p>value: data frame with holidays for that country
Each data frame has two columns: EVENT_DF_DATE_COL, EVENT_DF_LABEL_COL</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.features.timeseries_features.add_event_window_multi">
<code class="sig-prename descclassname">greykite.common.features.timeseries_features.</code><code class="sig-name descname">add_event_window_multi</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event_df_dict</span></em>, <em class="sig-param"><span class="n">time_col</span></em>, <em class="sig-param"><span class="n">label_col</span></em>, <em class="sig-param"><span class="n">time_delta</span><span class="o">=</span><span class="default_value">'1D'</span></em>, <em class="sig-param"><span class="n">pre_num</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">post_num</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">pre_post_num_dict</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/features/timeseries_features.html#add_event_window_multi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.features.timeseries_features.add_event_window_multi" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given dictionary of events data frames with a time_col and label_col
it adds shifted events prior and after the given events
For example if the event data frame includes the row ‘2019-12-25, Christmas’ as a row
the function will produce dataframes with the events ‘2019-12-24, Christmas’ and ‘2019-12-26, Christmas’ if
pre_num and post_num are 1 or more.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event_df_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>]) – A dictionary of events data frames
with each having two columns: <code class="docutils literal notranslate"><span class="pre">time_col</span></code> and <code class="docutils literal notranslate"><span class="pre">label_col</span></code>.</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – The column with the timestamp of the events.
This can be daily but does not have to be.</p></li>
<li><p><strong>label_col</strong> (<em class="xref py py-obj">str</em>) – The column with labels for the events.</p></li>
<li><p><strong>time_delta</strong> (<em class="xref py py-obj">str</em>, default “1D”) – The amount of the shift for each unit specified by a string
e.g. ‘1D’ stands for one day delta</p></li>
<li><p><strong>pre_num</strong> (<em class="xref py py-obj">int</em>, default 1) – The number of events to be added prior to the given event for each event in df.</p></li>
<li><p><strong>post_num</strong> (<em class="xref py py-obj">int</em>, default 1) – The number of events to be added after to the given event for each event in df.</p></li>
<li><p><strong>pre_post_num_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, (<em class="xref py py-obj">int</em>, <em class="xref py py-obj">int</em>)] or None, default None) – Optionally override <code class="docutils literal notranslate"><span class="pre">pre_num</span></code> and <code class="docutils literal notranslate"><span class="pre">post_num</span></code> for each key in <code class="docutils literal notranslate"><span class="pre">event_df_dict</span></code>.
For example, if <code class="docutils literal notranslate"><span class="pre">event_df_dict</span></code> has keys “US” and “India”, this parameter
can be set to <code class="docutils literal notranslate"><span class="pre">pre_post_num_dict</span> <span class="pre">=</span> <span class="pre">{&quot;US&quot;:</span> <span class="pre">[1,</span> <span class="pre">3],</span> <span class="pre">&quot;India&quot;:</span> <span class="pre">[1,</span> <span class="pre">2]}</span></code>,
denoting that the “US” <code class="docutils literal notranslate"><span class="pre">pre_num</span></code> is 1 and <code class="docutils literal notranslate"><span class="pre">post_num</span></code> is 3, and “India” <code class="docutils literal notranslate"><span class="pre">pre_num</span></code> is 1
and <code class="docutils literal notranslate"><span class="pre">post_num</span></code> is 2. Keys not specified by <code class="docutils literal notranslate"><span class="pre">pre_post_num_dict</span></code> use the default given by
<code class="docutils literal notranslate"><span class="pre">pre_num</span></code> and <code class="docutils literal notranslate"><span class="pre">post_num</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df</strong> – A dictionary of dataframes for each needed shift. For example if pre_num=2 and post_num=3.
2 + 3 = 5 data frames will be stored in the return dictionary.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.features.timeseries_features.add_daily_events">
<code class="sig-prename descclassname">greykite.common.features.timeseries_features.</code><code class="sig-name descname">add_daily_events</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">event_df_dict</span></em>, <em class="sig-param"><span class="n">date_col</span><span class="o">=</span><span class="default_value">'date'</span></em>, <em class="sig-param"><span class="n">regular_day_label</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/features/timeseries_features.html#add_daily_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.features.timeseries_features.add_daily_events" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>For each key of event_df_dict, it adds a new column to a data frame (df)</dt><dd><p>with a date column (date_col).
Each new column will represent the events given for that key.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>As a side effect, the columns in <code class="docutils literal notranslate"><span class="pre">event_df_dict</span></code> are renamed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which has a date column.</p></li>
<li><p><strong>event_df_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>]) – <p>A dictionary of data frames, each representing events data
for the corresponding key.
Values are DataFrames with two columns:</p>
<blockquote>
<div><ul>
<li><p>The first column contains the date. Must be at the same
frequency as <code class="docutils literal notranslate"><span class="pre">df[date_col]</span></code> for proper join. Must be in a
format recognized by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.to_datetime.html#pandas.to_datetime" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.to_datetime</span></code></a>.</p></li>
<li><p>The second column contains the event label for each date</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>date_col</strong> (<em class="xref py py-obj">str</em>) – Column name in <code class="docutils literal notranslate"><span class="pre">df</span></code> that contains the dates for joining against
the events in <code class="docutils literal notranslate"><span class="pre">event_df_dict</span></code>.</p></li>
<li><p><strong>regular_day_label</strong> (<em class="xref py py-obj">str</em>) – The label used for regular days which are not “events”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df_daily_events</strong> – An augmented data frame version of df with new label columns –
one for each key of <code class="docutils literal notranslate"><span class="pre">event_df_dict</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.features.timeseries_features.convert_date_to_continuous_time">
<code class="sig-prename descclassname">greykite.common.features.timeseries_features.</code><code class="sig-name descname">convert_date_to_continuous_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dt</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/features/timeseries_features.html#convert_date_to_continuous_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.features.timeseries_features.convert_date_to_continuous_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts date to continuous time. Each year is one unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dt</strong> (<em>datetime object</em>) – the date to convert</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>conti_date</strong> – the date represented in years</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite_helper.get_event_pred_cols">
<code class="sig-prename descclassname">greykite.algo.forecast.silverkite.forecast_simple_silverkite_helper.</code><code class="sig-name descname">get_event_pred_cols</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">daily_event_df_dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_simple_silverkite_helper.html#get_event_pred_cols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite_helper.get_event_pred_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the names of internal predictor columns from
the event dictionary passed to
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.
These can be passed via the <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> parameter to model event effects.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The returned strings are patsy model formula terms.
Each provides full set of levels so that prediction works even if a
level is not found in the training set.</p>
<p>If a level does not appear in the training set, its coefficient may
be unbounded in the “linear” fit_algorithm. A method with regularization
avoids this issue (e.g. “ridge”, “elastic_net”).</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>daily_event_df_dict</strong> (<em class="xref py py-obj">dict</em> or None, optional, default None) – A dictionary of data frames, each representing events data for the corresponding key.
See <a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>event_pred_cols</strong> – List of patsy model formula terms, one for each
key of <code class="docutils literal notranslate"><span class="pre">daily_event_df_dict</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.framework.pipeline.utils.get_basic_pipeline">
<code class="sig-prename descclassname">greykite.framework.pipeline.utils.</code><code class="sig-name descname">get_basic_pipeline</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">estimator</span><span class="o">=</span><span class="default_value">SimpleSilverkiteEstimator()</span></em>, <em class="sig-param"><span class="n">score_func</span><span class="o">=</span><span class="default_value">'MeanAbsolutePercentError'</span></em>, <em class="sig-param"><span class="n">score_func_greater_is_better</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">agg_periods</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">relative_error_tolerance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">coverage</span><span class="o">=</span><span class="default_value">0.95</span></em>, <em class="sig-param"><span class="n">null_model_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">regressor_cols</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lagged_regressor_cols</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/pipeline/utils.html#get_basic_pipeline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.pipeline.utils.get_basic_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a basic pipeline for univariate forecasting.
Allows for outlier detection, normalization, null imputation,
degenerate column removal, and forecast model fitting. By default,
only null imputation is enabled. See source code for the pipeline steps.</p>
<p class="rubric">Notes</p>
<p>While <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is used to define the estimator’s score function, the
the <code class="docutils literal notranslate"><span class="pre">scoring</span></code> parameter of <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomizedSearchCV</span></code></a>
should be provided when using this pipeline in grid search.
Otherwise, grid search assumes higher values are better for <code class="docutils literal notranslate"><span class="pre">score_func</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>estimator</strong> (instance of an estimator that implements <code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.sklearn.estimator.base_forecast_estimator.BaseForecastEstimator</span></code>, default SimpleSilverkiteEstimator()  # noqa: E501) – Estimator to use as the final step in the pipeline.</p></li>
<li><p><strong>score_func</strong> (<em class="xref py py-obj">str</em> or callable, default <code class="docutils literal notranslate"><span class="pre">EvaluationMetricEnum.MeanAbsolutePercentError.name</span></code>) – Score function used to select optimal model in CV.
If a callable, takes arrays <code class="docutils literal notranslate"><span class="pre">y_true</span></code>, <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> and returns a float.
If a string, must be either a
<a class="reference internal" href="#greykite.common.evaluation.EvaluationMetricEnum" title="greykite.common.evaluation.EvaluationMetricEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code></a> member name
or <a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>.</p></li>
<li><p><strong>score_func_greater_is_better</strong> (<em class="xref py py-obj">bool</em>, default False) – True if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a score function, meaning higher is better,
and False if it is a loss function, meaning lower is better.
Must be provided if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a callable (custom function).
Ignored if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a string, because the direction is known.</p></li>
<li><p><strong>agg_periods</strong> (<em class="xref py py-obj">int</em> or None, default None) – Number of periods to aggregate before evaluation.
Model is fit at original frequency, and forecast is
aggregated according to <code class="docutils literal notranslate"><span class="pre">agg_periods</span></code>
E.g. fit model on hourly data, and evaluate performance at daily level
If None, does not apply aggregation</p></li>
<li><p><strong>agg_func</strong> (<em>callable</em><em> or </em><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a><em>, </em><em>default None</em>) – Takes an array and returns a number, e.g. np.max, np.sum
Used to aggregate data prior to evaluation (applied to actual and predicted)
Ignored if <code class="docutils literal notranslate"><span class="pre">agg_periods</span></code> is None</p></li>
<li><p><strong>relative_error_tolerance</strong> (<em class="xref py py-obj">float</em> or None, default None) – Threshold to compute the
<a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>
metric, defined as the fraction of forecasted values whose relative
error is strictly greater than <code class="docutils literal notranslate"><span class="pre">relative_error_tolerance</span></code>.
For example, 0.05 allows for 5% relative error.
Required if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is
<a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>.</p></li>
<li><p><strong>coverage</strong> (<em class="xref py py-obj">float</em> or None, default=0.95) – Intended coverage of the prediction bands (0.0 to 1.0)
If None, the upper/lower predictions are not returned
Ignored if <em class="xref py py-obj">pipeline</em> is provided. Uses coverage of the <code class="docutils literal notranslate"><span class="pre">pipeline</span></code> estimator instead.</p></li>
<li><p><strong>null_model_params</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>Defines baseline model to compute <code class="docutils literal notranslate"><span class="pre">R2_null_model_score</span></code> evaluation metric.
<code class="docutils literal notranslate"><span class="pre">R2_null_model_score</span></code> is the improvement in the loss function relative
to a null model. It can be used to evaluate model quality with respect to
a simple baseline. For details, see
<a class="reference internal" href="#greykite.common.evaluation.r2_null_model_score" title="greykite.common.evaluation.r2_null_model_score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">r2_null_model_score</span></code></a>.</p>
<p>The null model is a <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.dummy.DummyRegressor.html#sklearn.dummy.DummyRegressor" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DummyRegressor</span></code></a>,
which returns constant predictions.</p>
<p>Valid keys are “strategy”, “constant”, “quantile”.
See <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.dummy.DummyRegressor.html#sklearn.dummy.DummyRegressor" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DummyRegressor</span></code></a>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">null_model_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;strategy&quot;</span><span class="p">:</span> <span class="s2">&quot;mean&quot;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">null_model_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;strategy&quot;</span><span class="p">:</span> <span class="s2">&quot;median&quot;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">null_model_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;strategy&quot;</span><span class="p">:</span> <span class="s2">&quot;quantile&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quantile&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">null_model_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;strategy&quot;</span><span class="p">:</span> <span class="s2">&quot;constant&quot;</span><span class="p">,</span>
    <span class="s2">&quot;constant&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If None, <code class="docutils literal notranslate"><span class="pre">R2_null_model_score</span></code> is not calculated.</p>
<p>Note: CV model selection always optimizes <code class="docutils literal notranslate"><span class="pre">score_func`,</span> <span class="pre">not</span>
<span class="pre">the</span> <span class="pre">``R2_null_model_score</span></code>.</p>
</p></li>
<li><p><strong>regressor_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – A list of regressor columns used in the training and prediction DataFrames.
It should contain only the regressors that are being used in the grid search.
If None, no regressor columns are used.
Regressor columns that are unavailable in <code class="docutils literal notranslate"><span class="pre">df</span></code> are dropped.</p></li>
<li><p><strong>lagged_regressor_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – A list of additional columns needed for lagged regressors in the training and prediction DataFrames.
This list can have overlap with <code class="docutils literal notranslate"><span class="pre">regressor_cols</span></code>.
If None, no additional columns are added to the DataFrame.
Lagged regressor columns that are unavailable in <code class="docutils literal notranslate"><span class="pre">df</span></code> are dropped.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pipeline</strong> – sklearn Pipeline for univariate forecasting.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline.Pipeline</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.framework.utils.result_summary.summarize_grid_search_results">
<code class="sig-prename descclassname">greykite.framework.utils.result_summary.</code><code class="sig-name descname">summarize_grid_search_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid_search</span></em>, <em class="sig-param"><span class="n">only_changing_params</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">combine_splits</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">decimals</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">score_func</span><span class="o">=</span><span class="default_value">'MeanAbsolutePercentError'</span></em>, <em class="sig-param"><span class="n">score_func_greater_is_better</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cv_report_metrics</span><span class="o">=</span><span class="default_value">'ALL'</span></em>, <em class="sig-param"><span class="n">column_order</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/utils/result_summary.html#summarize_grid_search_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.utils.result_summary.summarize_grid_search_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarizes CV results for each grid search parameter combination.</p>
<p>While <code class="docutils literal notranslate"><span class="pre">grid_search.cv_results_</span></code> could be imported into
a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> without this function, the following conveniences
are provided:</p>
<blockquote>
<div><ul class="simple">
<li><p>returns the correct ranks based on each metric’s greater_is_better direction.</p></li>
<li><p>summarizes the hyperparameter space, only showing the parameters that change</p></li>
<li><p>combines split scores into a tuple to save table width</p></li>
<li><p>rounds the values to specified decimals</p></li>
<li><p>orders columns by type (test score, train score, metric, etc.)</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid_search</strong> (<a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomizedSearchCV</span></code></a>) – Grid search output (fitted RandomizedSearchCV object).</p></li>
<li><p><strong>only_changing_params</strong> (<em class="xref py py-obj">bool</em>, default True) – If True, only show parameters with multiple values in
the hyperparameter_grid.</p></li>
<li><p><strong>combine_splits</strong> (<em class="xref py py-obj">bool</em>, default True) – <p>Whether to report split scores as a tuple in a single column.</p>
<blockquote>
<div><ul>
<li><p>If True, adds a column for the test splits scores for each
requested metric. Adds a column with train split scores if those
are available.</p>
<p>For example, “split_train_score” would contain the values
(split1_train_score, split2_train_score, split3_train_score)
as as tuple.</p>
</li>
<li><p>If False, this summary column is not added.</p></li>
</ul>
</div></blockquote>
<p>The original split columns are available either way.</p>
</p></li>
<li><p><strong>decimals</strong> (<em class="xref py py-obj">int</em> or None, default None) – Number of decimal places to round to.
If decimals is negative, it specifies the number of
positions to the left of the decimal point.
If None, does not round.</p></li>
<li><p><strong>score_func</strong> (<em class="xref py py-obj">str</em> or callable, default <code class="docutils literal notranslate"><span class="pre">EvaluationMetricEnum.MeanAbsolutePercentError.name</span></code>) – <p>Score function used to select optimal model in CV.
If a callable, takes arrays <code class="docutils literal notranslate"><span class="pre">y_true</span></code>, <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> and returns a float.
If a string, must be either a
<a class="reference internal" href="#greykite.common.evaluation.EvaluationMetricEnum" title="greykite.common.evaluation.EvaluationMetricEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code></a> member name
or <a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>.</p>
<p>Used in this function to fix the <code class="docutils literal notranslate"><span class="pre">&quot;rank_test_score&quot;</span></code> column if
<code class="docutils literal notranslate"><span class="pre">score_func_greater_is_better=False</span></code>.</p>
<p>Should be the same as what was passed to
<a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>,
or <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>,
or <a class="reference internal" href="#greykite.framework.pipeline.utils.get_hyperparameter_searcher" title="greykite.framework.pipeline.utils.get_hyperparameter_searcher"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_hyperparameter_searcher</span></code></a>.</p>
</p></li>
<li><p><strong>score_func_greater_is_better</strong> (<em class="xref py py-obj">bool</em>, default False) – <p>True if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a score function, meaning higher is better,
and False if it is a loss function, meaning lower is better.
Must be provided if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a callable (custom function).
Ignored if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a string, because the direction is known.</p>
<p>Used in this function to fix the <code class="docutils literal notranslate"><span class="pre">&quot;rank_test_score&quot;</span></code> column if
<code class="docutils literal notranslate"><span class="pre">score_func_greater_is_better=False</span></code>.</p>
<p>Should be the same as what was passed to
<a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>,
or <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>,
or <a class="reference internal" href="#greykite.framework.pipeline.utils.get_hyperparameter_searcher" title="greykite.framework.pipeline.utils.get_hyperparameter_searcher"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_hyperparameter_searcher</span></code></a>.</p>
</p></li>
<li><p><strong>cv_report_metrics</strong> (<a class="reference internal" href="#greykite.framework.constants.CV_REPORT_METRICS_ALL" title="greykite.framework.constants.CV_REPORT_METRICS_ALL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CV_REPORT_METRICS_ALL</span></code></a>, or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], or None, default <em class="xref py py-obj">CV_REPORT_METRICS_ALL</em>  # noqa: E501) – <p>Additional metrics to show in the summary, besides the one specified by <code class="docutils literal notranslate"><span class="pre">score_func</span></code>.</p>
<p>If a metric is specified but not available, a warning will be given.</p>
<p>Should be the same as what was passed to
<a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>,
or <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>,
or <a class="reference internal" href="#greykite.framework.pipeline.utils.get_hyperparameter_searcher" title="greykite.framework.pipeline.utils.get_hyperparameter_searcher"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_hyperparameter_searcher</span></code></a>,
or a subset of computed metric to show.</p>
<p>If a list of strings, valid strings are
<a class="reference internal" href="#greykite.common.evaluation.EvaluationMetricEnum" title="greykite.common.evaluation.EvaluationMetricEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.common.evaluation.EvaluationMetricEnum</span></code></a> member names
and <a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>.</p>
</p></li>
<li><p><strong>column_order</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – <p>How to order the columns.
A list of regex to order column names, in greedy fashion. Column names matching
the first item are placed first. Among remaining items, those matching the second
items are placed next, etc.
Use “*” as the last element to select all available columns, if desired.
If None, uses default ordering:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;rank_test&quot;</span><span class="p">,</span> <span class="s2">&quot;mean_test&quot;</span><span class="p">,</span> <span class="s2">&quot;split_test&quot;</span><span class="p">,</span> <span class="s2">&quot;mean_train&quot;</span><span class="p">,</span>
                <span class="s2">&quot;params&quot;</span><span class="p">,</span> <span class="s2">&quot;param&quot;</span><span class="p">,</span> <span class="s2">&quot;split_train&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;.*&quot;</span><span class="p">]</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Metrics are named in <code class="docutils literal notranslate"><span class="pre">grid_search.cv_results_</span></code> according to the <code class="docutils literal notranslate"><span class="pre">scoring</span></code>
parameter passed to <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomizedSearchCV</span></code></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;score&quot;</span></code> is the default used by sklearn for single metric
evaluation.</p>
<p>If a dictionary is provided to <code class="docutils literal notranslate"><span class="pre">scoring</span></code>, as is the case through
templates, then the metrics are named by its keys, and the
metric used for selection is defined by <code class="docutils literal notranslate"><span class="pre">refit</span></code>. The keys
are derived from <code class="docutils literal notranslate"><span class="pre">score_func</span></code> and <code class="docutils literal notranslate"><span class="pre">cv_report_metrics</span></code>
in <a class="reference internal" href="#greykite.framework.pipeline.utils.get_scoring_and_refit" title="greykite.framework.pipeline.utils.get_scoring_and_refit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_scoring_and_refit</span></code></a>.</p>
<blockquote>
<div><ul class="simple">
<li><p>The key for <code class="docutils literal notranslate"><span class="pre">score_func</span></code> if it is a callable is
<em class="xref py py-obj">CUSTOM_SCORE_FUNC_NAME</em>.</p></li>
<li><p>The key for <code class="docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code> member name is the short name
from <code class="docutils literal notranslate"><span class="pre">.get_metric_name()</span></code>.</p></li>
<li><p>The key for <a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>
is <em class="xref py py-obj">FRACTION_OUTSIDE_TOLERANCE_NAME</em>.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>cv_results</strong> – A summary of cross-validation results in tabular format.
Each row corresponds to a set of parameters used in the grid search.</p>
<p>The columns have the following format, where name is the canonical short
name for the metric.</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;rank_test_{name}&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>The params ranked by mean_test_score (1 is best).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;mean_test_{name}&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Average test score.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;split_test_{name}&quot;</span></code><span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>]</span></dt><dd><p>Test score on each split. [split 0, split 1, …]</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;std_test_{name}&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Standard deviation of test scores.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;mean_train_{name}&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Average train score.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;split_train_{name}&quot;</span></code><span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>]</span></dt><dd><p>Train score on each split. [split 0, split 1, …]</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;std_train_{name}&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Standard deviation of train scores.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;mean_fit_time&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Average time to fit each CV split (in seconds)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;std_fit_time&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Std of time to fit each CV split (in seconds)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;mean_score_time&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Average time to score each CV split (in seconds)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;std_score_time&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Std of time to score each CV split (in seconds)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;params&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict</em></span></dt><dd><p>The parameters used. If <code class="docutils literal notranslate"><span class="pre">only_changing==True</span></code>,
only shows the parameters which are not identical
across all CV splits.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;param_{pipeline__param__name}&quot;</span></code><span class="classifier">Any</span></dt><dd><p>The value of pipeline parameter <em class="xref py py-obj">pipeline__param__name</em>
for each row.</p>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.framework.utils.result_summary.get_ranks_and_splits">
<code class="sig-prename descclassname">greykite.framework.utils.result_summary.</code><code class="sig-name descname">get_ranks_and_splits</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid_search</span></em>, <em class="sig-param"><span class="n">score_func</span><span class="o">=</span><span class="default_value">'MeanAbsolutePercentError'</span></em>, <em class="sig-param"><span class="n">greater_is_better</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">combine_splits</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">decimals</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">warn_metric</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/utils/result_summary.html#get_ranks_and_splits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.utils.result_summary.get_ranks_and_splits" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts CV results from <code class="docutils literal notranslate"><span class="pre">grid_search</span></code> for the specified score function.
Returns the correct ranks on the test set and a tuple of the scores across splits,
for both test set and train set (if available).</p>
<p class="rubric">Notes</p>
<p>While <code class="docutils literal notranslate"><span class="pre">cv_results</span></code> contains keys with the ranks, these ranks are inverted
if lower values are better and the <code class="docutils literal notranslate"><span class="pre">scoring</span></code> function was initialized
with <code class="docutils literal notranslate"><span class="pre">greater_is_better=True</span></code> to report metrics with their original sign.</p>
<p>This function always returns the correct ranks, accounting for metric direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid_search</strong> (<a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomizedSearchCV</span></code></a>) – Grid search output (fitted RandomizedSearchCV object).</p></li>
<li><p><strong>score_func</strong> (<em class="xref py py-obj">str</em> or callable, default <code class="docutils literal notranslate"><span class="pre">EvaluationMetricEnum.MeanAbsolutePercentError.name</span></code>) – <p>Score function to get the ranks for.
If a callable, takes arrays <code class="docutils literal notranslate"><span class="pre">y_true</span></code>, <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> and returns a float.
If a string, must be either a
<a class="reference internal" href="#greykite.common.evaluation.EvaluationMetricEnum" title="greykite.common.evaluation.EvaluationMetricEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code></a> member name
or <a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>.</p>
<p>Should be the same as what was passed to
<a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>,
or <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>,
or <a class="reference internal" href="#greykite.framework.pipeline.utils.get_hyperparameter_searcher" title="greykite.framework.pipeline.utils.get_hyperparameter_searcher"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_hyperparameter_searcher</span></code></a>.</p>
</p></li>
<li><p><strong>greater_is_better</strong> (<em class="xref py py-obj">bool</em> or None, default False) – <p>True if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a score function, meaning higher is better,
and False if it is a loss function, meaning lower is better.
Must be provided if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a callable (custom function).
Ignored if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a string, because the direction is known.</p>
<p>Used in this function to rank values in the proper direction.</p>
<p>Should be the same as what was passed to
<a class="reference internal" href="#greykite.framework.templates.forecaster.Forecaster.run_forecast_config" title="greykite.framework.templates.forecaster.Forecaster.run_forecast_config"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_forecast_config</span></code></a>,
or <a class="reference internal" href="#greykite.framework.pipeline.pipeline.forecast_pipeline" title="greykite.framework.pipeline.pipeline.forecast_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast_pipeline</span></code></a>,
or <a class="reference internal" href="#greykite.framework.pipeline.utils.get_hyperparameter_searcher" title="greykite.framework.pipeline.utils.get_hyperparameter_searcher"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_hyperparameter_searcher</span></code></a>.</p>
</p></li>
<li><p><strong>combine_splits</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether to report split scores as a tuple in a single column.
If True, a single column is returned for all the splits
of a given metric and train/test set.
For example, “split_train_score” would contain the values
(split1_train_score, split2_train_score, split3_train_score)
as as tuple.
If False, they are reported in their original columns.</p></li>
<li><p><strong>decimals</strong> (<em class="xref py py-obj">int</em> or None, default None) – Number of decimal places to round to.
If decimals is negative, it specifies the number of
positions to the left of the decimal point.
If None, does not round.</p></li>
<li><p><strong>warn_metric</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether to issue a warning if the requested metric is
not found in the CV results.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>ranks_and_splits</strong> – Ranks and split scores.
Dictionary with the following keys:</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;short_name&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Canonical short name for the <code class="docutils literal notranslate"><span class="pre">score_func</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;ranks&quot;</span></code><span class="classifier"><a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a></span></dt><dd><p>Ranks of the test scores for the <code class="docutils literal notranslate"><span class="pre">score_func</span></code>,
where 1 is the best.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;split_train&quot;</span></code><span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>]]</span></dt><dd><p>Train split scores. Outer list corresponds to the
parameter setting; inner list contains the
scores for that parameter setting across all splits.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;split_test&quot;</span></code><span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>]]</span></dt><dd><p>Test split scores. Outer list corresponds to the
parameter setting; inner list contains the
scores for that parameter setting across all splits.</p>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.viz.timeseries_plotting.plot_multivariate">
<code class="sig-prename descclassname">greykite.common.viz.timeseries_plotting.</code><code class="sig-name descname">plot_multivariate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">x_col</span></em>, <em class="sig-param"><span class="n">y_col_style_dict</span><span class="o">=</span><span class="default_value">'plotly'</span></em>, <em class="sig-param"><span class="n">default_color</span><span class="o">=</span><span class="default_value">'rgba(0, 145, 202, 1.0)'</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">showlegend</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/viz/timeseries_plotting.html#plot_multivariate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.viz.timeseries_plotting.plot_multivariate" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots one or more lines against the same x-axis values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Data frame with <code class="docutils literal notranslate"><span class="pre">x_col</span></code> and columns named by the keys in <code class="docutils literal notranslate"><span class="pre">y_col_style_dict</span></code>.</p></li>
<li><p><strong>x_col</strong> (<em class="xref py py-obj">str</em>) – Which column to plot on the x-axis.</p></li>
<li><p><strong>y_col_style_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">dict</em> or None] or “plotly” or “auto” or “auto-fill”, default “plotly”) – <p>The column(s) to plot on the y-axis, and how to style them.</p>
<p>If a dictionary:</p>
<blockquote>
<div><ul>
<li><dl>
<dt>key<span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>column name in <code class="docutils literal notranslate"><span class="pre">df</span></code></p>
</dd>
</dl>
</li>
<li><dl>
<dt>value<span class="classifier"><em class="xref py py-obj">dict</em> or None</span></dt><dd><p>Optional styling options, passed as kwargs to <code class="xref py py-obj docutils literal notranslate"><span class="pre">go.Scatter</span></code>.
If None, uses the default: line labeled by the column name.
See reference page for <a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Scatter" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Scatter</span></code></a> for options
(e.g. color, mode, width/size, opacity).
<a class="reference external" href="https://plotly.com/python/reference/#scatter">https://plotly.com/python/reference/#scatter</a>.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>If a string, plots all columns in <code class="docutils literal notranslate"><span class="pre">df</span></code> besides <code class="docutils literal notranslate"><span class="pre">x_col</span></code> against <code class="docutils literal notranslate"><span class="pre">x_col</span></code>:</p>
<blockquote>
<div><ul>
<li><p>”plotly”: plot lines with default plotly styling</p></li>
<li><p>”auto”: plot lines with color <code class="docutils literal notranslate"><span class="pre">default_color</span></code>, sorted by value (ascending)</p></li>
<li><p>”auto-fill”: plot lines with color <code class="docutils literal notranslate"><span class="pre">default_color</span></code>, sorted by value (ascending), and fills between lines</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>default_color</strong> (<em class="xref py py-obj">str</em>, default “rgba(0, 145, 202, 1.0)” (blue)) – Default line color when <code class="docutils literal notranslate"><span class="pre">y_col_style_dict</span></code> is one of “auto”, “auto-fill”.</p></li>
<li><p><strong>xlabel</strong> (<em class="xref py py-obj">str</em> or None, default None) – x-axis label. If None, default is <code class="docutils literal notranslate"><span class="pre">x_col</span></code>.</p></li>
<li><p><strong>ylabel</strong> (<em class="xref py py-obj">str</em> or None, default <code class="docutils literal notranslate"><span class="pre">VALUE_COL</span></code>) – y-axis label</p></li>
<li><p><strong>title</strong> (<em class="xref py py-obj">str</em> or None, default None) – Plot title. If None, default is based on axis labels.</p></li>
<li><p><strong>showlegend</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether to show the legend.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>fig</strong> – Interactive plotly graph of one or more columns
in <code class="docutils literal notranslate"><span class="pre">df</span></code> against <code class="docutils literal notranslate"><span class="pre">x_col</span></code>.</p>
<p>See <a class="reference internal" href="#greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual" title="greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_forecast_vs_actual</span></code></a>
return value for how to plot the figure and add customization.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.viz.timeseries_plotting.plot_univariate">
<code class="sig-prename descclassname">greykite.common.viz.timeseries_plotting.</code><code class="sig-name descname">plot_univariate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">x_col</span></em>, <em class="sig-param"><span class="n">y_col</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'rgb(32, 149, 212)'</span></em>, <em class="sig-param"><span class="n">showlegend</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/viz/timeseries_plotting.html#plot_univariate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.viz.timeseries_plotting.plot_univariate" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple plot of univariate timeseries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Data frame with <code class="docutils literal notranslate"><span class="pre">x_col</span></code> and <code class="docutils literal notranslate"><span class="pre">y_col</span></code></p></li>
<li><p><strong>x_col</strong> (<em class="xref py py-obj">str</em>) – x-axis column name, usually the time column</p></li>
<li><p><strong>y_col</strong> (<em class="xref py py-obj">str</em>) – y-axis column name, the value the plot</p></li>
<li><p><strong>xlabel</strong> (<em class="xref py py-obj">str</em> or None, default None) – x-axis label</p></li>
<li><p><strong>ylabel</strong> (<em class="xref py py-obj">str</em> or None, default None) – y-axis label</p></li>
<li><p><strong>title</strong> (<em class="xref py py-obj">str</em> or None, default None) – Plot title. If None, default is based on axis labels.</p></li>
<li><p><strong>color</strong> (<em class="xref py py-obj">str</em>, default “rgb(32, 149, 212)” (light blue)) – Line color</p></li>
<li><p><strong>showlegend</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether to show the legend</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>fig</strong> – Interactive plotly graph of the value against time.</p>
<p>See <a class="reference internal" href="#greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual" title="greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_forecast_vs_actual</span></code></a>
return value for how to plot the figure and add customization.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>Provides more styling options. Also consider using plotly’s <code class="xref py py-obj docutils literal notranslate"><span class="pre">go.Scatter</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">go.Layout</span></code> directly.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual">
<code class="sig-prename descclassname">greykite.common.viz.timeseries_plotting.</code><code class="sig-name descname">plot_forecast_vs_actual</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="o">=</span><span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">actual_col</span><span class="o">=</span><span class="default_value">'actual'</span></em>, <em class="sig-param"><span class="n">predicted_col</span><span class="o">=</span><span class="default_value">'forecast'</span></em>, <em class="sig-param"><span class="n">predicted_lower_col</span><span class="o">=</span><span class="default_value">'forecast_lower'</span></em>, <em class="sig-param"><span class="n">predicted_upper_col</span><span class="o">=</span><span class="default_value">'forecast_upper'</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="o">=</span><span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">train_end_date</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">showlegend</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">actual_mode</span><span class="o">=</span><span class="default_value">'lines+markers'</span></em>, <em class="sig-param"><span class="n">actual_points_color</span><span class="o">=</span><span class="default_value">'rgba(250, 43, 20, 0.7)'</span></em>, <em class="sig-param"><span class="n">actual_points_size</span><span class="o">=</span><span class="default_value">2.0</span></em>, <em class="sig-param"><span class="n">actual_color_opacity</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">forecast_curve_color</span><span class="o">=</span><span class="default_value">'rgba(0, 90, 181, 0.7)'</span></em>, <em class="sig-param"><span class="n">forecast_curve_dash</span><span class="o">=</span><span class="default_value">'solid'</span></em>, <em class="sig-param"><span class="n">ci_band_color</span><span class="o">=</span><span class="default_value">'rgba(0, 90, 181, 0.15)'</span></em>, <em class="sig-param"><span class="n">ci_boundary_curve_color</span><span class="o">=</span><span class="default_value">'rgba(0, 90, 181, 0.5)'</span></em>, <em class="sig-param"><span class="n">ci_boundary_curve_width</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">vertical_line_color</span><span class="o">=</span><span class="default_value">'rgba(100, 100, 100, 0.9)'</span></em>, <em class="sig-param"><span class="n">vertical_line_width</span><span class="o">=</span><span class="default_value">1.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/viz/timeseries_plotting.html#plot_forecast_vs_actual"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.viz.timeseries_plotting.plot_forecast_vs_actual" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots forecast with prediction intervals, against actuals
Adapted from plotly user guide:
<a class="reference external" href="https://plot.ly/python/v3/continuous-error-bars/#basic-continuous-error-bars">https://plot.ly/python/v3/continuous-error-bars/#basic-continuous-error-bars</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Timestamp, predicted, and actual values</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>, default <a class="reference internal" href="#greykite.common.constants.TIME_COL" title="greykite.common.constants.TIME_COL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TIME_COL</span></code></a>) – Column in df with timestamp (x-axis)</p></li>
<li><p><strong>actual_col</strong> (<em class="xref py py-obj">str</em>, default <a class="reference internal" href="#greykite.common.constants.ACTUAL_COL" title="greykite.common.constants.ACTUAL_COL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ACTUAL_COL</span></code></a>) – Column in df with actual values</p></li>
<li><p><strong>predicted_col</strong> (<em class="xref py py-obj">str</em>, default <a class="reference internal" href="#greykite.common.constants.PREDICTED_COL" title="greykite.common.constants.PREDICTED_COL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PREDICTED_COL</span></code></a>) – Column in df with predicted values</p></li>
<li><p><strong>predicted_lower_col</strong> (<em class="xref py py-obj">str</em> or None, default <a class="reference internal" href="#greykite.common.constants.PREDICTED_LOWER_COL" title="greykite.common.constants.PREDICTED_LOWER_COL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PREDICTED_LOWER_COL</span></code></a>) – Column in df with predicted lower bound</p></li>
<li><p><strong>predicted_upper_col</strong> (<em class="xref py py-obj">str</em> or None, default <a class="reference internal" href="#greykite.common.constants.PREDICTED_UPPER_COL" title="greykite.common.constants.PREDICTED_UPPER_COL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PREDICTED_UPPER_COL</span></code></a>) – Column in df with predicted upper bound</p></li>
<li><p><strong>xlabel</strong> (<em class="xref py py-obj">str</em>, default <a class="reference internal" href="#greykite.common.constants.TIME_COL" title="greykite.common.constants.TIME_COL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TIME_COL</span></code></a>) – x-axis label.</p></li>
<li><p><strong>ylabel</strong> (<em class="xref py py-obj">str</em>, default <a class="reference internal" href="#greykite.common.constants.VALUE_COL" title="greykite.common.constants.VALUE_COL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VALUE_COL</span></code></a>) – y-axis label.</p></li>
<li><p><strong>train_end_date</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> or None, default None) – Train end date.
Must be a value in <code class="docutils literal notranslate"><span class="pre">df[time_col]</span></code>.</p></li>
<li><p><strong>title</strong> (<em class="xref py py-obj">str</em> or None, default None) – Plot title.</p></li>
<li><p><strong>showlegend</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether to show a plot legend.</p></li>
<li><p><strong>actual_mode</strong> (<em class="xref py py-obj">str</em>, default “lines+markers”) – How to show the actuals.
Options: <code class="docutils literal notranslate"><span class="pre">markers</span></code>, <code class="docutils literal notranslate"><span class="pre">lines</span></code>, <code class="docutils literal notranslate"><span class="pre">lines+markers</span></code></p></li>
<li><p><strong>actual_points_color</strong> (<em class="xref py py-obj">str</em>, default “rgba(99, 114, 218, 1.0)”) – Color of actual line/marker.</p></li>
<li><p><strong>actual_points_size</strong> (<em class="xref py py-obj">float</em>, default 2.0) – Size of actual markers.
Only used if “markers” is in <code class="docutils literal notranslate"><span class="pre">actual_mode</span></code>.</p></li>
<li><p><strong>actual_color_opacity</strong> (<em class="xref py py-obj">float</em> or None, default 1.0) – Opacity of actual values points.</p></li>
<li><p><strong>forecast_curve_color</strong> (<em class="xref py py-obj">str</em>, default “rgba(0, 145, 202, 1.0)”) – Color of forecasted values.</p></li>
<li><p><strong>forecast_curve_dash</strong> (<em class="xref py py-obj">str</em>, default “solid”) – ‘dash’ property of forecast <code class="docutils literal notranslate"><span class="pre">scatter.line</span></code>.
One of: <code class="docutils literal notranslate"><span class="pre">['solid',</span> <span class="pre">'dot',</span> <span class="pre">'dash',</span> <span class="pre">'longdash',</span> <span class="pre">'dashdot',</span> <span class="pre">'longdashdot']</span></code>
or a string containing a dash length list in pixels or percentages
(e.g. <code class="docutils literal notranslate"><span class="pre">'5px</span> <span class="pre">10px</span> <span class="pre">2px</span> <span class="pre">2px'</span></code>, <code class="docutils literal notranslate"><span class="pre">'5,</span> <span class="pre">10,</span> <span class="pre">2,</span> <span class="pre">2'</span></code>, <code class="docutils literal notranslate"><span class="pre">'10%</span> <span class="pre">20%</span> <span class="pre">40%'</span></code>)</p></li>
<li><p><strong>ci_band_color</strong> (<em class="xref py py-obj">str</em>, default “rgba(0, 145, 202, 0.15)”) – Fill color of the prediction bands.</p></li>
<li><p><strong>ci_boundary_curve_color</strong> (<em class="xref py py-obj">str</em>, default “rgba(0, 145, 202, 0.15)”) – Color of the prediction upper/lower lines.</p></li>
<li><p><strong>ci_boundary_curve_width</strong> (<em class="xref py py-obj">float</em>, default 0.0) – Width of the prediction upper/lower lines.
default 0.0 (hidden)</p></li>
<li><p><strong>vertical_line_color</strong> (<em class="xref py py-obj">str</em>, default “rgba(100, 100, 100, 0.9)”) – Color of the vertical line indicating train end date.
Default is black with opacity of 0.9.</p></li>
<li><p><strong>vertical_line_width</strong> (<em class="xref py py-obj">float</em>, default 1.0) – width of the vertical line indicating train end date</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>fig</strong> – Plotly figure of forecast against actuals, with prediction
intervals if available.</p>
<p>Can show, convert to HTML, update:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># show figure</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># get HTML string, write to file</span>
<span class="n">fig</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">include_plotlyjs</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">full_html</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">write_html</span><span class="p">(</span><span class="s2">&quot;figure.html&quot;</span><span class="p">,</span> <span class="n">include_plotlyjs</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">full_html</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># customize layout (https://plot.ly/python/v3/user-guide/)</span>
<span class="n">update_layout</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;new ylabel&quot;</span><span class="p">),</span>
    <span class="n">title_text</span><span class="o">=</span><span class="s2">&quot;new title&quot;</span><span class="p">,</span>
    <span class="n">title_x</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">title_font_size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">update_layout</span><span class="p">)</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://plotly.com/python-api-reference/generated/plotly.graph_objects.html#plotly.graph_objects.Figure" title="(in )"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plotly.graph_objects.Figure</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.features.timeseries_impute.impute_with_lags">
<code class="sig-prename descclassname">greykite.common.features.timeseries_impute.</code><code class="sig-name descname">impute_with_lags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">value_col</span></em>, <em class="sig-param"><span class="n">orders</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">iter_num</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/features/timeseries_impute.html#impute_with_lags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.features.timeseries_impute.impute_with_lags" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to impute timeseries values (given in <code class="docutils literal notranslate"><span class="pre">df</span></code>) and in <code class="docutils literal notranslate"><span class="pre">value_col</span></code>
with chosen lagged values or an aggregated of those.
For example for daily data one could use the 7th lag to impute using the
value of the same day of past week as opposed to the closest value available
which can be inferior for business related timeseries.</p>
<p>The imputation can be done multiple times by specifying <code class="docutils literal notranslate"><span class="pre">iter_num</span></code>
to decrease the number of missing in some cases.
Note that there are no guarantees to impute all missing values with this
method by design.
However the original number of missing values and the final number of missing
values are returned by the function along with the imputed dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input dataframe which must include <em class="xref py py-obj">value_col</em> as a column.</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – The column name in <code class="docutils literal notranslate"><span class="pre">df</span></code> representing the values of the timeseries.</p></li>
<li><p><strong>orders</strong> (list of <em class="xref py py-obj">int</em>) – The lag orders to be used for aggregation.</p></li>
<li><p><strong>agg_func</strong> (<em>&quot;mean&quot;</em><em> or </em><em>callable</em><em>, </em><em>default: &quot;mean&quot;</em>) – <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> -&gt; <em class="xref py py-obj">float</em>
An aggregation function to aggregate the chosen lags.
If “mean”, uses <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.mean.html#pandas.DataFrame.mean" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.mean</span></code></a>.</p></li>
<li><p><strong>iter_num</strong> (<em class="xref py py-obj">int</em>, default <em class="xref py py-obj">1</em>) – Maximum number of iterations to impute the series.
Each iteration represent an imputation of the series using the provided
lag orders (<code class="docutils literal notranslate"><span class="pre">orders</span></code>) and return an imputed dataframe.
It might be the case that with one iterations some values
are not imputed but with more iterations one can achieve more
imputed values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>impute_info</strong> – A dictionary with following items:</p>
<dl>
<dt>”df”<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>A dataframe with the imputed values.</p>
</dd>
<dt>”initial_missing_num”<span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Initial number of missing values.</p>
</dd>
<dt>”final_missing_num”<span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Final number of missing values after imputations.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.features.timeseries_impute.impute_with_lags_multi">
<code class="sig-prename descclassname">greykite.common.features.timeseries_impute.</code><code class="sig-name descname">impute_with_lags_multi</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">orders</em>, <em class="sig-param">agg_func=&lt;function mean&gt;</em>, <em class="sig-param">iter_num=1</em>, <em class="sig-param">cols=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/features/timeseries_impute.html#impute_with_lags_multi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.features.timeseries_impute.impute_with_lags_multi" title="Permalink to this definition">¶</a></dt>
<dd><p>Imputes every column of <code class="docutils literal notranslate"><span class="pre">df</span></code> using
<a class="reference internal" href="#greykite.common.features.timeseries_impute.impute_with_lags" title="greykite.common.features.timeseries_impute.impute_with_lags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">impute_with_lags</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Input dataframe which must include <em class="xref py py-obj">value_col</em> as a column.</p></li>
<li><p><strong>orders</strong> (list of <em class="xref py py-obj">int</em>) – The lag orders to be used for aggregation.</p></li>
<li><p><strong>agg_func</strong> (callable, default <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.mean</span></code>) – <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Series.html#pandas.Series" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Series</span></code></a> -&gt; <em class="xref py py-obj">float</em>
An aggregation function to aggregate the chosen lags.</p></li>
<li><p><strong>iter_num</strong> (<em class="xref py py-obj">int</em>, default <em class="xref py py-obj">1</em>) – Maximum number of iterations to impute the series.
Each iteration represent an imputation of the series using the provided
lag orders (<code class="docutils literal notranslate"><span class="pre">orders</span></code>) and return an imputed dataframe.
It might be the case that with one iterations some values
are not imputed but with more iterations one can achieve more
imputed values.</p></li>
<li><p><strong>cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – Which columns to impute. If None, imputes all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>impute_info</strong> – A dictionary with following items:</p>
<dl>
<dt>”df”<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>A dataframe with the imputed values.</p>
</dd>
<dt>”missing_info”<span class="classifier"><em class="xref py py-obj">dict</em></span></dt><dd><p>Dictionary with information about the missing info.</p>
<p>Key = name of a column in <code class="docutils literal notranslate"><span class="pre">df</span></code>
Value = dictionary containing:</p>
<blockquote>
<div><dl>
<dt>”initial_missing_num”<span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Initial number of missing values.</p>
</dd>
<dt>”final_missing_num”<span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Final number of missing values after imputation.</p>
</dd>
</dl>
</div></blockquote>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.features.adjust_anomalous_data.adjust_anomalous_data">
<code class="sig-prename descclassname">greykite.common.features.adjust_anomalous_data.</code><code class="sig-name descname">adjust_anomalous_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">time_col</span></em>, <em class="sig-param"><span class="n">value_col</span></em>, <em class="sig-param"><span class="n">anomaly_df</span></em>, <em class="sig-param"><span class="n">start_time_col</span><span class="o">=</span><span class="default_value">'start_time'</span></em>, <em class="sig-param"><span class="n">end_time_col</span><span class="o">=</span><span class="default_value">'end_time'</span></em>, <em class="sig-param"><span class="n">adjustment_delta_col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">filter_by_dict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">filter_by_value_col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">adjustment_method</span><span class="o">=</span><span class="default_value">'add'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/features/adjust_anomalous_data.html#adjust_anomalous_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.features.adjust_anomalous_data.adjust_anomalous_data" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes:</p>
<blockquote>
<div><ul class="simple">
<li><p>a time series, in the form of a dataframe: <code class="docutils literal notranslate"><span class="pre">df</span></code></p></li>
<li><p>the anomaly information, in the form of a dataframe: <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code>.</p></li>
</ul>
</div></blockquote>
<p>It then adjusts the values of the time series based on the perceived impact
of the anomalies given in the column <code class="docutils literal notranslate"><span class="pre">adjustment_delta_col</span></code> and
assigns <code class="xref py py-obj docutils literal notranslate"><span class="pre">np.nan</span></code> if the impact is not given.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code> can contain the anomaly information for many
different timeseries. This is enabled by allowing multiple metrics and
dimensions to be listed in the same anomaly dataframe. Columns can indicate
the metric name and dimension value.</p>
<p>This function first subsets the <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code> to the relevant rows for the
<code class="docutils literal notranslate"><span class="pre">value_col</span></code> as specified by <code class="docutils literal notranslate"><span class="pre">filter_by_dict</span></code>, then makes the specified
adjustments to <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A data frame which includes the timestamp column
as well as the value column.</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – The column name in <code class="docutils literal notranslate"><span class="pre">df</span></code> representing time for the time series data.
The time column can be anything that can be parsed by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DatetimeIndex</span></code></a>.</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – The column name which has the value of interest to be forecasted.</p></li>
<li><p><strong>anomaly_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – <p>A dataframe which includes the anomaly information for
the input series (<code class="docutils literal notranslate"><span class="pre">df</span></code>) but potentially for multiple series and dimensions.</p>
<p>This dataframe must include these two columns:</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">start_time_col</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">end_time_col</span></code></p></li>
</ul>
</div></blockquote>
<p>and include</p>
<blockquote>
<div><blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">adjustment_delta_col</span></code> if it is not None in the function call.</p></li>
</ul>
</div></blockquote>
<p>Moreover if dimensions are requested by passing the
<code class="docutils literal notranslate"><span class="pre">filter_by_dict</span></code> argument (not None), all of this dictionary
keys must also appear in <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code>.</p>
</div></blockquote>
<p>Here is an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">anomaly_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1/1/2018&quot;</span><span class="p">,</span> <span class="s2">&quot;1/4/2018&quot;</span><span class="p">,</span> <span class="s2">&quot;1/8/2018&quot;</span><span class="p">,</span> <span class="s2">&quot;1/10/2018&quot;</span><span class="p">],</span>
    <span class="s2">&quot;end_time&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1/2/2018&quot;</span><span class="p">,</span> <span class="s2">&quot;1/6/2018&quot;</span><span class="p">,</span> <span class="s2">&quot;1/9/2018&quot;</span><span class="p">,</span> <span class="s2">&quot;1/10/2018&quot;</span><span class="p">],</span>
    <span class="s2">&quot;adjustment_delta&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">],</span>
    <span class="c1"># extra columns for filtering</span>
    <span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">],</span>
    <span class="s2">&quot;platform&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;MOBILE&quot;</span><span class="p">,</span> <span class="s2">&quot;MOBILE&quot;</span><span class="p">,</span> <span class="s2">&quot;DESKTOP&quot;</span><span class="p">,</span> <span class="s2">&quot;DESKTOP&quot;</span><span class="p">],</span>
    <span class="s2">&quot;vertical&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;ads&quot;</span><span class="p">,</span> <span class="s2">&quot;sales&quot;</span><span class="p">,</span> <span class="s2">&quot;ads&quot;</span><span class="p">,</span> <span class="s2">&quot;ads&quot;</span><span class="p">],</span>
<span class="p">})</span>
</pre></div>
</div>
<p>In the above example,</p>
<blockquote>
<div><ul>
<li><p>”start_time” is the start date of the anomaly, which is provided using the argument <code class="docutils literal notranslate"><span class="pre">start_time_col</span></code>.</p></li>
<li><p>”end_time” is the end date of the anomaly, which is provided using the argument <code class="docutils literal notranslate"><span class="pre">end_time_col</span></code>.</p></li>
<li><p>”adjustment_delta” is the column which includes the delta if it is known. The name of this
column is provided using the argument <code class="docutils literal notranslate"><span class="pre">adjustment_delta_col</span></code>. Use <a class="reference external" href="https://numpy.org/devdocs/reference/constants.html#numpy.nan" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.nan</span></code></a> if the
adjustment size is not known, and the adjusted value will be set to <a class="reference external" href="https://numpy.org/devdocs/reference/constants.html#numpy.nan" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.nan</span></code></a>.</p></li>
<li><p>”metric”, “platform”, and “vertical” are example columns for filtering. They
contain the metric name and dimensions for which the anomaly is applicable.
<code class="docutils literal notranslate"><span class="pre">filter_by_dict`</span> <span class="pre">is</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">filter</span> <span class="pre">on</span> <span class="pre">these</span> <span class="pre">columns</span> <span class="pre">to</span> <span class="pre">get</span> <span class="pre">the</span> <span class="pre">relevant</span>
<span class="pre">anomalies</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">timeseries</span> <span class="pre">represented</span> <span class="pre">by</span> <span class="pre">``df[value_col]</span></code>.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>start_time_col</strong> (<em class="xref py py-obj">str</em>, default <code class="docutils literal notranslate"><span class="pre">START_TIME_COL</span></code>) – The column name in <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code> representing the start timestamp of
the anomalous period, inclusive.
The format can be anything that can be parsed by pandas DatetimeIndex.</p></li>
<li><p><strong>end_time_col</strong> (<em class="xref py py-obj">str</em>, default <code class="docutils literal notranslate"><span class="pre">END_TIME_COL</span></code>) – The column name in anomaly_df representing the start timestamp of
the anomalous period, inclusive.
The format can be anything that can be parsed by pandas DatetimeIndex.</p></li>
<li><p><strong>adjustment_delta_col</strong> (<em class="xref py py-obj">str</em> or None, default None) – <p>The column name in <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code> for the impact delta of the anomalies
on the values of the series.</p>
<p>If the value is available, it will be used to adjust the timeseries values
in the given period by adding or subtracting this value to the raw series
values in that period. Whether to add or subtract is specified by
<code class="docutils literal notranslate"><span class="pre">adjustment_method</span></code>.
If the value for a row is “” or np.nan, the adjusted value is set to np.nan.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">adjustment_delta_col</span></code> is None, all adjusted values are set to np.nan.</p>
</p></li>
<li><p><strong>filter_by_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, default None) – <p>A dictionary whose keys are column names of <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code>,
and values are the desired value for that column (e.g. a string or int).
If the value is an iterable (list, tuple, set), then it enumerates
all allowed values for that column.</p>
<p>This dictionary is used to filter <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code> to the matching anomalies.
This helps when the <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code> includes the anomalies for various metrics
and dimensions, so matching is needed to get the relevant anomalies for <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<p>Columns in <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code> can contain information on metric name,
metric dimension (e.g. mobile/desktop), issue severity, etc. for filtering.</p>
</p></li>
<li><p><strong>filter_by_value_col</strong> (<em class="xref py py-obj">str</em> or None, default None) – <p>If provided, <code class="docutils literal notranslate"><span class="pre">{filter_by_value_col:</span> <span class="pre">value_col}</span></code> is added to <code class="docutils literal notranslate"><span class="pre">filter_by_dict</span></code>
for filtering. This filters <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code> to rows where
<code class="docutils literal notranslate"><span class="pre">anomaly_df[filter_by_value_col]</span> <span class="pre">==</span> <span class="pre">value_col</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">value_col</span></code> is the metric name, this is a convenient way to find anomalies
matching the metric name.</p>
</p></li>
<li><p><strong>adjustment_method</strong> (<em class="xref py py-obj">str</em> (“add” or “subtract”), default “add”) – <p>How the adjustment in <code class="docutils literal notranslate"><span class="pre">anomaly_df</span></code> should be used to adjust
the value in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<blockquote>
<div><ul>
<li><p>If “add”, the value in <code class="docutils literal notranslate"><span class="pre">adjustment_delta_col</span></code> is added to the original value.</p></li>
<li><p>If “subtract”, it is subtracted from the original value.</p></li>
</ul>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>Result</strong> – A dictionary with the following items (specified by key):</p>
<ul>
<li><dl class="simple">
<dt>”adjusted_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>A dataframe identical to the input dataframe <code class="docutils literal notranslate"><span class="pre">df</span></code>, but with
<code class="docutils literal notranslate"><span class="pre">value_col</span></code> updated to the adjusted values.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>”augmented_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>A dataframe identical to the input dataframe <code class="docutils literal notranslate"><span class="pre">df</span></code>, with
two extra columns</p>
<ul class="simple">
<li><p>ANOMALY_COL: Anomaly labels for the time series.</p></li>
</ul>
<p>1 and 0 indicates anomalous and non-anomalous points, respectively.
- <code class="docutils literal notranslate"><span class="pre">f&quot;adjusted_{value_col}&quot;</span></code>: Adjusted values.</p>
<p><code class="docutils literal notranslate"><span class="pre">value_col</span></code> retains the original values.
This is useful to inspect which values have changed.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.common.evaluation.r2_null_model_score">
<code class="sig-prename descclassname">greykite.common.evaluation.</code><code class="sig-name descname">r2_null_model_score</code><span class="sig-paren">(</span><em class="sig-param">y_true</em>, <em class="sig-param">y_pred</em>, <em class="sig-param">y_pred_null=None</em>, <em class="sig-param">y_train=None</em>, <em class="sig-param">loss_func=&lt;function mean_squared_error&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/evaluation.html#r2_null_model_score"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.evaluation.r2_null_model_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates improvement in the loss function compared
to the predictions of a null model. Can be used to evaluate
model quality with respect to a simple baseline model.</p>
<p>The score is defined as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2_null_model_score</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="n">loss_func</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span> <span class="o">/</span> <span class="n">loss_func</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_null</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_true</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] or <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – Observed response (usually on a test set).</p></li>
<li><p><strong>y_pred</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] or <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>) – Model predictions (usually on a test set).</p></li>
<li><p><strong>y_pred_null</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] or <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> or None) – A baseline prediction model to compare against.
If None, derived from <code class="docutils literal notranslate"><span class="pre">y_train</span></code> or <code class="docutils literal notranslate"><span class="pre">y_true</span></code>.</p></li>
<li><p><strong>y_train</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>] or <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a> or None) – Response values in the training data.
If <code class="docutils literal notranslate"><span class="pre">y_pred_null</span></code> is None, then <code class="docutils literal notranslate"><span class="pre">y_pred_null</span></code> is set to the mean of <code class="docutils literal notranslate"><span class="pre">y_train</span></code>.
If <code class="docutils literal notranslate"><span class="pre">y_train</span></code> is also None, then <code class="docutils literal notranslate"><span class="pre">y_pred_null</span></code> is set to the mean of <code class="docutils literal notranslate"><span class="pre">y_true</span></code>.</p></li>
<li><p><strong>loss_func</strong> (callable, default <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.metrics.mean_squared_error.html#sklearn.metrics.mean_squared_error" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.metrics.mean_squared_error</span></code></a>) – The error loss function with signature (true_values, predicted_values).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>r2_null_model</strong> – A value within (-infty, 1.0]. Higher scores are better.
Can be interpreted as the improvement in the loss function
compared to the predictions of the null model.
For example, a score of 0.74 means the loss is 74% lower
than for the null model.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">float</em></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>There is a connection between <code class="docutils literal notranslate"><span class="pre">R2_null_model_score</span></code> and <code class="docutils literal notranslate"><span class="pre">R2</span></code>.
<code class="docutils literal notranslate"><span class="pre">R2_null_model_score</span></code> can be interpreted as the additional improvement in the
coefficient of determination (i.e. <code class="docutils literal notranslate"><span class="pre">R2</span></code>, see <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.metrics.r2_score.html#sklearn.metrics.r2_score" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.metrics.r2_score</span></code></a>) with
respect to a null model.</p>
<p>Under the default settings of this function, where <code class="docutils literal notranslate"><span class="pre">loss_func</span></code> is
mean squared error and <code class="docutils literal notranslate"><span class="pre">y_pred_null</span></code> is the average of
<code class="docutils literal notranslate"><span class="pre">y_true</span></code>, the scores are equivalent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># simplified definition of R2_score, where SSE is sum of squared error</span>
<span class="n">y_true_avg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span><span class="n">y_true</span><span class="p">),</span> <span class="n">y_true</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">R2_score</span> <span class="o">:=</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="n">SSE</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span> <span class="o">/</span> <span class="n">SSE</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_true_avg</span><span class="p">)</span>
<span class="n">R2_score</span> <span class="o">:=</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="n">MSE</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span> <span class="o">/</span> <span class="n">VAR</span><span class="p">(</span><span class="n">y_true</span><span class="p">)</span>  <span class="c1"># equivalent definition</span>

<span class="n">r2_null_model_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span> <span class="o">==</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">r2_score</span></code> is 0 if simply predicting the mean (y_pred = y_true_avg).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">y_pred_null</span></code> is passed, and if <code class="docutils literal notranslate"><span class="pre">loss_func</span></code> is mean squared error
and <code class="docutils literal notranslate"><span class="pre">y_true</span></code> has nonzero variance, this function measures how much “r2_score of the
predictions (<code class="docutils literal notranslate"><span class="pre">y_pred</span></code>)” closes the gap between “r2_score of the null model (<code class="docutils literal notranslate"><span class="pre">y_pred</span></code>)”
and the “r2_score of the best possible model (<code class="docutils literal notranslate"><span class="pre">y_true</span></code>)”, which is 1.0:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R2_pred</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>       <span class="c1"># R2 of predictions</span>
<span class="n">R2_null</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_pred_null</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>  <span class="c1"># R2 of null model</span>
<span class="n">r2_null_model_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">y_pred_null</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">R2_pred</span> <span class="o">-</span> <span class="n">R2_null</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">R2_null</span><span class="p">)</span>
</pre></div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">y_pred_null=y_true_avg</span></code>, <code class="docutils literal notranslate"><span class="pre">R2_null</span></code> is 0 and this reduces to the formula above.</p>
<p>Summary (for <code class="docutils literal notranslate"><span class="pre">loss_func=mean_squared_error</span></code>):</p>
<blockquote>
<div><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">R2_null&gt;0</span></code> (good null model), then <code class="docutils literal notranslate"><span class="pre">R2_null_model_score</span> <span class="pre">&lt;</span> <span class="pre">R2_score</span></code></p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">R2_null=0</span></code> (uninformative null model), then <code class="docutils literal notranslate"><span class="pre">R2_null_model_score</span> <span class="pre">=</span> <span class="pre">R2_score</span></code></p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">R2_null&lt;0</span></code> (poor null model), then <code class="docutils literal notranslate"><span class="pre">R2_null_model_score</span> <span class="pre">&gt;</span> <span class="pre">R2_score</span></code></p></li>
</ul>
</div></blockquote>
<p>For other loss functions, <code class="docutils literal notranslate"><span class="pre">r2_null_model_score</span></code> has the same connection to pseudo R2.</p>
</dd></dl>

<dl class="py function">
<dt id="greykite.framework.pipeline.utils.get_score_func_with_aggregation">
<code class="sig-prename descclassname">greykite.framework.pipeline.utils.</code><code class="sig-name descname">get_score_func_with_aggregation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">score_func</span></em>, <em class="sig-param"><span class="n">greater_is_better</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_periods</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">relative_error_tolerance</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/pipeline/utils.html#get_score_func_with_aggregation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.pipeline.utils.get_score_func_with_aggregation" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a score function that pre-aggregates inputs according to <code class="docutils literal notranslate"><span class="pre">agg_func</span></code>,
and filters out invalid true values before evaluation. This allows fitting
the model at a granular level, yet evaluating at a coarser level.</p>
<p>Also returns the proper direction and short name for the score function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score_func</strong> (<em class="xref py py-obj">str</em> or callable) – If callable, a function that maps two arrays to a number:
<code class="docutils literal notranslate"><span class="pre">(true,</span> <span class="pre">predicted)</span> <span class="pre">-&gt;</span> <span class="pre">score</span></code>.</p></li>
<li><p><strong>greater_is_better</strong> (<em class="xref py py-obj">bool</em>, default False) – True if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a score function, meaning higher is better,
and False if it is a loss function, meaning lower is better.
Must be provided if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a callable (custom function).
Ignored if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a string, because the direction is known.</p></li>
<li><p><strong>agg_periods</strong> (<em class="xref py py-obj">int</em> or None, default None) – Number of periods to aggregate before evaluation.
Model is fit at original frequency, and forecast is
aggregated according to <code class="docutils literal notranslate"><span class="pre">agg_periods</span></code>
E.g. fit model on hourly data, and evaluate performance at daily level
If None, does not apply aggregation</p></li>
<li><p><strong>agg_func</strong> (<em>callable</em><em> or </em><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a><em>, </em><em>default None</em>) – Takes an array and returns a number, e.g. np.max, np.sum
Used to aggregate data prior to evaluation (applied to actual and predicted)
Ignored if <code class="docutils literal notranslate"><span class="pre">agg_periods</span></code> is None</p></li>
<li><p><strong>relative_error_tolerance</strong> (<em class="xref py py-obj">float</em> or None, default None) – Threshold to compute the
<a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>
metric, defined as the fraction of forecasted values whose relative
error is strictly greater than <code class="docutils literal notranslate"><span class="pre">relative_error_tolerance</span></code>.
For example, 0.05 allows for 5% relative error.
Required if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is
<a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>score_func</strong> (<em>callable</em>) – scorer with pre-aggregation function and filter,</p></li>
<li><p><strong>greater_is_better</strong> (<em class="xref py py-obj">bool</em>) – Whether <code class="docutils literal notranslate"><span class="pre">greater_is_better</span></code> for the scorer.
Uses the provided <code class="docutils literal notranslate"><span class="pre">greater_is_better</span></code> if the
provided <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a callable.
Otherwise, looks up the direction.</p></li>
<li><p><strong>short_name</strong> (<em class="xref py py-obj">str</em>) – Canonical short name for the <code class="docutils literal notranslate"><span class="pre">score_func</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.framework.pipeline.utils.get_hyperparameter_searcher">
<code class="sig-prename descclassname">greykite.framework.pipeline.utils.</code><code class="sig-name descname">get_hyperparameter_searcher</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hyperparameter_grid</span></em>, <em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">cv</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">hyperparameter_budget</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_jobs</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; sklearn.model_selection._search.RandomizedSearchCV<a class="reference internal" href="../../_modules/greykite/framework/pipeline/utils.html#get_hyperparameter_searcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.pipeline.utils.get_hyperparameter_searcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns RandomizedSearchCV object for hyperparameter tuning via cross validation</p>
<p><a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.model_selection.RandomizedSearchCV</span></code></a> runs a full grid search if
<code class="docutils literal notranslate"><span class="pre">hyperparameter_budget</span></code> is sufficient to exhaust the full
<code class="docutils literal notranslate"><span class="pre">hyperparameter_grid</span></code>, otherwise it samples uniformly at random from the space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hyperparameter_grid</strong> (<em class="xref py py-obj">dict</em> or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">dict</em>]) – <p>Dictionary with parameters names (string) as keys and distributions
or lists of parameters to try. Distributions must provide a <code class="docutils literal notranslate"><span class="pre">rvs</span></code>
method for sampling (such as those from scipy.stats.distributions).
Lists of parameters are sampled uniformly.</p>
<p>May also be a list of such dictionaries to avoid undesired combinations of parameters.
Passed as <code class="docutils literal notranslate"><span class="pre">param_distributions</span></code> to <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.model_selection.RandomizedSearchCV</span></code></a>,
see docs for more info.</p>
</p></li>
<li><p><strong>model</strong> (<em>estimator object</em>) – A object of that type is instantiated for each grid point. This is assumed to implement
the scikit-learn estimator interface.</p></li>
<li><p><strong>cv</strong> (<em class="xref py py-obj">int</em>, cross-validation generator, iterable, or None, default None) – Determines the cross-validation splitting strategy.
See <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.model_selection.RandomizedSearchCV</span></code></a>.</p></li>
<li><p><strong>hyperparameter_budget</strong> (<em class="xref py py-obj">int</em> or None, default None) – <p>max number of hyperparameter sets to try within the hyperparameter_grid search space
If None, uses defaults:</p>
<blockquote>
<div><ul>
<li><p>exhaustive grid search if all values are constant</p></li>
<li><p>10 if any value is a distribution to sample from</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>n_jobs</strong> (<em class="xref py py-obj">int</em> or None, default 1) – Number of jobs to run in parallel
(the maximum number of concurrently running workers).
<code class="docutils literal notranslate"><span class="pre">-1</span></code> uses all CPUs. <code class="docutils literal notranslate"><span class="pre">-2</span></code> uses all CPUs but one.
<code class="docutils literal notranslate"><span class="pre">None</span></code> is treated as 1 unless in a <code class="xref py py-obj docutils literal notranslate"><span class="pre">joblib.Parallel</span></code> backend context
that specifies otherwise.</p></li>
<li><p><strong>verbose</strong> (<em class="xref py py-obj">int</em>, default 1) – <p>Verbosity level during CV.</p>
<ul>
<li><p>if &gt; 0, prints number of fits</p></li>
<li><p>if &gt; 1, prints fit parameters, total score + fit time</p></li>
<li><p>if &gt; 2, prints train/test scores</p></li>
</ul>
</p></li>
<li><p><strong>kwargs</strong> (<em>additional parameters</em>) – <p>Keyword arguments to pass to <a class="reference internal" href="#greykite.framework.pipeline.utils.get_scoring_and_refit" title="greykite.framework.pipeline.utils.get_scoring_and_refit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_scoring_and_refit</span></code></a>.
Accepts the following parameters:</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;score_func&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;score_func_greater_is_better&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;cv_report_metrics&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;agg_periods&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;agg_func&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;relative_error_tolerance&quot;</span></code></p></li>
</ul>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>grid_search</strong> – Object that can run randomized search on hyper parameters.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.model_selection.RandomizedSearchCV</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.framework.pipeline.utils.get_scoring_and_refit">
<code class="sig-prename descclassname">greykite.framework.pipeline.utils.</code><code class="sig-name descname">get_scoring_and_refit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">score_func</span><span class="o">=</span><span class="default_value">'MeanAbsolutePercentError'</span></em>, <em class="sig-param"><span class="n">score_func_greater_is_better</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cv_report_metrics</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_periods</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">relative_error_tolerance</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/pipeline/utils.html#get_scoring_and_refit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.pipeline.utils.get_scoring_and_refit" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides <code class="docutils literal notranslate"><span class="pre">scoring</span></code> and <code class="docutils literal notranslate"><span class="pre">refit</span></code> parameters for
<a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomizedSearchCV</span></code></a>.</p>
<p>Together, <code class="docutils literal notranslate"><span class="pre">scoring</span></code> and <code class="docutils literal notranslate"><span class="pre">refit</span></code> specify how what metrics to evaluate and how
to evaluate the predictions on the test set to identify the optimal model.</p>
<p class="rubric">Notes</p>
<p>Sets <code class="docutils literal notranslate"><span class="pre">greater_is_better=True</span></code> in <em class="xref py py-obj">scoring</em> for all metrics to report them with their
original sign, and properly accounts for this in <code class="docutils literal notranslate"><span class="pre">refit</span></code> to extract the best index.</p>
<p>Pass both <em class="xref py py-obj">scoring</em> and <em class="xref py py-obj">refit</em> to <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomizedSearchCV</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>score_func</strong> (<em class="xref py py-obj">str</em> or callable, default <code class="docutils literal notranslate"><span class="pre">EvaluationMetricEnum.MeanAbsolutePercentError.name</span></code>) – Score function used to select optimal model in CV.
If a callable, takes arrays <code class="docutils literal notranslate"><span class="pre">y_true</span></code>, <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> and returns a float.
If a string, must be either a
<a class="reference internal" href="#greykite.common.evaluation.EvaluationMetricEnum" title="greykite.common.evaluation.EvaluationMetricEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code></a> member name
or <a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>.</p></li>
<li><p><strong>score_func_greater_is_better</strong> (<em class="xref py py-obj">bool</em>, default False) – True if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a score function, meaning higher is better,
and False if it is a loss function, meaning lower is better.
Must be provided if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a callable (custom function).
Ignored if <code class="docutils literal notranslate"><span class="pre">score_func</span></code> is a string, because the direction is known.</p></li>
<li><p><strong>cv_report_metrics</strong> (<em class="xref py py-obj">CV_REPORT_METRICS_ALL</em>, or <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>], or None, default None  # noqa: E501) – <p>Additional metrics to compute during CV, besides the one specified by <code class="docutils literal notranslate"><span class="pre">score_func</span></code>.</p>
<blockquote>
<div><ul>
<li><p>If the string constant <em class="xref py py-obj">greykite.common.constants.CV_REPORT_METRICS_ALL</em>,
computes all metrics in <code class="docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code>. Also computes
<code class="docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code> if <code class="docutils literal notranslate"><span class="pre">relative_error_tolerance</span></code> is not None.
The results are reported by the short name (<code class="docutils literal notranslate"><span class="pre">.get_metric_name()</span></code>) for <code class="docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code>
members and <code class="docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE_NAME</span></code> for <code class="docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code>.</p></li>
<li><p>If a list of strings, each of the listed metrics is computed. Valid strings are
<a class="reference internal" href="#greykite.common.evaluation.EvaluationMetricEnum" title="greykite.common.evaluation.EvaluationMetricEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.common.evaluation.EvaluationMetricEnum</span></code></a> member names
and <a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;MeanSquaredError&quot;</span><span class="p">,</span> <span class="s2">&quot;MeanAbsoluteError&quot;</span><span class="p">,</span> <span class="s2">&quot;MeanAbsolutePercentError&quot;</span><span class="p">,</span> <span class="s2">&quot;MedianAbsolutePercentError&quot;</span><span class="p">,</span> <span class="s2">&quot;FractionOutsideTolerance2&quot;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>If None, no additional metrics are computed.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>agg_periods</strong> (<em class="xref py py-obj">int</em> or None, default None) – Number of periods to aggregate before evaluation.
Model is fit at original frequency, and forecast is
aggregated according to <code class="docutils literal notranslate"><span class="pre">agg_periods</span></code>
E.g. fit model on hourly data, and evaluate performance at daily level
If None, does not apply aggregation</p></li>
<li><p><strong>agg_func</strong> (<em>callable</em><em> or </em><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a><em>, </em><em>default None</em>) – Takes an array and returns a number, e.g. np.max, np.sum
Used to aggregate data prior to evaluation (applied to actual and predicted)
Ignored if <code class="docutils literal notranslate"><span class="pre">agg_periods</span></code> is None</p></li>
<li><p><strong>relative_error_tolerance</strong> (<em class="xref py py-obj">float</em> or None, default None) – Threshold to compute the
<a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>
metric, defined as the fraction of forecasted values whose relative
error is strictly greater than <code class="docutils literal notranslate"><span class="pre">relative_error_tolerance</span></code>.
For example, 0.05 allows for 5% relative error.
If <em class="xref py py-obj">None</em>, the metric is not computed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>scoring</strong> (<em class="xref py py-obj">dict</em>) – A dictionary of metrics to evaluate for each CV split.
The key is the metric name, the value is an instance
of <em class="xref py py-obj">evaluation_PredictScorerDF</em> generated
by <code class="xref py py-func docutils literal notranslate"><span class="pre">make_scorer_df</span></code>.</p>
<p>The value has a score method that takes actual and predicted values
and returns a single number.</p>
<p>There is one item in the dictionary for <code class="docutils literal notranslate"><span class="pre">score_func</span></code>
and an additional item for each additional element in
<code class="docutils literal notranslate"><span class="pre">cv_report_metrics</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><p>The key for <code class="docutils literal notranslate"><span class="pre">score_func</span></code> if it is a callable is
<em class="xref py py-obj">CUSTOM_SCORE_FUNC_NAME</em>.</p></li>
<li><p>The key for <code class="docutils literal notranslate"><span class="pre">EvaluationMetricEnum</span></code> member name is the short name
from <code class="docutils literal notranslate"><span class="pre">.get_metric_name()</span></code>.</p></li>
<li><p>The key for <a class="reference internal" href="#greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE" title="greykite.common.constants.FRACTION_OUTSIDE_TOLERANCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FRACTION_OUTSIDE_TOLERANCE</span></code></a>
is <em class="xref py py-obj">FRACTION_OUTSIDE_TOLERANCE_NAME</em>.</p></li>
</ul>
</div></blockquote>
<p>See <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomizedSearchCV</span></code></a>.</p>
</li>
<li><p><strong>refit</strong> (<em>callable</em>) – Callable that takes <code class="docutils literal notranslate"><span class="pre">cv_results_</span></code> from grid search
and returns the best index.</p>
<p>See <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomizedSearchCV</span></code></a>.</p>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.framework.pipeline.utils.get_best_index">
<code class="sig-prename descclassname">greykite.framework.pipeline.utils.</code><code class="sig-name descname">get_best_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">results</span></em>, <em class="sig-param"><span class="n">metric</span><span class="o">=</span><span class="default_value">'score'</span></em>, <em class="sig-param"><span class="n">greater_is_better</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/pipeline/utils.html#get_best_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.pipeline.utils.get_best_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Suitable for use as the <em class="xref py py-obj">refit</em> parameter to
<a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomizedSearchCV</span></code></a>, after wrapping
with <a class="reference external" href="https://docs.python.org/3.7/library/functools.html#functools.partial" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">functools.partial</span></code></a>.</p>
<p>Callable that takes <code class="docutils literal notranslate"><span class="pre">cv_results_</span></code> from grid search
and returns the best index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>results</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.24.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.array</span></code></a>]) – Results from CV grid search.
See <a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomizedSearchCV</span></code></a>
<code class="docutils literal notranslate"><span class="pre">cv_results_</span></code> attribute for the format.</p></li>
<li><p><strong>metric</strong> (<em class="xref py py-obj">str</em>, default “score”) – Which metric to use to select the best parameters.
In single metric evaluation, the metric name should be “score”.
For multi-metric evaluation, the <code class="docutils literal notranslate"><span class="pre">scoring</span></code> parameter to
<a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RandomizedSearchCV</span></code></a> is a dictionary,
and <code class="docutils literal notranslate"><span class="pre">metric</span></code> must be a key of <code class="docutils literal notranslate"><span class="pre">scoring</span></code>.</p></li>
<li><p><strong>greater_is_better</strong> (<em class="xref py py-obj">bool</em>, default False) – If True, selects the parameters with highest test values
for <code class="docutils literal notranslate"><span class="pre">metric</span></code>. Otherwise, selects those with the lowest
test values for <code class="docutils literal notranslate"><span class="pre">metric</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>best_index</strong> – Best index to use for refitting the model.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">int</em></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">RandomizedSearchCV</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">refit</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">get_best_index</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;score&quot;</span><span class="p">,</span> <span class="n">greater_is_better</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># RandomizedSearchCV(..., refit=refit)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="greykite.framework.pipeline.utils.get_forecast">
<code class="sig-prename descclassname">greykite.framework.pipeline.utils.</code><code class="sig-name descname">get_forecast</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">trained_model</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://scikit-learn.org/0.24/modules/generated/sklearn.pipeline.Pipeline.html#sklearn.pipeline.Pipeline" title="(in scikit-learn v0.24)">sklearn.pipeline.Pipeline</a></span></em>, <em class="sig-param"><span class="n">train_end_date</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">test_start_date</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">forecast_horizon</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">xlabel</span><span class="o">=</span><span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">ylabel</span><span class="o">=</span><span class="default_value">'y'</span></em>, <em class="sig-param"><span class="n">relative_error_tolerance</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast" title="greykite.framework.output.univariate_forecast.UnivariateForecast">greykite.framework.output.univariate_forecast.UnivariateForecast</a><a class="reference internal" href="../../_modules/greykite/framework/pipeline/utils.html#get_forecast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.pipeline.utils.get_forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs model predictions on <code class="docutils literal notranslate"><span class="pre">df</span></code> and creates a
<a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast" title="greykite.framework.output.univariate_forecast.UnivariateForecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateForecast</span></code></a> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – Has columns cst.TIME_COL, cst.VALUE_COL, to forecast.</p></li>
<li><p><strong>trained_model</strong> (<a class="reference external" href="https://scikit-learn.org/0.24/modules/classes.html#module-sklearn.pipeline" title="(in scikit-learn v0.24)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sklearn.pipeline</span></code></a>) – A fitted Pipeline with <code class="docutils literal notranslate"><span class="pre">estimator</span></code> step and predict function.</p></li>
<li><p><strong>train_end_date</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>, default <em class="xref py py-obj">None</em>) – Train end date. Passed to
<a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast" title="greykite.framework.output.univariate_forecast.UnivariateForecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateForecast</span></code></a>.</p></li>
<li><p><strong>test_start_date</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>, default <em class="xref py py-obj">None</em>) – Test start date. Passed to
<a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast" title="greykite.framework.output.univariate_forecast.UnivariateForecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateForecast</span></code></a>.</p></li>
<li><p><strong>forecast_horizon</strong> (<em class="xref py py-obj">int</em> or None, default None) – Number of periods forecasted into the future. Must be &gt; 0. Passed to
<a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast" title="greykite.framework.output.univariate_forecast.UnivariateForecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateForecast</span></code></a>.</p></li>
<li><p><strong>xlabel</strong> (<em class="xref py py-obj">str</em>) – Time column to use in representing forecast (e.g. x-axis in plots).</p></li>
<li><p><strong>ylabel</strong> (<em class="xref py py-obj">str</em>) – Time column to use in representing forecast (e.g. y-axis in plots).</p></li>
<li><p><strong>relative_error_tolerance</strong> (<em class="xref py py-obj">float</em> or None, default None) – Threshold to compute the <code class="docutils literal notranslate"><span class="pre">Outside</span> <span class="pre">Tolerance</span></code> metric,
defined as the fraction of forecasted values whose relative
error is strictly greater than <code class="docutils literal notranslate"><span class="pre">relative_error_tolerance</span></code>.
For example, 0.05 allows for 5% relative error.
If <em class="xref py py-obj">None</em>, the metric is not computed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>univariate_forecast</strong> – Forecasts represented as a <code class="docutils literal notranslate"><span class="pre">UnivariateForecast</span></code> object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.output.univariate_forecast.UnivariateForecast" title="greykite.framework.output.univariate_forecast.UnivariateForecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateForecast</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.framework.templates.pickle_utils.dump_obj">
<code class="sig-prename descclassname">greykite.framework.templates.pickle_utils.</code><code class="sig-name descname">dump_obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">dir_name</span></em>, <em class="sig-param"><span class="n">obj_name</span><span class="o">=</span><span class="default_value">'obj'</span></em>, <em class="sig-param"><span class="n">dump_design_info</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">overwrite_exist_dir</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">top_level</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/pickle_utils.html#dump_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.pickle_utils.dump_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses DFS to recursively dump an object to pickle files.
Originally intended for dumping the
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.ForecastResult" title="greykite.framework.pipeline.pipeline.ForecastResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastResult</span></code></a> instance,
but could potentially used for other objects.</p>
<p>For each object, if it’s picklable, a file with {object_name}.pkl will be
generated, otherwise, depending on its type, a {object_name}.type file will
be generated storing it’s type, and a folder with {object_name} will be generated
to store each of its elements/attributes.</p>
<p>For example, if the folder to store results is forecast_result, the items in the
folders could be:</p>
<blockquote>
<div><ul class="simple">
<li><p>timeseries.pkl: a picklable item.</p></li>
<li><p>model.type: model is not picklable, this file includes the class (Pipeline)</p></li>
<li><p>model: this folder includes the elements in model.</p></li>
<li><p>forecast.type: forecast is not picklable, this file includes the class (UnivariateForecast)</p></li>
<li><p>forecast: this folder includes the elements in forecast.</p></li>
<li><p>backtest.type: backtest is not picklable, this file includes the class (UnivariateForecast)</p></li>
<li><p>backtest: this folder includes the elements in backtest.</p></li>
<li><p>grid_search.type: grid_search is not picklable, this file includes the class (GridSearchCV)</p></li>
<li><p>grid_search: this folder includes the elements in grid_search.</p></li>
</ul>
</div></blockquote>
<p>The items in each subfolder follows the same rule.</p>
<p>The current supported recursion types are:</p>
<blockquote>
<div><ul class="simple">
<li><p>list/tuple: type name is “list” or “tuple”, each element is attempted to
be pickled independently if the entire list/tuple is not picklable.
The order is preserved.</p></li>
<li><p>OrderedDict: type name is “ordered_dict”, each key and value are attempted
to be pickled independently if the entire dict is not picklable.
The order is preserved.</p></li>
<li><p>dict: type name is “dict”, each key and value are attempted to be pickled
independently if the entire dict is not picklable.
The order is not preserved.</p></li>
<li><p>class instance: type name is the class object, used to create new instance.
Each attribute is attempted to be pickled independently if the entire
instance is not picklable.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em class="xref py py-obj">object</em>) – The object to be pickled.</p></li>
<li><p><strong>dir_name</strong> (<em class="xref py py-obj">str</em>) – The directory to store the pickled results.</p></li>
<li><p><strong>obj_name</strong> (<em class="xref py py-obj">str</em>, default “obj”) – The name for the pickled items. Applies to the top level object only
when recursion is used.</p></li>
<li><p><strong>dump_design_info</strong> (<em class="xref py py-obj">bool</em>, default True) – <p>Whether to dump the design info in <em class="xref py py-obj">ForecastResult</em>.
The design info is specifically for Silverkite and can be accessed from</p>
<blockquote>
<div><ul>
<li><p>ForecastResult.model[-1].model_dict[“x_design_info”]</p></li>
<li><p>ForecastResult.forecast.estimator.model_dict[“x_design_info”]</p></li>
<li><p>ForecastResult.backtest.estimator.model_dict[“x_design_info”]</p></li>
</ul>
</div></blockquote>
<p>The design info is a class from <code class="xref py py-obj docutils literal notranslate"><span class="pre">patsy</span></code> and contains a significant amount of
instances that can not be pickled directly. Recursively pickling them takes
longer to run. If speed is important and you don’t need these information,
you can turn it off.</p>
</p></li>
<li><p><strong>overwrite_exist_dir</strong> (<em class="xref py py-obj">bool</em>, default False) – If True and the directory in <code class="docutils literal notranslate"><span class="pre">dir_name</span></code> already exists, the existing
directory will be removed.
If False and the directory in <code class="docutils literal notranslate"><span class="pre">dir_name</span></code> already exists, an exception
will be raised.</p></li>
<li><p><strong>top_level</strong> (<em class="xref py py-obj">bool</em>, default True) – Whether the implementation is an initial call
(applies to the root object you want to pickle, not a recursive call).
When you use this function to dump an object, this parameter should always be True.
Only top level checks if the dir exists,
because subsequent recursive calls may write files to the same directory,
and the check for dir exists will not be implemented.
Setting this parameter to False may cause problems.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The function writes files to local directory and does not return anything.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.framework.templates.pickle_utils.load_obj">
<code class="sig-prename descclassname">greykite.framework.templates.pickle_utils.</code><code class="sig-name descname">load_obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dir_name</span></em>, <em class="sig-param"><span class="n">obj</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">load_design_info</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/templates/pickle_utils.html#load_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.templates.pickle_utils.load_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the pickled files which are pickled by
<a class="reference internal" href="#greykite.framework.templates.pickle_utils.dump_obj" title="greykite.framework.templates.pickle_utils.dump_obj"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dump_obj</span></code></a>.
Originally intended for loading the
<a class="reference internal" href="#greykite.framework.pipeline.pipeline.ForecastResult" title="greykite.framework.pipeline.pipeline.ForecastResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ForecastResult</span></code></a> instance,
but could potentially used for other objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_name</strong> (<em class="xref py py-obj">str</em>) – The directory that stores the pickled files.
Must be the top level dir when having nested pickling results.</p></li>
<li><p><strong>obj</strong> (<em class="xref py py-obj">object</em>, default None) – The object type for the next-level files.
Can be one of “list”, “tuple”, “dict”, “ordered_dict” or a class.</p></li>
<li><p><strong>load_design_info</strong> (<em class="xref py py-obj">bool</em>, default True) – <p>Whether to load the design info in <em class="xref py py-obj">ForecastResult</em>.
The design info is specifically for Silverkite and can be accessed from</p>
<blockquote>
<div><ul>
<li><p>ForecastResult.model[-1].model_dict[“x_design_info”]</p></li>
<li><p>ForecastResult.forecast.estimator.model_dict[“x_design_info”]</p></li>
<li><p>ForecastResult.backtest.estimator.model_dict[“x_design_info”]</p></li>
</ul>
</div></blockquote>
<p>The design info is a class from <code class="xref py py-obj docutils literal notranslate"><span class="pre">patsy</span></code> and contains a significant amount of
instances that can not be pickled directly. Recursively loading them takes
longer to run. If speed is important and you don’t need these information,
you can turn it off.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – The loaded object from the pickled files.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">object</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="greykite.common.data_loader.DataLoader">
<em class="property">class </em><code class="sig-prename descclassname">greykite.common.data_loader.</code><code class="sig-name descname">DataLoader</code><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns datasets included in the library in <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> format.</p>
<dl class="py attribute">
<dt id="greykite.common.data_loader.DataLoader.available_datasets">
<code class="sig-name descname">available_datasets</code><a class="headerlink" href="#greykite.common.data_loader.DataLoader.available_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>The names of the available datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.get_data_home">
<em class="property">static </em><code class="sig-name descname">get_data_home</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_sub_dir</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.get_data_home"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.get_data_home" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the folder path <code class="docutils literal notranslate"><span class="pre">data_dir/data_sub_dir</span></code>.
If <code class="docutils literal notranslate"><span class="pre">data_dir</span></code> is None returns the internal data directory.
By default the Greykite data dir is set to a folder named ‘data’ in the project source code.
Alternatively, it can be set programmatically by giving an explicit folder path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_dir</strong> (<em class="xref py py-obj">str</em> or None, default None) – The path to the input data directory.</p></li>
<li><p><strong>data_sub_dir</strong> (<em class="xref py py-obj">str</em> or None, default None) – The name of the input data sub directory.
Updates path by appending to the <code class="docutils literal notranslate"><span class="pre">data_dir</span></code> at the end.
If None, <code class="docutils literal notranslate"><span class="pre">data_dir</span></code> path is unchanged.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data_home</strong> – Path to the data folder.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.get_data_names">
<em class="property">static </em><code class="sig-name descname">get_data_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.get_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.get_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> and <code class="docutils literal notranslate"><span class="pre">.csv.xz</span></code> files in <code class="docutils literal notranslate"><span class="pre">data_path</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_path</strong> (<em class="xref py py-obj">str</em>) – Path to the data folder.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>file_names</strong> – The names of the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> and <code class="docutils literal notranslate"><span class="pre">.csv.xz</span></code> files in <code class="docutils literal notranslate"><span class="pre">data_path</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.get_aggregated_data">
<em class="property">static </em><code class="sig-name descname">get_aggregated_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.get_aggregated_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.get_aggregated_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns aggregated data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>.) – The input data must have TIME_COL (“ts”) column and the columns in the keys of <code class="docutils literal notranslate"><span class="pre">agg_func</span></code>.</p></li>
<li><p><strong>agg_freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – If None, data will not be aggregated and will include all columns.
Possible values: “daily”, “weekly”, or “monthly”.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">Dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>], default None) – A dictionary of the columns to be aggregated and the corresponding aggregating functions.
Possible aggregating functions include “sum”, “mean”, “median”, “max”, “min”, etc.
An example input can be {“col1”:”mean”, “col2”:”sum”}
If None, data will not be aggregated and will include all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df</strong> – The aggregated dataframe.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.get_data_inventory">
<code class="sig-name descname">get_data_inventory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.get_data_inventory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.get_data_inventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of the available internal datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>file_names</strong> – The names of the available internal datasets.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.get_df">
<code class="sig-name descname">get_df</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_path</span></em>, <em class="sig-param"><span class="n">data_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.get_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.get_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> containing the dataset from <code class="docutils literal notranslate"><span class="pre">data_path/data_name</span></code>.
The input data must be in <code class="docutils literal notranslate"><span class="pre">.csv</span></code> or <code class="docutils literal notranslate"><span class="pre">.csv.xz</span></code> format.
Raises a ValueError if the the specified input file is not found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_path</strong> (<em class="xref py py-obj">str</em>) – Path to the data folder.</p></li>
<li><p><strong>data_name</strong> (<em class="xref py py-obj">str</em>) – Name of the csv file to be loaded from. For example ‘peyton_manning’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df</strong> – Input dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_peyton_manning">
<code class="sig-name descname">load_peyton_manning</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_peyton_manning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_peyton_manning" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Daily Peyton Manning dataset.</p>
<p>This dataset contains log daily page views for the Wikipedia page for Peyton Manning.
One of the primary datasets used for demonstrations by Facebook <code class="docutils literal notranslate"><span class="pre">Prophet</span></code> algorithm.
Source: <a class="reference external" href="https://github.com/facebook/prophet/blob/master/examples/example_wp_log_peyton_manning.csv">https://github.com/facebook/prophet/blob/master/examples/example_wp_log_peyton_manning.csv</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : date of the page view
y : log of the number of page views</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : date of the page view.
“y” : log of the number of page views.</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Peyton Manning data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_parking">
<code class="sig-name descname">load_parking</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">system_code_number</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_parking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_parking" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly Parking dataset.
This dataset contains occupancy rates (8:00 to 16:30) from 2016/10/04 to 2016/12/19
from car parks in Birmingham that are operated by NCP from Birmingham City Council.
Source: <a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/Parking+Birmingham">https://archive.ics.uci.edu/ml/datasets/Parking+Birmingham</a>
UK Open Government Licence (OGL)</p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>SystemCodeNumber: car park ID
Capacity: car park capacity
Occupancy: car park occupancy rate
LastUpdated: date and time of the measure</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>system_code_number</strong> (<em class="xref py py-obj">str</em> or None, default None) – If None, occupancy rate is averaged across all the <code class="docutils literal notranslate"><span class="pre">SystemCodeNumber</span></code>.
Else only the occupancy rate of the given <code class="docutils literal notranslate"><span class="pre">system_code_number</span></code> is returned.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”LastUpdated” : time, rounded to the nearest half hour.
“Capacity” : car park capacity
“Occupancy” : car park occupancy rate
“OccupancyRatio” : <code class="docutils literal notranslate"><span class="pre">Occupancy</span></code> divided by <code class="docutils literal notranslate"><span class="pre">Capacity</span></code>.</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Parking data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_bikesharing">
<code class="sig-name descname">load_bikesharing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_bikesharing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_bikesharing" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly Bike Sharing Count dataset with possible aggregations.</p>
<p>This dataset contains aggregated hourly count of the number of rented bikes.
The data also includes weather data: Maximum Daily temperature (tmax);
Minimum Daily Temperature (tmin); Precipitation (pn)
The raw bike-sharing data is provided by Capital Bikeshare.
Source: <a class="reference external" href="https://www.capitalbikeshare.com/system-data">https://www.capitalbikeshare.com/system-data</a>
The raw weather data (Baltimore-Washington INTL Airport)
<a class="reference external" href="https://www.ncdc.noaa.gov/data-access/land-based-station-data">https://www.ncdc.noaa.gov/data-access/land-based-station-data</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : hour and date
count : number of shared bikes
tmin : minimum daily temperature
tmax : maximum daily temperature
pn : precipitation</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>to the input of function get_aggregated_data.</strong> (<em>Refer</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>If no <code class="docutils literal notranslate"><span class="pre">freq</span></code> was specified, the returned data has the following columns:</p>
<blockquote>
<div><p>”date” : day of year
“ts” : hourly timestamp
“count” : number of rented bikes across Washington DC.
“tmin” : minimum daily temperature
“tmax” : maximum daily temperature
“pn” : precipitation</p>
</div></blockquote>
<p>Otherwise, only <code class="docutils literal notranslate"><span class="pre">agg_col</span></code> column is returned.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> with bikesharing data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_solarpower">
<code class="sig-name descname">load_solarpower</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_solarpower"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_solarpower" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly Solar Power dataset.</p>
<p>This dataset contains the solar power production of an Australian wind farm
from August 2019 to July 2020, with original frequency 4-second.
We aggregated it to an hourly series and removed any incomplete hours.
Source: <a class="reference external" href="https://zenodo.org/record/4656027#.YrpHbuzMLGp">https://zenodo.org/record/4656027#.YrpHbuzMLGp</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : hourly timestamp
y : solar power production in MW (megawatt)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg_freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – Possible values: “daily”, “weekly”, or “monthly”.
If None, data will not be aggregated and will include all columns.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">Dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>], default None) – A dictionary of the columns to be aggregated and the corresponding aggregating functions.
Possible aggregating functions include “sum”, “mean”, “median”, “max”, “min”, etc.
An example input can be {“col1”:”mean”, “col2”:”sum”}
If None, data will not be aggregated and will include all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : hourly timestamp
“y” : solar power production in MW (megawatt)</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Solar Power data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_windpower">
<code class="sig-name descname">load_windpower</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_windpower"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_windpower" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly Wind Power dataset.</p>
<p>This dataset contains the wind power production of an Australian wind farm
from August 2019 to July 2020, with original frequency 4-second.
We aggregated it to an hourly series and removed any incomplete hours.
Source: <a class="reference external" href="https://zenodo.org/record/4656032#.YrpJTezMLGp">https://zenodo.org/record/4656032#.YrpJTezMLGp</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : hourly timestamp
y : wind power production in MW (megawatt)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg_freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – Possible values: “daily”, “weekly”, or “monthly”.
If None, data will not be aggregated and will include all columns.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">Dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>], default None) – A dictionary of the columns to be aggregated and the corresponding aggregating functions.
Possible aggregating functions include “sum”, “mean”, “median”, “max”, “min”, etc.
An example input can be {“col1”:”mean”, “col2”:”sum”}
If None, data will not be aggregated and will include all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : hourly timestamp
“y” : wind power production in MW (megawatt)</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Wind Power data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_electricity">
<code class="sig-name descname">load_electricity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_electricity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_electricity" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly Electricity dataset.</p>
<p>This dataset contains the hourly consumption (in Kilowatt)
of 321 clients from 2012 to 2014 published by Monash.
We aggregated them by taking the average across the 321 clients.
Source: <a class="reference external" href="https://zenodo.org/record/4656140#.YrpKtezMJqs">https://zenodo.org/record/4656140#.YrpKtezMJqs</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : hourly timestamp
y : average electricity consumption in Kilowatt</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg_freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – Possible values: “daily”, “weekly”, or “monthly”.
If None, data will not be aggregated and will include all columns.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">Dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>], default None) – A dictionary of the columns to be aggregated and the corresponding aggregating functions.
Possible aggregating functions include “sum”, “mean”, “median”, “max”, “min”, etc.
An example input can be {“col1”:”mean”, “col2”:”sum”}
If None, data will not be aggregated and will include all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : hourly timestamp
“y” : average electricity consumption in Kilowatt</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Electricity data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_sf_traffic">
<code class="sig-name descname">load_sf_traffic</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_sf_traffic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_sf_traffic" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly San Francisco Bay Area Traffic dataset.</p>
<p>This dataset contains the road occupancy rates (between 0 and 1)
measured by different sensors on San Francisco
Bay area freeways from 2015 to 2016.
Source: <a class="reference external" href="https://zenodo.org/record/4656132#.YrpMxuzMLGp">https://zenodo.org/record/4656132#.YrpMxuzMLGp</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : hourly timestamp
y : average occupancy rate</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg_freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – Possible values: “daily”, “weekly”, or “monthly”.
If None, data will not be aggregated and will include all columns.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">Dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>], default None) – A dictionary of the columns to be aggregated and the corresponding aggregating functions.
Possible aggregating functions include “sum”, “mean”, “median”, “max”, “min”, etc.
An example input can be {“col1”:”mean”, “col2”:”sum”}
If None, data will not be aggregated and will include all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : hourly timestamp
“y” : average occupancy rate</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with San Francisco Bay Area Traffic data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_bitcoin_transactions">
<code class="sig-name descname">load_bitcoin_transactions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_bitcoin_transactions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_bitcoin_transactions" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Daily Bitcoin Transactions dataset.</p>
<p>This dataset contains the number of Bitcoin transactions from 2009 to 2021.
The dataset was curated (with missing values filled) by Monash.
Source: <a class="reference external" href="https://zenodo.org/record/5122101#.YrpNFuzMLGp">https://zenodo.org/record/5122101#.YrpNFuzMLGp</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : date
y : number of transactions</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg_freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – Possible values: “daily”, “weekly”, or “monthly”.
If None, data will not be aggregated and will include all columns.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">Dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>], default None) – A dictionary of the columns to be aggregated and the corresponding aggregating functions.
Possible aggregating functions include “sum”, “mean”, “median”, “max”, “min”, etc.
An example input can be {“col1”:”mean”, “col2”:”sum”}
If None, data will not be aggregated and will include all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : date
“y” : number of transactions</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Bitcoin Transactions data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_sunspot">
<code class="sig-name descname">load_sunspot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_sunspot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_sunspot" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Sunspot dataset.</p>
<p>This dataset contains the number of observed sunspots from 1818 to 2020
published by Monash.
The original dataset was a daily series, and we aggregate it to a
monthly time series more than 200 years long.
Source: <a class="reference external" href="https://zenodo.org/record/4654722#.YrpQ4uzMLGp">https://zenodo.org/record/4654722#.YrpQ4uzMLGp</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : month start date
y : average number of sunspots</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : date
“y” : average number of sunspots</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Sunspot data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_fred_housing">
<code class="sig-name descname">load_fred_housing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_fred_housing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_fred_housing" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the FRED House Supply dataset.</p>
<p>This dataset contains the monthly house supply in the United States
from 1963 to 2021 obtained from FRED.
Source: <a class="reference external" href="https://fred.stlouisfed.org/series/MSACSR">https://fred.stlouisfed.org/series/MSACSR</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : month start date
y : monthly supply of new houses</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : date
“y” : monthly supply of new houses</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with FRED House Supply data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_beijing_pm">
<code class="sig-name descname">load_beijing_pm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_beijing_pm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_beijing_pm" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Beijing Particulate Matter (PM2.5) dataset.
<a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/Beijing+PM2.5+Data">https://archive.ics.uci.edu/ml/datasets/Beijing+PM2.5+Data</a></p>
<p>This hourly data set contains the PM2.5 data of US Embassy in Beijing. Meanwhile, meteorological data
from Beijing Capital International Airport are also included.</p>
<p>The dataset’s time period is between Jan 1st, 2010 to Dec 31st, 2014. Missing data are denoted as NA.</p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>No : row number
year : year of data in this row
month : month of data in this row
day : day of data in this row
hour : hour of data in this row
pm2.5: PM2.5 concentration (ug/m^3)
DEWP : dew point (celsius)
TEMP : temperature (celsius)
PRES : pressure (hPa)
cbwd : combined wind direction
Iws : cumulated wind speed (m/s)
Is : cumulated hours of snow
Ir : cumulated hours of rain</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>to the input of function get_aggregated_data.</strong> (<em>Refer</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : hourly timestamp
“year” : year of data in this row
“month” : month of data in this row
“day” : day of data in this row
“hour” : hour of data in this row
“pm” : PM2.5 concentration (ug/m^3)
“dewp” : dew point (celsius)
“temp” : temperature (celsius)
“pres” : pressure (hPa)
“cbwd” : combined wind direction
“iws” : cumulated wind speed (m/s)
“is” : cumulated hours of snow
“ir” : cumulated hours of rain</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> with Beijing PM2.5 data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_hierarchical_actuals">
<code class="sig-name descname">load_hierarchical_actuals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_hierarchical_actuals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_hierarchical_actuals" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads hierarchical actuals.</p>
<p>This dataset contains synthetic data that satisfy hierarchical constraints.
Consider the 3-level tree with the parent-child relationships below.</p>
<blockquote>
<div><blockquote>
<div><blockquote>
<div><p>00        # level 0</p>
</div></blockquote>
<p>/               10       11    # level 1</p>
</div></blockquote>
<p>/ |     / # noqa: W605</p>
</div></blockquote>
<p>20 21 22   23 24  # level 2</p>
<p>There is one root node (00) with 2 children.
The first child (10) has 3 children.
The second child (11) has 2 children.</p>
<p>Let <em class="xref py py-obj">x_{ij}</em> be the value of the <em class="xref py py-obj">j`th node in level `i</em> of the tree ({<em class="xref py py-obj">ij</em>} is shown in diagram above).
We require the value of a parent to equal the sum of the values of its children.
There are 3 constraints in this hierarchy, satisfied at all time points:</p>
<blockquote>
<div><ul class="simple">
<li><p><em class="xref py py-obj">x_00 = x_10 + x_11</em></p></li>
<li><p><em class="xref py py-obj">x_10 = x_20 + x_21 + x_22</em></p></li>
<li><p><em class="xref py py-obj">x_11 = x_23 + x_24</em></p></li>
</ul>
</div></blockquote>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>“ts” : date of the (synthetic) observation
“00” : value for node 00
“10” : value for node 10
“11” : value for node 11
“20” : value for node 20
“21” : value for node 21
“22” : value for node 22
“23” : value for node 23
“24” : value for node 24</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : date of the (synthetic) observation
“00” : value for node 00
“10” : value for node 10
“11” : value for node 11
“20” : value for node 20
“21” : value for node 21
“22” : value for node 22
“23” : value for node 23
“24” : value for node 24</p>
</div></blockquote>
<p>The values satisfy the hierarchical constraints above.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with synthetic hierarchical data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_hierarchical_forecasts">
<code class="sig-name descname">load_hierarchical_forecasts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_hierarchical_forecasts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_hierarchical_forecasts" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads hierarchical forecasts.</p>
<p>This dataset contains forecasts for the actuals
given by <a class="reference internal" href="#greykite.common.data_loader.DataLoader.load_hierarchical_actuals" title="greykite.common.data_loader.DataLoader.load_hierarchical_actuals"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_hierarchical_actuals</span></code></a>.
The attributes are the same.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : date of the forecasted value
“00” : value for node 00
“10” : value for node 10
“11” : value for node 11
“20” : value for node 20
“21” : value for node 21
“22” : value for node 22
“23” : value for node 23
“24” : value for node 24</p>
</div></blockquote>
<p>The forecasts do not satisfy the hierarchical constraints.
The index and columns are identical to
<a class="reference internal" href="#greykite.common.data_loader.DataLoader.load_hierarchical_actuals" title="greykite.common.data_loader.DataLoader.load_hierarchical_actuals"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_hierarchical_actuals</span></code></a>.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with forecasts for synthetic hierarchical data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.common.data_loader.DataLoader.load_data">
<code class="sig-name descname">load_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_name</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/common/data_loader.html#DataLoader.load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.common.data_loader.DataLoader.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads dataset by name from the internal data library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_name</strong> (<em class="xref py py-obj">str</em>) – Dataset to load from the internal data library.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">UnivariateTimeSeries</span></code> object with <code class="docutils literal notranslate"><span class="pre">data_name</span></code>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS">
<em class="property">class </em><code class="sig-prename descclassname">greykite.framework.benchmark.data_loader_ts.</code><code class="sig-name descname">DataLoaderTS</code><a class="reference internal" href="../../_modules/greykite/framework/benchmark/data_loader_ts.html#DataLoaderTS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns datasets included in the library in <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or
<a class="reference internal" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries" title="greykite.framework.input.univariate_time_series.UnivariateTimeSeries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateTimeSeries</span></code></a> format.</p>
<p>Extends <a class="reference internal" href="#greykite.common.data_loader.DataLoader" title="greykite.common.data_loader.DataLoader"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataLoader</span></code></a></p>
<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_peyton_manning_ts">
<code class="sig-name descname">load_peyton_manning_ts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/data_loader_ts.html#DataLoaderTS.load_peyton_manning_ts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_peyton_manning_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Daily Peyton Manning dataset.</p>
<p>This dataset contains log daily page views for the Wikipedia page for Peyton Manning.
One of the primary datasets used for demonstrations by Facebook <code class="docutils literal notranslate"><span class="pre">Prophet</span></code> algorithm.
Source: <a class="reference external" href="https://github.com/facebook/prophet/blob/master/examples/example_wp_log_peyton_manning.csv">https://github.com/facebook/prophet/blob/master/examples/example_wp_log_peyton_manning.csv</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : date of the page view
y : log of the number of page views</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>ts</strong> –</p>
<p>Peyton Manning page views data. Time and value column:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">time_col</span></code><span class="classifier">”ts”</span></dt><dd><p>Date of the page view.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">value_col</span></code><span class="classifier">”y”</span></dt><dd><p>Log of the number of page views.</p>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries" title="greykite.framework.input.univariate_time_series.UnivariateTimeSeries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateTimeSeries</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_parking_ts">
<code class="sig-name descname">load_parking_ts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">system_code_number</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/data_loader_ts.html#DataLoaderTS.load_parking_ts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_parking_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly Parking dataset.</p>
<p>This dataset contains occupancy rates (8:00 to 16:30) from 2016/10/04 to 2016/12/19
from car parks in Birmingham that are operated by NCP from Birmingham City Council.
Source: <a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/Parking+Birmingham">https://archive.ics.uci.edu/ml/datasets/Parking+Birmingham</a>
UK Open Government Licence (OGL)</p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>SystemCodeNumber: car park ID
Capacity: car park capacity
Occupancy: car park occupancy rate
LastUpdated: date and time of the measure</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>system_code_number</strong> (<em class="xref py py-obj">str</em> or None, default None) – If None, occupancy rate is averaged across all the <code class="docutils literal notranslate"><span class="pre">SystemCodeNumber</span></code>.
Else only the occupancy rate of the given <code class="docutils literal notranslate"><span class="pre">system_code_number</span></code> is returned.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>ts</strong> –</p>
<p>Parking data. Time and value column:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">time_col</span></code><span class="classifier">”LastUpdated”</span></dt><dd><p>Date and Time of the Occupancy Rate, rounded to the nearest half hour.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">value_col</span></code><span class="classifier">”OccupancyRatio”</span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Occupancy</span></code> divided by <code class="docutils literal notranslate"><span class="pre">Capacity</span></code>.</p>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries" title="greykite.framework.input.univariate_time_series.UnivariateTimeSeries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateTimeSeries</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_bikesharing_ts">
<code class="sig-name descname">load_bikesharing_ts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/data_loader_ts.html#DataLoaderTS.load_bikesharing_ts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_bikesharing_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly Bike Sharing Count dataset.</p>
<p>This dataset contains aggregated hourly count of the number of rented bikes.
The data also includes weather data: Maximum Daily temperature (tmax);
Minimum Daily Temperature (tmin); Precipitation (pn)
The raw bike-sharing data is provided by Capital Bikeshare.
Source: <a class="reference external" href="https://www.capitalbikeshare.com/system-data">https://www.capitalbikeshare.com/system-data</a>
The raw weather data (Baltimore-Washington INTL Airport)
<a class="reference external" href="https://www.ncdc.noaa.gov/data-access/land-based-station-data">https://www.ncdc.noaa.gov/data-access/land-based-station-data</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : hour and date
count : number of shared bikes
tmin : minimum daily temperature
tmax : maximum daily temperature
pn : precipitation</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>ts</strong> –</p>
<p>Bike Sharing Count data. Time and value column:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">time_col</span></code><span class="classifier">”ts”</span></dt><dd><p>Hour and Date.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">value_col</span></code><span class="classifier">”y”</span></dt><dd><p>Number of rented bikes across Washington DC.</p>
</dd>
</dl>
</div></blockquote>
<p>Additional regressors:</p>
<blockquote>
<div><p>”tmin” : minimum daily temperature
“tmax” : maximum daily temperature
“pn” : precipitation</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries" title="greykite.framework.input.univariate_time_series.UnivariateTimeSeries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateTimeSeries</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_beijing_pm_ts">
<code class="sig-name descname">load_beijing_pm_ts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/data_loader_ts.html#DataLoaderTS.load_beijing_pm_ts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_beijing_pm_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Beijing Particulate Matter (PM2.5) dataset.
<a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/Beijing+PM2.5+Data">https://archive.ics.uci.edu/ml/datasets/Beijing+PM2.5+Data</a></p>
<p>This hourly data set contains the PM2.5 data of US Embassy in Beijing. Meanwhile, meteorological data
from Beijing Capital International Airport are also included.</p>
<p>The dataset’s time period is between Jan 1st, 2010 to Dec 31st, 2014. Missing data are denoted as NA.</p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>No : row number
year : year of data in this row
month : month of data in this row
day : day of data in this row
hour : hour of data in this row
pm2.5: PM2.5 concentration (ug/m^3)
DEWP : dew point (celsius)
TEMP : temperature (celsius)
PRES : pressure (hPa)
cbwd : combined wind direction
Iws : cumulated wind speed (m/s)
Is : cumulated hours of snow
Ir : cumulated hours of rain</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>ts</strong> –</p>
<p>Beijing PM2.5 data. Time and value column:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">time_col</span></code><span class="classifier">TIME_COL</span></dt><dd><p>hourly timestamp</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">value_col</span></code><span class="classifier">”pm”</span></dt><dd><p>PM2.5 concentration (ug/m^3)</p>
</dd>
</dl>
</div></blockquote>
<p>Additional regressors:</p>
<blockquote>
<div><p>”dewp” : dew point (celsius)
“temp” : temperature (celsius)
“pres” : pressure (hPa)
“cbwd” : combined wind direction
“iws” : cumulated wind speed (m/s)
“is” : cumulated hours of snow
“ir” : cumulated hours of rain</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries" title="greykite.framework.input.univariate_time_series.UnivariateTimeSeries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateTimeSeries</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_data_ts">
<code class="sig-name descname">load_data_ts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_name</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/framework/benchmark/data_loader_ts.html#DataLoaderTS.load_data_ts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_data_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads dataset by name from the internal data library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_name</strong> (<em class="xref py py-obj">str</em>) – Dataset to load from the internal data library.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ts</strong> – Has the requested <code class="docutils literal notranslate"><span class="pre">data_name</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#greykite.framework.input.univariate_time_series.UnivariateTimeSeries" title="greykite.framework.input.univariate_time_series.UnivariateTimeSeries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateTimeSeries</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.get_aggregated_data">
<em class="property">static </em><code class="sig-name descname">get_aggregated_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.get_aggregated_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns aggregated data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>.) – The input data must have TIME_COL (“ts”) column and the columns in the keys of <code class="docutils literal notranslate"><span class="pre">agg_func</span></code>.</p></li>
<li><p><strong>agg_freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – If None, data will not be aggregated and will include all columns.
Possible values: “daily”, “weekly”, or “monthly”.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">Dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>], default None) – A dictionary of the columns to be aggregated and the corresponding aggregating functions.
Possible aggregating functions include “sum”, “mean”, “median”, “max”, “min”, etc.
An example input can be {“col1”:”mean”, “col2”:”sum”}
If None, data will not be aggregated and will include all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df</strong> – The aggregated dataframe.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.get_data_home">
<em class="property">static </em><code class="sig-name descname">get_data_home</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_sub_dir</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.get_data_home" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the folder path <code class="docutils literal notranslate"><span class="pre">data_dir/data_sub_dir</span></code>.
If <code class="docutils literal notranslate"><span class="pre">data_dir</span></code> is None returns the internal data directory.
By default the Greykite data dir is set to a folder named ‘data’ in the project source code.
Alternatively, it can be set programmatically by giving an explicit folder path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_dir</strong> (<em class="xref py py-obj">str</em> or None, default None) – The path to the input data directory.</p></li>
<li><p><strong>data_sub_dir</strong> (<em class="xref py py-obj">str</em> or None, default None) – The name of the input data sub directory.
Updates path by appending to the <code class="docutils literal notranslate"><span class="pre">data_dir</span></code> at the end.
If None, <code class="docutils literal notranslate"><span class="pre">data_dir</span></code> path is unchanged.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data_home</strong> – Path to the data folder.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">str</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.get_data_inventory">
<code class="sig-name descname">get_data_inventory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.get_data_inventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of the available internal datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>file_names</strong> – The names of the available internal datasets.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.get_data_names">
<em class="property">static </em><code class="sig-name descname">get_data_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.get_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> and <code class="docutils literal notranslate"><span class="pre">.csv.xz</span></code> files in <code class="docutils literal notranslate"><span class="pre">data_path</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_path</strong> (<em class="xref py py-obj">str</em>) – Path to the data folder.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>file_names</strong> – The names of the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> and <code class="docutils literal notranslate"><span class="pre">.csv.xz</span></code> files in <code class="docutils literal notranslate"><span class="pre">data_path</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.get_df">
<code class="sig-name descname">get_df</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_path</span></em>, <em class="sig-param"><span class="n">data_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.get_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> containing the dataset from <code class="docutils literal notranslate"><span class="pre">data_path/data_name</span></code>.
The input data must be in <code class="docutils literal notranslate"><span class="pre">.csv</span></code> or <code class="docutils literal notranslate"><span class="pre">.csv.xz</span></code> format.
Raises a ValueError if the the specified input file is not found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_path</strong> (<em class="xref py py-obj">str</em>) – Path to the data folder.</p></li>
<li><p><strong>data_name</strong> (<em class="xref py py-obj">str</em>) – Name of the csv file to be loaded from. For example ‘peyton_manning’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df</strong> – Input dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_beijing_pm">
<code class="sig-name descname">load_beijing_pm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_beijing_pm" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Beijing Particulate Matter (PM2.5) dataset.
<a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/Beijing+PM2.5+Data">https://archive.ics.uci.edu/ml/datasets/Beijing+PM2.5+Data</a></p>
<p>This hourly data set contains the PM2.5 data of US Embassy in Beijing. Meanwhile, meteorological data
from Beijing Capital International Airport are also included.</p>
<p>The dataset’s time period is between Jan 1st, 2010 to Dec 31st, 2014. Missing data are denoted as NA.</p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>No : row number
year : year of data in this row
month : month of data in this row
day : day of data in this row
hour : hour of data in this row
pm2.5: PM2.5 concentration (ug/m^3)
DEWP : dew point (celsius)
TEMP : temperature (celsius)
PRES : pressure (hPa)
cbwd : combined wind direction
Iws : cumulated wind speed (m/s)
Is : cumulated hours of snow
Ir : cumulated hours of rain</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>to the input of function get_aggregated_data.</strong> (<em>Refer</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : hourly timestamp
“year” : year of data in this row
“month” : month of data in this row
“day” : day of data in this row
“hour” : hour of data in this row
“pm” : PM2.5 concentration (ug/m^3)
“dewp” : dew point (celsius)
“temp” : temperature (celsius)
“pres” : pressure (hPa)
“cbwd” : combined wind direction
“iws” : cumulated wind speed (m/s)
“is” : cumulated hours of snow
“ir” : cumulated hours of rain</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> with Beijing PM2.5 data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_bikesharing">
<code class="sig-name descname">load_bikesharing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_bikesharing" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly Bike Sharing Count dataset with possible aggregations.</p>
<p>This dataset contains aggregated hourly count of the number of rented bikes.
The data also includes weather data: Maximum Daily temperature (tmax);
Minimum Daily Temperature (tmin); Precipitation (pn)
The raw bike-sharing data is provided by Capital Bikeshare.
Source: <a class="reference external" href="https://www.capitalbikeshare.com/system-data">https://www.capitalbikeshare.com/system-data</a>
The raw weather data (Baltimore-Washington INTL Airport)
<a class="reference external" href="https://www.ncdc.noaa.gov/data-access/land-based-station-data">https://www.ncdc.noaa.gov/data-access/land-based-station-data</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : hour and date
count : number of shared bikes
tmin : minimum daily temperature
tmax : maximum daily temperature
pn : precipitation</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>to the input of function get_aggregated_data.</strong> (<em>Refer</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>If no <code class="docutils literal notranslate"><span class="pre">freq</span></code> was specified, the returned data has the following columns:</p>
<blockquote>
<div><p>”date” : day of year
“ts” : hourly timestamp
“count” : number of rented bikes across Washington DC.
“tmin” : minimum daily temperature
“tmax” : maximum daily temperature
“pn” : precipitation</p>
</div></blockquote>
<p>Otherwise, only <code class="docutils literal notranslate"><span class="pre">agg_col</span></code> column is returned.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> with bikesharing data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_bitcoin_transactions">
<code class="sig-name descname">load_bitcoin_transactions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_bitcoin_transactions" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Daily Bitcoin Transactions dataset.</p>
<p>This dataset contains the number of Bitcoin transactions from 2009 to 2021.
The dataset was curated (with missing values filled) by Monash.
Source: <a class="reference external" href="https://zenodo.org/record/5122101#.YrpNFuzMLGp">https://zenodo.org/record/5122101#.YrpNFuzMLGp</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : date
y : number of transactions</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg_freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – Possible values: “daily”, “weekly”, or “monthly”.
If None, data will not be aggregated and will include all columns.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">Dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>], default None) – A dictionary of the columns to be aggregated and the corresponding aggregating functions.
Possible aggregating functions include “sum”, “mean”, “median”, “max”, “min”, etc.
An example input can be {“col1”:”mean”, “col2”:”sum”}
If None, data will not be aggregated and will include all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : date
“y” : number of transactions</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Bitcoin Transactions data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_data">
<code class="sig-name descname">load_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_name</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads dataset by name from the internal data library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_name</strong> (<em class="xref py py-obj">str</em>) – Dataset to load from the internal data library.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">UnivariateTimeSeries</span></code> object with <code class="docutils literal notranslate"><span class="pre">data_name</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_electricity">
<code class="sig-name descname">load_electricity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_electricity" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly Electricity dataset.</p>
<p>This dataset contains the hourly consumption (in Kilowatt)
of 321 clients from 2012 to 2014 published by Monash.
We aggregated them by taking the average across the 321 clients.
Source: <a class="reference external" href="https://zenodo.org/record/4656140#.YrpKtezMJqs">https://zenodo.org/record/4656140#.YrpKtezMJqs</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : hourly timestamp
y : average electricity consumption in Kilowatt</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg_freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – Possible values: “daily”, “weekly”, or “monthly”.
If None, data will not be aggregated and will include all columns.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">Dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>], default None) – A dictionary of the columns to be aggregated and the corresponding aggregating functions.
Possible aggregating functions include “sum”, “mean”, “median”, “max”, “min”, etc.
An example input can be {“col1”:”mean”, “col2”:”sum”}
If None, data will not be aggregated and will include all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : hourly timestamp
“y” : average electricity consumption in Kilowatt</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Electricity data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_fred_housing">
<code class="sig-name descname">load_fred_housing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_fred_housing" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the FRED House Supply dataset.</p>
<p>This dataset contains the monthly house supply in the United States
from 1963 to 2021 obtained from FRED.
Source: <a class="reference external" href="https://fred.stlouisfed.org/series/MSACSR">https://fred.stlouisfed.org/series/MSACSR</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : month start date
y : monthly supply of new houses</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : date
“y” : monthly supply of new houses</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with FRED House Supply data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_hierarchical_actuals">
<code class="sig-name descname">load_hierarchical_actuals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_hierarchical_actuals" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads hierarchical actuals.</p>
<p>This dataset contains synthetic data that satisfy hierarchical constraints.
Consider the 3-level tree with the parent-child relationships below.</p>
<blockquote>
<div><blockquote>
<div><blockquote>
<div><p>00        # level 0</p>
</div></blockquote>
<p>/               10       11    # level 1</p>
</div></blockquote>
<p>/ |     / # noqa: W605</p>
</div></blockquote>
<p>20 21 22   23 24  # level 2</p>
<p>There is one root node (00) with 2 children.
The first child (10) has 3 children.
The second child (11) has 2 children.</p>
<p>Let <em class="xref py py-obj">x_{ij}</em> be the value of the <em class="xref py py-obj">j`th node in level `i</em> of the tree ({<em class="xref py py-obj">ij</em>} is shown in diagram above).
We require the value of a parent to equal the sum of the values of its children.
There are 3 constraints in this hierarchy, satisfied at all time points:</p>
<blockquote>
<div><ul class="simple">
<li><p><em class="xref py py-obj">x_00 = x_10 + x_11</em></p></li>
<li><p><em class="xref py py-obj">x_10 = x_20 + x_21 + x_22</em></p></li>
<li><p><em class="xref py py-obj">x_11 = x_23 + x_24</em></p></li>
</ul>
</div></blockquote>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>“ts” : date of the (synthetic) observation
“00” : value for node 00
“10” : value for node 10
“11” : value for node 11
“20” : value for node 20
“21” : value for node 21
“22” : value for node 22
“23” : value for node 23
“24” : value for node 24</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : date of the (synthetic) observation
“00” : value for node 00
“10” : value for node 10
“11” : value for node 11
“20” : value for node 20
“21” : value for node 21
“22” : value for node 22
“23” : value for node 23
“24” : value for node 24</p>
</div></blockquote>
<p>The values satisfy the hierarchical constraints above.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with synthetic hierarchical data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_hierarchical_forecasts">
<code class="sig-name descname">load_hierarchical_forecasts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_hierarchical_forecasts" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads hierarchical forecasts.</p>
<p>This dataset contains forecasts for the actuals
given by <a class="reference internal" href="#greykite.common.data_loader.DataLoader.load_hierarchical_actuals" title="greykite.common.data_loader.DataLoader.load_hierarchical_actuals"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_hierarchical_actuals</span></code></a>.
The attributes are the same.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : date of the forecasted value
“00” : value for node 00
“10” : value for node 10
“11” : value for node 11
“20” : value for node 20
“21” : value for node 21
“22” : value for node 22
“23” : value for node 23
“24” : value for node 24</p>
</div></blockquote>
<p>The forecasts do not satisfy the hierarchical constraints.
The index and columns are identical to
<a class="reference internal" href="#greykite.common.data_loader.DataLoader.load_hierarchical_actuals" title="greykite.common.data_loader.DataLoader.load_hierarchical_actuals"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_hierarchical_actuals</span></code></a>.</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with forecasts for synthetic hierarchical data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_parking">
<code class="sig-name descname">load_parking</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">system_code_number</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_parking" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly Parking dataset.
This dataset contains occupancy rates (8:00 to 16:30) from 2016/10/04 to 2016/12/19
from car parks in Birmingham that are operated by NCP from Birmingham City Council.
Source: <a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/Parking+Birmingham">https://archive.ics.uci.edu/ml/datasets/Parking+Birmingham</a>
UK Open Government Licence (OGL)</p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>SystemCodeNumber: car park ID
Capacity: car park capacity
Occupancy: car park occupancy rate
LastUpdated: date and time of the measure</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>system_code_number</strong> (<em class="xref py py-obj">str</em> or None, default None) – If None, occupancy rate is averaged across all the <code class="docutils literal notranslate"><span class="pre">SystemCodeNumber</span></code>.
Else only the occupancy rate of the given <code class="docutils literal notranslate"><span class="pre">system_code_number</span></code> is returned.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”LastUpdated” : time, rounded to the nearest half hour.
“Capacity” : car park capacity
“Occupancy” : car park occupancy rate
“OccupancyRatio” : <code class="docutils literal notranslate"><span class="pre">Occupancy</span></code> divided by <code class="docutils literal notranslate"><span class="pre">Capacity</span></code>.</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Parking data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_peyton_manning">
<code class="sig-name descname">load_peyton_manning</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_peyton_manning" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Daily Peyton Manning dataset.</p>
<p>This dataset contains log daily page views for the Wikipedia page for Peyton Manning.
One of the primary datasets used for demonstrations by Facebook <code class="docutils literal notranslate"><span class="pre">Prophet</span></code> algorithm.
Source: <a class="reference external" href="https://github.com/facebook/prophet/blob/master/examples/example_wp_log_peyton_manning.csv">https://github.com/facebook/prophet/blob/master/examples/example_wp_log_peyton_manning.csv</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : date of the page view
y : log of the number of page views</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : date of the page view.
“y” : log of the number of page views.</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Peyton Manning data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_sf_traffic">
<code class="sig-name descname">load_sf_traffic</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_sf_traffic" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly San Francisco Bay Area Traffic dataset.</p>
<p>This dataset contains the road occupancy rates (between 0 and 1)
measured by different sensors on San Francisco
Bay area freeways from 2015 to 2016.
Source: <a class="reference external" href="https://zenodo.org/record/4656132#.YrpMxuzMLGp">https://zenodo.org/record/4656132#.YrpMxuzMLGp</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : hourly timestamp
y : average occupancy rate</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg_freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – Possible values: “daily”, “weekly”, or “monthly”.
If None, data will not be aggregated and will include all columns.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">Dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>], default None) – A dictionary of the columns to be aggregated and the corresponding aggregating functions.
Possible aggregating functions include “sum”, “mean”, “median”, “max”, “min”, etc.
An example input can be {“col1”:”mean”, “col2”:”sum”}
If None, data will not be aggregated and will include all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : hourly timestamp
“y” : average occupancy rate</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with San Francisco Bay Area Traffic data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_solarpower">
<code class="sig-name descname">load_solarpower</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_solarpower" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly Solar Power dataset.</p>
<p>This dataset contains the solar power production of an Australian wind farm
from August 2019 to July 2020, with original frequency 4-second.
We aggregated it to an hourly series and removed any incomplete hours.
Source: <a class="reference external" href="https://zenodo.org/record/4656027#.YrpHbuzMLGp">https://zenodo.org/record/4656027#.YrpHbuzMLGp</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : hourly timestamp
y : solar power production in MW (megawatt)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg_freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – Possible values: “daily”, “weekly”, or “monthly”.
If None, data will not be aggregated and will include all columns.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">Dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>], default None) – A dictionary of the columns to be aggregated and the corresponding aggregating functions.
Possible aggregating functions include “sum”, “mean”, “median”, “max”, “min”, etc.
An example input can be {“col1”:”mean”, “col2”:”sum”}
If None, data will not be aggregated and will include all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : hourly timestamp
“y” : solar power production in MW (megawatt)</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Solar Power data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_sunspot">
<code class="sig-name descname">load_sunspot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_sunspot" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Sunspot dataset.</p>
<p>This dataset contains the number of observed sunspots from 1818 to 2020
published by Monash.
The original dataset was a daily series, and we aggregate it to a
monthly time series more than 200 years long.
Source: <a class="reference external" href="https://zenodo.org/record/4654722#.YrpQ4uzMLGp">https://zenodo.org/record/4654722#.YrpQ4uzMLGp</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : month start date
y : average number of sunspots</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : date
“y” : average number of sunspots</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Sunspot data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_windpower">
<code class="sig-name descname">load_windpower</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_freq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">agg_func</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.framework.benchmark.data_loader_ts.DataLoaderTS.load_windpower" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Hourly Wind Power dataset.</p>
<p>This dataset contains the wind power production of an Australian wind farm
from August 2019 to July 2020, with original frequency 4-second.
We aggregated it to an hourly series and removed any incomplete hours.
Source: <a class="reference external" href="https://zenodo.org/record/4656032#.YrpJTezMLGp">https://zenodo.org/record/4656032#.YrpJTezMLGp</a></p>
<p>Below is the dataset attribute information:</p>
<blockquote>
<div><p>ts : hourly timestamp
y : wind power production in MW (megawatt)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agg_freq</strong> (<em class="xref py py-obj">str</em> or None, default None) – Possible values: “daily”, “weekly”, or “monthly”.
If None, data will not be aggregated and will include all columns.</p></li>
<li><p><strong>agg_func</strong> (<em class="xref py py-obj">Dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">str</em>], default None) – A dictionary of the columns to be aggregated and the corresponding aggregating functions.
Possible aggregating functions include “sum”, “mean”, “median”, “max”, “min”, etc.
An example input can be {“col1”:”mean”, “col2”:”sum”}
If None, data will not be aggregated and will include all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>df</strong> –</p>
<p>Has the following columns:</p>
<blockquote>
<div><p>”ts” : hourly timestamp
“y” : wind power production in MW (megawatt)</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> object with Wind Power data.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.TraceInfo">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.reconcile.convex.reconcile_forecasts.</code><code class="sig-name descname">TraceInfo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">color</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">legendgroup</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/reconcile/convex/reconcile_forecasts.html#TraceInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.TraceInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains y-values for related lines to plot,
such as forecasts or actuals.</p>
<p>The lines share the same color,
name, and legend group.</p>
<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.TraceInfo.df">
<code class="sig-name descname">df</code><em class="property">: pandas.core.frame.DataFrame</em><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.TraceInfo.df" title="Permalink to this definition">¶</a></dt>
<dd><p>Data to plot. Each column contains the y-values for a line.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.TraceInfo.color">
<code class="sig-name descname">color</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.TraceInfo.color" title="Permalink to this definition">¶</a></dt>
<dd><p>Line color.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.TraceInfo.name">
<code class="sig-name descname">name</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.TraceInfo.name" title="Permalink to this definition">¶</a></dt>
<dd><p>String to include in the line name for the legend.</p>
</dd></dl>

<dl class="py attribute">
<dt id="greykite.algo.reconcile.convex.reconcile_forecasts.TraceInfo.legendgroup">
<code class="sig-name descname">legendgroup</code><em class="property">: Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#greykite.algo.reconcile.convex.reconcile_forecasts.TraceInfo.legendgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Group name to group lines in the legend.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="internal-functions">
<h2>Internal Functions<a class="headerlink" href="#internal-functions" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="id15">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.forecast.silverkite.constants.silverkite_seasonality.</code><code class="sig-name descname">SilverkiteSeasonalityEnum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/constants/silverkite_seasonality.html#SilverkiteSeasonalityEnum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id15" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines default seasonalities for Silverkite estimator.
Names should match those in SeasonalityEnum.
The default order for various seasonalities is stored in this enum.</p>
<dl class="py attribute">
<dt id="id16">
<code class="sig-name descname">DAILY_SEASONALITY</code><em class="property">: greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonality</em><em class="property"> = SilverkiteSeasonality(name='tod', period=24.0, order=12, seas_names='daily', default_min_days=2)</em><a class="headerlink" href="#id16" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">tod</span></code> is 0-24 time of day (tod granularity based on input data, up to second level).
Requires at least two full cycles to add the seasonal term (<code class="docutils literal notranslate"><span class="pre">default_min_days=2</span></code>).</p>
</dd></dl>

<dl class="py attribute">
<dt id="id17">
<code class="sig-name descname">WEEKLY_SEASONALITY</code><em class="property">: greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonality</em><em class="property"> = SilverkiteSeasonality(name='tow', period=7.0, order=4, seas_names='weekly', default_min_days=14)</em><a class="headerlink" href="#id17" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">tow</span></code> is 0-7 time of week (tow granularity based on input data, up to second level).
<code class="docutils literal notranslate"><span class="pre">order=4</span></code> for full flexibility to model daily input.</p>
</dd></dl>

<dl class="py attribute">
<dt id="id18">
<code class="sig-name descname">MONTHLY_SEASONALITY</code><em class="property">: greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonality</em><em class="property"> = SilverkiteSeasonality(name='tom', period=1.0, order=2, seas_names='monthly', default_min_days=60)</em><a class="headerlink" href="#id18" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">tom</span></code> is 0-1 time of month (tom granularity based on input data, up to daily level).</p>
</dd></dl>

<dl class="py attribute">
<dt id="id19">
<code class="sig-name descname">QUARTERLY_SEASONALITY</code><em class="property">: greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonality</em><em class="property"> = SilverkiteSeasonality(name='toq', period=1.0, order=5, seas_names='quarterly', default_min_days=180)</em><a class="headerlink" href="#id19" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">toq</span></code> (continuous time of quarter) with natural period.
Each day is mapped to a value in [0.0, 1.0) based on its position in the calendar quarter:
(Jan1-Mar31, Apr1-Jun30, Jul1-Sep30, Oct1-Dec31). The start of each quarter is 0.0.</p>
</dd></dl>

<dl class="py attribute">
<dt id="id20">
<code class="sig-name descname">YEARLY_SEASONALITY</code><em class="property">: greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonality</em><em class="property"> = SilverkiteSeasonality(name='ct1', period=1.0, order=15, seas_names='yearly', default_min_days=548)</em><a class="headerlink" href="#id20" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">ct1</span></code> (continuous year) with natural period.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="greykite.algo.common.ml_models.fit_ml_model">
<code class="sig-prename descclassname">greykite.algo.common.ml_models.</code><code class="sig-name descname">fit_ml_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">model_formula_str</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fit_algorithm</span><span class="o">=</span><span class="default_value">'linear'</span></em>, <em class="sig-param"><span class="n">fit_algorithm_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pred_cols</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_admissible_value</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_admissible_value</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">uncertainty_dict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">normalize_method</span><span class="o">=</span><span class="default_value">'zero_to_one'</span></em>, <em class="sig-param"><span class="n">regression_weight_col</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/common/ml_models.html#fit_ml_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.ml_models.fit_ml_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits predictive ML (machine learning) models to continuous
response vector (given in <code class="docutils literal notranslate"><span class="pre">y_col</span></code>)
and returns fitted model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – A data frame with the response vector (y) and the feature columns
(<code class="docutils literal notranslate"><span class="pre">x_mat</span></code>).</p></li>
<li><p><strong>model_formula_str</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The prediction model formula string e.g. “y~x1+x2+x3*x4”.
This is similar to R formulas.
See <a class="reference external" href="https://patsy.readthedocs.io/en/latest/formulas.html#how-formulas-work">https://patsy.readthedocs.io/en/latest/formulas.html#how-formulas-work</a>.</p></li>
<li><p><strong>fit_algorithm</strong> (<em class="xref py py-obj">str</em>, optional, default “linear”) – <p>The type of predictive model used in fitting.</p>
<p>See <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>
for available options and their parameters.</p>
</p></li>
<li><p><strong>fit_algorithm_params</strong> (<em class="xref py py-obj">dict</em> or None, optional, default None) – Parameters passed to the requested fit_algorithm.
If None, uses the defaults in <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>.</p></li>
<li><p><strong>y_col</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The column name which has the value of interest to be forecasted
If the model_formula_str is not passed, <code class="docutils literal notranslate"><span class="pre">y_col</span></code> e.g. [“y”]
is used as the response vector column</p></li>
<li><p><strong>pred_cols</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – The names of the feature columns
If the <code class="docutils literal notranslate"><span class="pre">model_formula_str</span></code> is not passed, <code class="docutils literal notranslate"><span class="pre">pred_cols</span></code> e.g.
[“x1”, “x2”, “x3”] is used as the design matrix columns</p></li>
<li><p><strong>min_admissible_value</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>double</em><em>]</em><em>]</em>) – the minimum admissible value for the <code class="docutils literal notranslate"><span class="pre">predict</span></code> function to return</p></li>
<li><p><strong>max_admissible_value</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>double</em><em>]</em><em>]</em>) – the maximum admissible value for the <code class="docutils literal notranslate"><span class="pre">predict</span></code> function to return</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> or None) – <p>If passed as a dictionary an uncertainty model will be fit.
The items in the dictionary are:</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;uncertainty_method&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>the title of the method
as of now only “simple_conditional_residuals” is implemented
which calculates CIs by using residuals</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;params&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict</em></span></dt><dd><p>A dictionary of parameters needed for the <code class="docutils literal notranslate"><span class="pre">uncertainty_method</span></code>
requested</p>
</dd>
</dl>
</div></blockquote>
</p></li>
<li><p><strong>normalize_method</strong> (<em class="xref py py-obj">str</em> or None, default “zero_to_one”) – If a string is provided, it will be used as the normalization method
in <code class="xref py py-obj docutils literal notranslate"><span class="pre">normalize_df</span></code>, passed via
the argument <code class="docutils literal notranslate"><span class="pre">method</span></code>.
Available options are: “zero_to_one”, “statistical”, “minus_half_to_half”, “zero_at_origin”.
If None, no normalization will be performed.
See that function for more details.</p></li>
<li><p><strong>regression_weight_col</strong> (<em class="xref py py-obj">str</em> or None, default None) – The column name for the weights to be used in weighted regression version
of applicable machine-learning models.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>trained_model</strong> –</p>
<p>Trained model dictionary with keys:</p>
<blockquote>
<div><ul>
<li><p>”y” : response values</p></li>
<li><p>”x_design_info” : design matrix information</p></li>
<li><p>”ml_model” : A trained model with predict method</p></li>
<li><dl>
<dt>”uncertainty_model”<span class="classifier"><em class="xref py py-obj">dict</em></span></dt><dd><p>The returned uncertainty_model dict from
<a class="reference internal" href="#greykite.algo.uncertainty.conditional.conf_interval.conf_interval" title="greykite.algo.uncertainty.conditional.conf_interval.conf_interval"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conf_interval</span></code></a>.</p>
</dd>
</dl>
</li>
<li><p>”ml_model_summary”: model summary</p></li>
<li><p>”y_col” : response columns</p></li>
<li><p>”x_mat “: design matrix</p></li>
<li><p>”min_admissible_value” : minimum acceptable value</p></li>
<li><p>”max_admissible_value” : maximum acceptable value</p></li>
<li><p>”normalize_df_func” : normalization function</p></li>
<li><p>”regression_weight_col” : regression weight column</p></li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.algo.common.ml_models.fit_ml_model_with_evaluation">
<code class="sig-prename descclassname">greykite.algo.common.ml_models.</code><code class="sig-name descname">fit_ml_model_with_evaluation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">model_formula_str</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pred_cols</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fit_algorithm</span><span class="o">=</span><span class="default_value">'linear'</span></em>, <em class="sig-param"><span class="n">fit_algorithm_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ind_train</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ind_test</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">training_fraction</span><span class="o">=</span><span class="default_value">0.9</span></em>, <em class="sig-param"><span class="n">randomize_training</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">min_admissible_value</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_admissible_value</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">uncertainty_dict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">normalize_method</span><span class="o">=</span><span class="default_value">'zero_to_one'</span></em>, <em class="sig-param"><span class="n">regression_weight_col</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/common/ml_models.html#fit_ml_model_with_evaluation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.common.ml_models.fit_ml_model_with_evaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits prediction models to continuous response vector (y)
and report results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A data frame with the response vector (y) and the feature columns (<code class="docutils literal notranslate"><span class="pre">x_mat</span></code>)</p></li>
<li><p><strong>model_formula_str</strong> (<em class="xref py py-obj">str</em>) – The prediction model formula e.g. “y~x1+x2+x3*x4”.
This is similar to R language (<a class="reference external" href="https://www.r-project.org/">https://www.r-project.org/</a>) formulas.
See <a class="reference external" href="https://patsy.readthedocs.io/en/latest/formulas.html#how-formulas-work">https://patsy.readthedocs.io/en/latest/formulas.html#how-formulas-work</a>.</p></li>
<li><p><strong>y_col</strong> (<em class="xref py py-obj">str</em>) – The column name which has the value of interest to be forecasted
If the <code class="docutils literal notranslate"><span class="pre">model_formula_str</span></code> is not passed, <code class="docutils literal notranslate"><span class="pre">y_col</span></code> e.g. [“y”] is used as the response
vector column</p></li>
<li><p><strong>pred_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]) – The names of the feature columns
If the <code class="docutils literal notranslate"><span class="pre">model_formula_str</span></code> is not passed, <code class="docutils literal notranslate"><span class="pre">pred_cols</span></code> e.g. [“x1”, “x2”, “x3”]
is used as the design matrix columns</p></li>
<li><p><strong>fit_algorithm</strong> (<em class="xref py py-obj">str</em>, optional, default “linear”) – <p>The type of predictive model used in fitting.</p>
<p>See <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>
for available options and their parameters.</p>
</p></li>
<li><p><strong>fit_algorithm_params</strong> (<em class="xref py py-obj">dict</em> or None, optional, default None) – Parameters passed to the requested fit_algorithm.
If None, uses the defaults in <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>.</p></li>
<li><p><strong>ind_train</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>]) – The index (row number) of the training set</p></li>
<li><p><strong>ind_test</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">int</em>]) – The index (row number) of the test set</p></li>
<li><p><strong>training_fraction</strong> (<em class="xref py py-obj">float</em>, between 0.0 and 1.0) – The fraction of data used for training
This is invoked if ind_train and ind_test are not passed
If this is also None or 1.0, then we skip testing
and train on the entire dataset</p></li>
<li><p><strong>randomize_training</strong> (<em class="xref py py-obj">bool</em>) – If True, then the training and the test sets will be randomized
rather than in chronological order</p></li>
<li><p><strong>min_admissible_value</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>double</em><em>]</em><em>]</em>) – The minimum admissible value for the <code class="docutils literal notranslate"><span class="pre">predict</span></code> function to return</p></li>
<li><p><strong>max_admissible_value</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>double</em><em>]</em><em>]</em>) – The maximum admissible value for the <code class="docutils literal notranslate"><span class="pre">predict</span></code> function to return</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> or None) – <p>If passed as a dictionary an uncertainty model will be fit.
The items in the dictionary are:</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;uncertainty_method&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>the title of the method
as of now only “simple_conditional_residuals” is implemented
which calculates CIs by using residuals</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;params&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict</em></span></dt><dd><p>A dictionary of parameters needed for the <code class="docutils literal notranslate"><span class="pre">uncertainty_method</span></code>
requested</p>
</dd>
</dl>
</div></blockquote>
</p></li>
<li><p><strong>normalize_method</strong> (<em class="xref py py-obj">str</em> or None, default “zero_to_one”) – If a string is provided, it will be used as the normalization method
in <code class="xref py py-obj docutils literal notranslate"><span class="pre">normalize_df</span></code>, passed via
the argument <code class="docutils literal notranslate"><span class="pre">method</span></code>.
Available options are: “zero_to_one”, “statistical”, “minus_half_to_half”, “zero_at_origin”.
If None, no normalization will be performed.
See that function for more details.</p></li>
<li><p><strong>regression_weight_col</strong> (<em class="xref py py-obj">str</em> or None, default None) – The column name for the weights to be used in weighted regression version
of applicable machine-learning models.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>trained_model</strong> –</p>
<p>Trained model dictionary with the following keys.</p>
<blockquote>
<div><p>”ml_model”: A trained model object
“summary”: Summary of the final model trained on all data
“x_mat”: Feature vectors matrix used for training of full data (rows of <code class="docutils literal notranslate"><span class="pre">df</span></code> with NA are dropped)
“y”: Response vector for training and testing (rows of <code class="docutils literal notranslate"><span class="pre">df</span></code> with NA are dropped).</p>
<blockquote>
<div><p>The index corresponds to selected rows in the input <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</div></blockquote>
<p>”y_train”: Response vector used for training
“y_train_pred”: Predicted values of <code class="docutils literal notranslate"><span class="pre">y_train</span></code>
“training_evaluation”: score function value of <code class="docutils literal notranslate"><span class="pre">y_train</span></code> and <code class="docutils literal notranslate"><span class="pre">y_train_pred</span></code>
“y_test”: Response vector used for testing
“y_test_pred”: Predicted values of <code class="docutils literal notranslate"><span class="pre">y_test</span></code>
“test_evaluation”: score function value of <code class="docutils literal notranslate"><span class="pre">y_test</span></code> and <code class="docutils literal notranslate"><span class="pre">y_test_pred</span></code>
“uncertainty_model”: <em class="xref py py-obj">dict</em></p>
<blockquote>
<div><p>The returned uncertainty_model dict from
<a class="reference internal" href="#greykite.algo.uncertainty.conditional.conf_interval.conf_interval" title="greykite.algo.uncertainty.conditional.conf_interval.conf_interval"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conf_interval</span></code></a>.</p>
</div></blockquote>
<p>”plt_compare_test”: plot function to compare <code class="docutils literal notranslate"><span class="pre">y_test</span></code> and <code class="docutils literal notranslate"><span class="pre">y_test_pred</span></code>,
“plt_pred”: plot function to compare</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">y_train</span></code>, <code class="docutils literal notranslate"><span class="pre">y_train_pred</span></code>, <code class="docutils literal notranslate"><span class="pre">y_test</span></code> and <code class="docutils literal notranslate"><span class="pre">y_test_pred</span></code>.</p>
</div></blockquote>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite_helper.get_silverkite_uncertainty_dict">
<code class="sig-prename descclassname">greykite.algo.forecast.silverkite.forecast_silverkite_helper.</code><code class="sig-name descname">get_silverkite_uncertainty_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">uncertainty</span></em>, <em class="sig-param"><span class="n">simple_freq</span><span class="o">=</span><span class="default_value">'DAY'</span></em>, <em class="sig-param"><span class="n">coverage</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite_helper.html#get_silverkite_uncertainty_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite_helper.get_silverkite_uncertainty_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an uncertainty_dict for
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>
input parameter: uncertainty_dict.</p>
<p>The logic is as follows:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>If <code class="docutils literal notranslate"><span class="pre">uncertainty</span></code> is passed as dict:</dt><dd><ul>
<li><p>If <code class="docutils literal notranslate"><span class="pre">quantiles</span></code> are not passed through <code class="docutils literal notranslate"><span class="pre">uncertainty</span></code> we fill them
using <code class="xref py py-obj docutils literal notranslate"><span class="pre">coverage</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">coverage</span></code> also missing or quantiles calculated
in two ways (via <code class="docutils literal notranslate"><span class="pre">uncertainty[&quot;params&quot;][&quot;quantiles&quot;]</span></code> and <code class="docutils literal notranslate"><span class="pre">coverage</span></code>)
do not match, we throw Exceptions</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>If <code class="docutils literal notranslate"><span class="pre">uncertainty==&quot;auto&quot;</span></code>:</dt><dd><ul>
<li><p>We provide defaults based on time frequency of data.</p></li>
<li><p>Specify <code class="docutils literal notranslate"><span class="pre">uncertainty[&quot;params&quot;][&quot;quantiles&quot;]</span></code> based on
<code class="docutils literal notranslate"><span class="pre">coverage</span></code> if provided, otherwise the default coverage is 0.95.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uncertainty</strong> (<em class="xref py py-obj">str</em> or <em class="xref py py-obj">dict</em> or None) – <p>It specifies what method should be used for uncertainty.
If a dict is passed then it is directly returned to be passed to
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a> as <em class="xref py py-obj">uncertainty_dict</em>.</p>
<dl class="simple">
<dt>If “auto”, it builds a generic dict depending on frequency.</dt><dd><ul>
<li><p>For frequencies less than or equal to one day it sets
<em class="xref py py-obj">conditional_cols</em> to be [“dow_hr”].</p></li>
<li><p>Otherwise it sets the conditional_cols to be <em class="xref py py-obj">None</em></p></li>
</ul>
</dd>
</dl>
<p>If None and <code class="xref py py-obj docutils literal notranslate"><span class="pre">coverage</span></code> is None, the upper/lower predictions are not returned</p>
</p></li>
<li><p><strong>simple_freq</strong> (<em class="xref py py-obj">str</em>, optional) – SimpleTimeFrequencyEnum member that best matches the input data frequency
according to <em class="xref py py-obj">get_simple_time_frequency_from_period</em></p></li>
<li><p><strong>coverage</strong> (<em class="xref py py-obj">float</em> or None, optional) – Intended coverage of the prediction bands (0.0 to 1.0)
If None and <em class="xref py py-obj">uncertainty</em> is None, the upper/lower predictions are not returned</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>uncertainty</strong> – An uncertainty dict to be used as input to
<a class="reference internal" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast"><code class="xref py py-obj docutils literal notranslate"><span class="pre">forecast</span></code></a>.
See that function’s docstring for more details.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.forecast.silverkite.forecast_simple_silverkite.</code><code class="sig-name descname">SimpleSilverkiteForecast</code><span class="sig-paren">(</span><em class="sig-param">constants: greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant = &lt;greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_simple_silverkite.html#SimpleSilverkiteForecast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast" title="Permalink to this definition">¶</a></dt>
<dd><p>A derived class of <em class="xref py py-obj">SilverkiteForecast</em>.
Provides an alternative interface with simplified configuration parameters.
Produces the same trained model output and uses the same predict functions.</p>
<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.convert_params">
<code class="sig-name descname">convert_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">time_col</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span></em>, <em class="sig-param"><span class="n">value_col</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span></em>, <em class="sig-param"><span class="n">time_properties</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">freq</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">forecast_horizon</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">origin_for_time_vars</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">train_test_thresh</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)">datetime.datetime</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">training_fraction</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0.9</span></em>, <em class="sig-param"><span class="n">fit_algorithm</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span> <span class="o">=</span> <span class="default_value">'ridge'</span></em>, <em class="sig-param"><span class="n">fit_algorithm_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">auto_holiday</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">holidays_to_model_separately</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">holiday_lookup_countries</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">holiday_pre_num_days</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">holiday_post_num_days</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">holiday_pre_post_num_dict</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">daily_event_df_dict</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">auto_growth</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">changepoints_dict</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">auto_seasonality</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">yearly_seasonality</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">quarterly_seasonality</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">monthly_seasonality</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">weekly_seasonality</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">daily_seasonality</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">max_daily_seas_interaction_order</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_weekly_seas_interaction_order</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">autoreg_dict</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">past_df</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lagged_regressor_dict</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">seasonality_changepoints_dict</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_admissible_value</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_admissible_value</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)">float</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">uncertainty_dict</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">normalize_method</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">growth_term</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'linear'</span></em>, <em class="sig-param"><span class="n">regressor_cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">feature_sets_enabled</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">, </span>Optional<span class="p">[</span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">extra_pred_cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">drop_pred_cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">explicit_pred_cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">regression_weight_col</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">simulation_based</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">simulation_num</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">10</span></em>, <em class="sig-param"><span class="n">fast_simulation</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_simple_silverkite.html#SimpleSilverkiteForecast.convert_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.convert_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts parameters of
<code class="xref py py-func docutils literal notranslate"><span class="pre">forecast_simple_silverkite</span></code> into those
of <code class="xref py py-func docutils literal notranslate"><span class="pre">SilverkiteForecast::forecast</span></code>.</p>
<p>Makes it easier to set parameters to <code class="docutils literal notranslate"><span class="pre">SilverkiteForecast::forecast</span></code> suitable for most forecasting problems.
Provides data-aware defaults for seasonality and interaction terms. Provides a simple
configuration of holidays from an internal holiday database, and user-friendly configuration
for growth and regressors.</p>
<p>These parameters can be set from a plain-text config (e.g. no pandas dataframes).
The parameter list is intentionally flat to facilitate hyperparameter grid search. Every
parameter is either a parameter of <code class="docutils literal notranslate"><span class="pre">SilverkiteForecast::forecast</span></code> or a tuning parameter.</p>
<p class="rubric">Notes</p>
<p>The basic parameters are identical to <code class="docutils literal notranslate"><span class="pre">SilverkiteForecast::forecast</span></code>.
The more complex parameters are specified via config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">daily_event_df_dict</span></code> (via <code class="docutils literal notranslate"><span class="pre">holiday*</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fs_components_df</span></code> (via <em class="xref py py-obj">*_seasonality`</em>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> (via <code class="docutils literal notranslate"><span class="pre">holiday*</span></code>, <code class="docutils literal notranslate"><span class="pre">*seas*</span></code>, <code class="docutils literal notranslate"><span class="pre">growth_term</span></code>,
<code class="docutils literal notranslate"><span class="pre">regressor_cols</span></code>, <code class="docutils literal notranslate"><span class="pre">feature_sets_enabled</span></code>, <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A data frame which includes the timestamp column
as well as the value column. This is the <code class="docutils literal notranslate"><span class="pre">df</span></code> for
training the model, not for future prediction.</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – The column name in <em class="xref py py-obj">df</em> representing time for the time series data
The time column can be anything that can be parsed by pandas DatetimeIndex</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – The column name which has the value of interest to be forecasted</p></li>
<li><p><strong>time_properties</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">any</em>] or None, optional) – <p>Time properties dictionary (likely produced by
<code class="xref py py-obj docutils literal notranslate"><span class="pre">get_forecast_time_properties</span></code>)
with keys:</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;ts&quot;</span></code><span class="classifier"><em class="xref py py-obj">UnivariateTimeSeries</em> or None</span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">df</span></code> converted to a <code class="docutils literal notranslate"><span class="pre">UnivariateTimeSeries</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;period&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Period of each observation (i.e. minimum time between observations, in seconds).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;simple_freq&quot;</span></code><span class="classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SimpleTimeFrequencyEnum</span></code></span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">SimpleTimeFrequencyEnum</span></code> member corresponding to data frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_points&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of observations for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;num_training_days&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Number of days for training.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;start_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>Start year of the training period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;end_year&quot;</span></code><span class="classifier"><em class="xref py py-obj">int</em></span></dt><dd><p>End year of the forecast period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;origin_for_time_vars&quot;</span></code><span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Continuous time representation of the first date in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</dd>
</dl>
</div></blockquote>
<p>In this function,</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">start_year</span></code> and <code class="docutils literal notranslate"><span class="pre">end_year</span></code> are used to define <code class="docutils literal notranslate"><span class="pre">daily_event_df_dict</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simple_freq</span></code> and <code class="docutils literal notranslate"><span class="pre">num_training_days</span></code> are used to define <code class="docutils literal notranslate"><span class="pre">fs_components_df</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simple_freq</span></code> and <code class="docutils literal notranslate"><span class="pre">num_training_days</span></code> are used to set default <code class="docutils literal notranslate"><span class="pre">feature_sets_enabled</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">origin_for_time_vars</span></code> is used to set default <code class="docutils literal notranslate"><span class="pre">origin_for_time_vars</span></code>.</p></li>
<li><p>the other parameters are ignored</p></li>
</ul>
</div></blockquote>
<p>It is okay if <code class="docutils literal notranslate"><span class="pre">num_training_points</span></code>, <code class="docutils literal notranslate"><span class="pre">num_training_days</span></code>, <code class="docutils literal notranslate"><span class="pre">start_year</span></code>, <code class="docutils literal notranslate"><span class="pre">end_year</span></code>
are computed for a superset of <code class="docutils literal notranslate"><span class="pre">df</span></code>. This allows CV splits and backtest, which train on
partial data, to use the same data-aware model parameters as the forecast on all training data.</p>
<p>If None, the values are computed for <code class="docutils literal notranslate"><span class="pre">df</span></code>. This corresponds to using the same
modeling <em>approach</em> on the CV splits and backtest from <em class="xref py py-obj">forecast_pipeline</em>, without
requiring the same parameters. In this case, make sure <code class="docutils literal notranslate"><span class="pre">forecast_horizon</span></code> is at
least as large as the test period for the split, to ensure all holidays are captured.</p>
</p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em> or None, optional, default <em class="xref py py-obj">None</em>) – Frequency of input data.
Used to compute <code class="docutils literal notranslate"><span class="pre">time_properties</span></code> only if <code class="docutils literal notranslate"><span class="pre">time_properties</span> <span class="pre">is</span> <span class="pre">None</span></code>.
Frequency strings can have multiples, e.g. ‘5H’.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases</a>
for a list of frequency aliases.
If None, inferred by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.infer_freq.html#pandas.infer_freq" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.infer_freq</span></code></a>.
Provide this parameter if <code class="docutils literal notranslate"><span class="pre">df</span></code> has missing timepoints.</p></li>
<li><p><strong>forecast_horizon</strong> (<em class="xref py py-obj">int</em> or None, optional, default <em class="xref py py-obj">None</em>) – Number of periods to forecast into the future. Must be &gt; 0.
Used to compute <code class="docutils literal notranslate"><span class="pre">time_properties</span></code> only if <code class="docutils literal notranslate"><span class="pre">time_properties</span> <span class="pre">is</span> <span class="pre">None</span></code>.
If None, default is determined by input data frequency.
Used to determine forecast end date, to pull the appropriate holiday data.
Should be at least as large as the prediction period (if this function
is called from <code class="docutils literal notranslate"><span class="pre">forecast_pipeline</span></code>, the prediction period for different
splits is set via <code class="docutils literal notranslate"><span class="pre">cv_horizon</span></code>, <code class="docutils literal notranslate"><span class="pre">test_horizon</span></code>, <code class="docutils literal notranslate"><span class="pre">forecast_horizon</span></code>).</p></li>
<li><p><strong>origin_for_time_vars</strong> (<em class="xref py py-obj">float</em> or None, optional, default <em class="xref py py-obj">None</em>) – The time origin used to create continuous variables for time.
If None, uses the value from <code class="docutils literal notranslate"><span class="pre">time_properties</span></code>.</p></li>
<li><p><strong>train_test_thresh</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> or None, optional, default <em class="xref py py-obj">None</em>) – e.g. datetime.datetime(2019, 6, 30)
The threshold for training and testing split.
Note that the final returned model is trained using all data.
If None, training split is based on <code class="docutils literal notranslate"><span class="pre">training_fraction</span></code>.</p></li>
<li><p><strong>training_fraction</strong> (<em class="xref py py-obj">float</em> or None, optional, default 0.9) – The fraction of data used for training (0.0 to 1.0)
Used only if <code class="docutils literal notranslate"><span class="pre">train_test_thresh</span> <span class="pre">is</span> <span class="pre">None</span></code>.
If this is also None or 1.0, then we skip testing
and train on the entire dataset.</p></li>
<li><p><strong>fit_algorithm</strong> (<em class="xref py py-obj">str</em>, optional, default “linear”) – <p>The type of predictive model used in fitting.</p>
<p>See <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>
for available options and their parameters.</p>
</p></li>
<li><p><strong>fit_algorithm_params</strong> (<em class="xref py py-obj">dict</em> or None, optional, default None) – Parameters passed to the requested fit_algorithm.
If None, uses the defaults in <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>.</p></li>
<li><p><strong>auto_holiday</strong> (<em class="xref py py-obj">bool</em>, default False) – <p>Whether to automatically infer holiday configuration based on the input timeseries.
The candidate lookup countries are specified by <code class="docutils literal notranslate"><span class="pre">holiday_lookup_countries</span></code>.
If True, the following parameters will be ignored:</p>
<blockquote>
<div><ul>
<li><p>”holidays_to_model_separately”</p></li>
<li><p>”holiday_pre_num_days”</p></li>
<li><p>”holiday_post_num_days”</p></li>
<li><p>”holiday_pre_post_num_dict”</p></li>
</ul>
</div></blockquote>
<p>For details, see <a class="reference internal" href="#greykite.algo.common.holiday_inferrer.HolidayInferrer" title="greykite.algo.common.holiday_inferrer.HolidayInferrer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HolidayInferrer</span></code></a>.
Extra events specified in <code class="docutils literal notranslate"><span class="pre">daily_event_df_dict</span></code> will be added to the inferred holidays.</p>
</p></li>
<li><p><strong>holiday_lookup_countries</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or “auto” or None, optional, default “auto”) – <p>The countries that contain the holidays you intend to model
(<code class="docutils literal notranslate"><span class="pre">holidays_to_model_separately</span></code>).</p>
<blockquote>
<div><ul>
<li><p>If “auto”, uses a default list of countries
that contain the default <code class="docutils literal notranslate"><span class="pre">holidays_to_model_separately</span></code>.
See <a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAY_LOOKUP_COUNTRIES_AUTO" title="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAY_LOOKUP_COUNTRIES_AUTO"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HOLIDAY_LOOKUP_COUNTRIES_AUTO</span></code></a>.</p></li>
<li><p>If a list, must be a list of country names.</p></li>
<li><p>If None or an empty list, no holidays are modeled.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>holidays_to_model_separately</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or “auto” or <a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.ALL_HOLIDAYS_IN_COUNTRIES" title="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.ALL_HOLIDAYS_IN_COUNTRIES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ALL_HOLIDAYS_IN_COUNTRIES</span></code></a> or None, optional, default “auto”  # noqa: E501) – <p>Which holidays to include in the model.
The model creates a separate key, value for each item in <code class="docutils literal notranslate"><span class="pre">holidays_to_model_separately</span></code>.
The other holidays in the countries are grouped together as a single effect.</p>
<blockquote>
<div><ul>
<li><p>If “auto”, uses a default list of important holidays.
See <a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAYS_TO_MODEL_SEPARATELY_AUTO" title="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.HOLIDAYS_TO_MODEL_SEPARATELY_AUTO"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HOLIDAYS_TO_MODEL_SEPARATELY_AUTO</span></code></a>.</p></li>
<li><p>If <a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.ALL_HOLIDAYS_IN_COUNTRIES" title="greykite.algo.forecast.silverkite.constants.silverkite_holiday.SilverkiteHoliday.ALL_HOLIDAYS_IN_COUNTRIES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ALL_HOLIDAYS_IN_COUNTRIES</span></code></a>,
uses all available holidays in <code class="docutils literal notranslate"><span class="pre">holiday_lookup_countries</span></code>. This can often
create a model that has too many parameters, and should typically be avoided.</p></li>
<li><p>If a list, must be a list of holiday names.</p></li>
<li><p>If None or an empty list, all holidays in <code class="docutils literal notranslate"><span class="pre">holiday_lookup_countries</span></code> are grouped together
as a single effect.</p></li>
</ul>
</div></blockquote>
<p>Use <code class="docutils literal notranslate"><span class="pre">holiday_lookup_countries</span></code> to provide a list of countries where these holiday occur.</p>
</p></li>
<li><p><strong>holiday_pre_num_days</strong> (<em class="xref py py-obj">int</em>, default 2) – Model holiday effects for <code class="docutils literal notranslate"><span class="pre">holiday_pre_num_days</span></code> days before the holiday.</p></li>
<li><p><strong>holiday_post_num_days</strong> (<em class="xref py py-obj">int</em>, default 2) – Model holiday effects for <code class="docutils literal notranslate"><span class="pre">holiday_post_num_days</span></code> days after the holiday.</p></li>
<li><p><strong>holiday_pre_post_num_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, (<em class="xref py py-obj">int</em>, <em class="xref py py-obj">int</em>)] or None, default None) – Overrides <code class="docutils literal notranslate"><span class="pre">pre_num</span></code> and <code class="docutils literal notranslate"><span class="pre">post_num</span></code> for each holiday in
<code class="docutils literal notranslate"><span class="pre">holidays_to_model_separately</span></code>.
For example, if <code class="docutils literal notranslate"><span class="pre">holidays_to_model_separately</span></code> contains “Thanksgiving” and “Labor Day”,
this parameter can be set to <code class="docutils literal notranslate"><span class="pre">{&quot;Thanksgiving&quot;:</span> <span class="pre">[1,</span> <span class="pre">3],</span> <span class="pre">&quot;Labor</span> <span class="pre">Day&quot;:</span> <span class="pre">[1,</span> <span class="pre">2]}</span></code>,
denoting that the “Thanksgiving” <code class="docutils literal notranslate"><span class="pre">pre_num</span></code> is 1 and <code class="docutils literal notranslate"><span class="pre">post_num</span></code> is 3, and “Labor Day”
<code class="docutils literal notranslate"><span class="pre">pre_num</span></code> is 1 and <code class="docutils literal notranslate"><span class="pre">post_num</span></code> is 2.
Holidays not specified use the default given by <code class="docutils literal notranslate"><span class="pre">pre_num</span></code> and <code class="docutils literal notranslate"><span class="pre">post_num</span></code>.</p></li>
<li><p><strong>daily_event_df_dict</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>] or None, default None) – <p>A dictionary of data frames, each representing events data for the corresponding key.
Specifies additional events to include besides the holidays specified above. The format
is the same as in <em class="xref py py-obj">forecast</em>.
The DataFrame has two columns:</p>
<blockquote>
<div><ul>
<li><p>The first column contains event dates. Must be in a format
recognized by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.to_datetime.html#pandas.to_datetime" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.to_datetime</span></code></a>. Must be at daily
frequency for proper join. It is joined against the time
in <code class="docutils literal notranslate"><span class="pre">df</span></code>, converted to a day:
<code class="docutils literal notranslate"><span class="pre">pd.to_datetime(pd.DatetimeIndex(df[time_col]).date)</span></code>.</p></li>
<li><p>the second column contains the event label for each date</p></li>
</ul>
</div></blockquote>
<p>The column order is important; column names are ignored.
The event dates must span their occurrences in both the training
and future prediction period.</p>
<p>During modeling, each key in the dictionary is mapped to a categorical variable
named <code class="docutils literal notranslate"><span class="pre">f&quot;{EVENT_PREFIX}_{key}&quot;</span></code>, whose value at each timestamp is specified
by the corresponding DataFrame.</p>
<p>For example, to manually specify a yearly event on September 1
during a training/forecast period that spans 2020-2022:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;custom_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;is_event&quot;</span><span class="p">,</span> <span class="s2">&quot;is_event&quot;</span><span class="p">,</span> <span class="s2">&quot;is_event&quot;</span><span class="p">]</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It’s possible to specify multiple events in the same df. Two events,
<code class="docutils literal notranslate"><span class="pre">&quot;sep&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;oct&quot;</span></code> are specified below for 2020-2021:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;custom_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-10-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-10-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;sep&quot;</span><span class="p">,</span> <span class="s2">&quot;oct&quot;</span><span class="p">,</span> <span class="s2">&quot;sep&quot;</span><span class="p">,</span> <span class="s2">&quot;oct&quot;</span><span class="p">]</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Use multiple keys if two events may fall on the same date. These events
must be in separate DataFrames:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;fixed_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;fixed_event&quot;</span>
    <span class="p">}),</span>
    <span class="s2">&quot;moving_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-08-28&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09-03&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;moving_event&quot;</span>
    <span class="p">}),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The multiple event specification can be used even if events never overlap. An
equivalent specification to the second example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;sep&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;is_event&quot;</span>
    <span class="p">}),</span>
    <span class="s2">&quot;oct&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-10-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-10-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;is_event&quot;</span>
    <span class="p">}),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note: All these events are automatically added to the model. There is no need
to specify them in <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> as you would for
<em class="xref py py-obj">forecast</em>.</p>
<p>Note: Do not use <a class="reference internal" href="#greykite.common.constants.EVENT_DEFAULT" title="greykite.common.constants.EVENT_DEFAULT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EVENT_DEFAULT</span></code></a>
in the second column. This is reserved to indicate dates that do not
correspond to an event.</p>
</p></li>
<li><p><strong>auto_growth</strong> (<em class="xref py py-obj">bool</em>, default False) – <p>Whether to automatically infer growth configuration.
If True, the growth term and automatically changepoint detection configuration
will be inferred from input timeseries,
and the following parameters will be ignored:</p>
<blockquote>
<div><ul>
<li><p>”growth_term”</p></li>
<li><p>”changepoints_dict” (Except parameters that controls how custom changepoint
are combined with automatically detected changepoints. These parameters include
“dates”, “combine_changepoint_min_distance” and “keep_detected”.)</p></li>
</ul>
</div></blockquote>
<p>For detail, see
<code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_trend_changepoint_detection_params</span></code>.</p>
</p></li>
<li><p><strong>changepoints_dict</strong> (<em class="xref py py-obj">dict</em> or None, optional, default None) – <p>Specifies the changepoint configuration.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;method&quot;</span></code>: <em class="xref py py-obj">str</em></dt><dd><p>The method to locate changepoints.
Valid options:</p>
<blockquote>
<div><ul>
<li><p>”uniform”. Places n_changepoints evenly spaced changepoints to allow growth to change.</p></li>
<li><p>”custom”. Places changepoints at the specified dates.</p></li>
<li><p>”auto”. Automatically detects change points. For configuration, see
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_trend_changepoints</span></code></a></p></li>
</ul>
</div></blockquote>
<p>Additional keys to provide parameters for each particular method are described below.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;continuous_time_col&quot;</span></code>: <em class="xref py py-obj">str</em>, optional</dt><dd><p>Column to apply <code class="docutils literal notranslate"><span class="pre">growth_func</span></code> to, to generate changepoint features
Typically, this should match the growth term in the model</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;growth_func&quot;</span></code>: callable or None, optional</dt><dd><p>Growth function (scalar -&gt; scalar). Changepoint features are created
by applying <code class="docutils literal notranslate"><span class="pre">growth_func</span></code> to <code class="docutils literal notranslate"><span class="pre">continuous_time_col</span></code> with offsets.
If None, uses identity function to use <code class="docutils literal notranslate"><span class="pre">continuous_time_col</span></code> directly
as growth term
If changepoints_dict[“method”] == “uniform”, this other key is required:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;n_changepoints&quot;</span></code>: int</dt><dd><p>number of changepoints to evenly space across training period</p>
</dd>
</dl>
</div></blockquote>
<p>If changepoints_dict[“method”] == “custom”, this other key is required:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;dates&quot;</span></code>: Iterable[Union[int, float, str, datetime]]</dt><dd><p>Changepoint dates. Must be parsable by pd.to_datetime.
Changepoints are set at the closest time on or after these dates
in the dataset.</p>
</dd>
</dl>
</div></blockquote>
<p>If changepoints_dict[“method”] == “auto”, the keys that matches the parameters in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_trend_changepoints</span></code></a>,
except <code class="docutils literal notranslate"><span class="pre">df</span></code>, <code class="docutils literal notranslate"><span class="pre">time_col</span></code> and <code class="docutils literal notranslate"><span class="pre">value_col</span></code>, are optional.
Extra keys also include “dates”, “combine_changepoint_min_distance” and “keep_detected” to specify
additional custom trend changepoints. These three parameters correspond to the three parameters
“custom_changepoint_dates”, “min_distance” and “keep_detected” in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoints_utils.combine_detected_and_custom_trend_changepoints" title="greykite.algo.changepoint.adalasso.changepoints_utils.combine_detected_and_custom_trend_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">combine_detected_and_custom_trend_changepoints</span></code></a>.</p>
</dd>
</dl>
</p></li>
<li><p><strong>auto_seasonality</strong> (<em class="xref py py-obj">bool</em>, default False) – <p>Whether to automatically infer seasonality orders.
If True, the seasonality orders will be automatically inferred from input timeseries
and the following parameters will be ignored unless the value is <code class="docutils literal notranslate"><span class="pre">False</span></code>:</p>
<blockquote>
<div><ul>
<li><p>”yearly_seasonality”</p></li>
<li><p>”quarterly_seasonality”</p></li>
<li><p>”monthly_seasonality”</p></li>
<li><p>”weekly_seasonality”</p></li>
<li><p>”daily_seasonality”</p></li>
</ul>
</div></blockquote>
<p>If any of the above parameter’s value is <code class="docutils literal notranslate"><span class="pre">False</span></code>,
the corresponding seasonality order will be forced to be zero,
regardless of the inferring result.
For detail, see <a class="reference internal" href="#greykite.algo.common.seasonality_inferrer.SeasonalityInferrer" title="greykite.algo.common.seasonality_inferrer.SeasonalityInferrer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SeasonalityInferrer</span></code></a>.</p>
</p></li>
<li><p><strong>yearly_seasonality</strong> (<em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em>) – Determines the yearly seasonality.
‘auto’, True, False, or a number for the Fourier order</p></li>
<li><p><strong>quarterly_seasonality</strong> (<em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em>) – Determines the quarterly seasonality.
‘auto’, True, False, or a number for the Fourier order</p></li>
<li><p><strong>monthly_seasonality</strong> (<em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em>) – Determines the monthly seasonality.
‘auto’, True, False, or a number for the Fourier order</p></li>
<li><p><strong>weekly_seasonality</strong> (<em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em>) – Determines the weekly seasonality.
‘auto’, True, False, or a number for the Fourier order</p></li>
<li><p><strong>daily_seasonality</strong> (<em class="xref py py-obj">str</em> or <em class="xref py py-obj">bool</em> or <em class="xref py py-obj">int</em>) – Determines the daily seasonality.
‘auto’, True, False, or a number for the Fourier order</p></li>
<li><p><strong>max_daily_seas_interaction_order</strong> (<em class="xref py py-obj">int</em> or None, optional, default <em class="xref py py-obj">None</em>) – Max fourier order for interaction terms with daily seasonality.
If None, uses all available terms.</p></li>
<li><p><strong>max_weekly_seas_interaction_order</strong> (<em class="xref py py-obj">int</em> or None, optional, default <em class="xref py py-obj">None</em>) – Max fourier order for interaction terms with weekly seasonality.
If None, uses all available terms.</p></li>
<li><p><strong>autoreg_dict</strong> (<em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em> or None, optional, default <em class="xref py py-obj">None</em>) – <p>If a <em class="xref py py-obj">dict</em>: A dictionary with arguments for <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df</span></code>.
That function’s parameter <code class="docutils literal notranslate"><span class="pre">value_col</span></code> is inferred from the input of
current function <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>. Other keys are:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;agg_lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;series_na_fill_func&quot;</span></code> : callable</p>
</div></blockquote>
<p>If a <em class="xref py py-obj">str</em>: The string will represent a method and a dictionary will be
constructed using that <em class="xref py py-obj">str</em>.
Currently only implemented method is “auto” which uses
<em class="xref py py-obj">__get_default_autoreg_dict</em>
to create a dictionary.
See more details for above parameters in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df</span></code>.</p>
</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – The past df used for building autoregression features.
This is not necessarily needed since imputation is available,
however, if such data is available but not used in training for speed purposes,
they can be passed here to build more accurate autoregression features.</p></li>
<li><p><strong>lagged_regressor_dict</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>A dictionary with arguments for <code class="xref py py-obj docutils literal notranslate"><span class="pre">greykite.common.features.timeseries_lags.build_autoreg_df_multi</span></code>.
The keys of the dictionary are the target lagged regressor column names.
It can leverage the regressors included in <code class="docutils literal notranslate"><span class="pre">df</span></code>.
The value of each key is either a <em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em>.
If <em class="xref py py-obj">dict</em>, it has the following keys:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;agg_lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;series_na_fill_func&quot;</span></code> : callable</p>
</div></blockquote>
<p>If <em class="xref py py-obj">str</em>, it represents a method and a dictionary will be constructed using that <em class="xref py py-obj">str</em>.
Currently the only implemented method is “auto” which uses
<em class="xref py py-obj">__get_default_lagged_regressor_dict</em>
to create a dictionary for each lagged regressor.
An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lagged_regressor_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;regressor1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]},</span>
        <span class="s2">&quot;agg_lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;orders_list&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]],</span>
            <span class="s2">&quot;interval_list&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)]},</span>
        <span class="s2">&quot;series_na_fill_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()},</span>
    <span class="s2">&quot;regressor2&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>seasonality_changepoints_dict</strong> (<em class="xref py py-obj">dict</em> or None, optional, default <em class="xref py py-obj">None</em>) – The parameter dictionary for seasonality change point detection. Parameters are in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_seasonality_changepoints" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_seasonality_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_seasonality_changepoints</span></code></a>.
Note <code class="docutils literal notranslate"><span class="pre">df</span></code>, <code class="docutils literal notranslate"><span class="pre">time_col</span></code>, <code class="docutils literal notranslate"><span class="pre">value_col</span></code> and <code class="docutils literal notranslate"><span class="pre">trend_changepoints</span></code> are auto populated,
and do not need to be provided.</p></li>
<li><p><strong>min_admissible_value</strong> (<em class="xref py py-obj">float</em> or None, optional, default <em class="xref py py-obj">None</em>) – The minimum admissible value to return during prediction.
If None, no limit is applied.</p></li>
<li><p><strong>max_admissible_value</strong> (<em class="xref py py-obj">float</em> or None, optional, default <em class="xref py py-obj">None</em>) – The maximum admissible value to return during prediction.
If None, no limit is applied.</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> or None, optional, default <em class="xref py py-obj">None</em>) – <dl>
<dt>How to fit the uncertainty model. A dictionary with keys:</dt><dd><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;uncertainty_method&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>The title of the method.
Only “simple_conditional_residuals” is implemented
in <code class="docutils literal notranslate"><span class="pre">fit_prediction_model</span></code> which calculates CIs using residuals</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;params&quot;</span></code>: <em class="xref py py-obj">dict</em></dt><dd><p>A dictionary of parameters needed for
the requested <code class="docutils literal notranslate"><span class="pre">uncertainty_method</span></code>. For example, for
<code class="docutils literal notranslate"><span class="pre">uncertainty_method=&quot;simple_conditional_residuals&quot;</span></code>, see
parameters of <a class="reference internal" href="#greykite.algo.uncertainty.conditional.conf_interval.conf_interval" title="greykite.algo.uncertainty.conditional.conf_interval.conf_interval"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conf_interval</span></code></a>,
listed briefly here:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;conditional_cols&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;quantiles&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;quantile_estimation_method&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;sample_size_thresh&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;small_sample_size_method&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;small_sample_size_quantile&quot;</span></code></p>
</div></blockquote>
</dd>
</dl>
</dd>
</dl>
<p>If None, no uncertainty intervals are calculated.</p>
</p></li>
<li><p><strong>normalize_method</strong> (<em class="xref py py-obj">str</em> or None, default None) – If a string is provided, it will be used as the normalization method
in <code class="xref py py-obj docutils literal notranslate"><span class="pre">normalize_df</span></code>, passed via
the argument <code class="docutils literal notranslate"><span class="pre">method</span></code>.
Available options are: “zero_to_one”, “statistical”, “minus_half_to_half”, “zero_at_origin”.
If None, no normalization will be performed.
See that function for more details.</p></li>
<li><p><strong>growth_term</strong> (<em class="xref py py-obj">str</em> or None, optional, default “ct1”) – How to model the growth. Valid options are
{“linear”, “quadratic”, “sqrt”, “cuberoot”}.
See <a class="reference internal" href="#greykite.common.constants.GrowthColEnum" title="greykite.common.constants.GrowthColEnum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GrowthColEnum</span></code></a>.</p></li>
<li><p><strong>regressor_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, optional, default None) – The columns in <code class="docutils literal notranslate"><span class="pre">df</span></code> to use as regressors.
These must be provided during prediction as well.</p></li>
<li><p><strong>feature_sets_enabled</strong> (<em class="xref py py-obj">dict</em> [<em class="xref py py-obj">str</em>, <em class="xref py py-obj">bool</em> or “auto” or None] or <em class="xref py py-obj">bool</em> or “auto” or None, default “auto”) – <p>Whether to include interaction terms and categorical variables to increase model flexibility.</p>
<p>If a <em class="xref py py-obj">dict</em>, boolean values indicate whether include various sets of features in the model.
The following keys are recognized
(from <a class="reference internal" href="#greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn" title="greykite.algo.forecast.silverkite.constants.silverkite_column.SilverkiteColumn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SilverkiteColumn</span></code></a>):</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_HOUR_OF_WEEK&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>Constant hour of week effect</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_WEEKEND_SEAS&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>Daily seasonality interaction with is_weekend</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_DAY_OF_WEEK_SEAS&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>Daily seasonality interaction with day of week</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_TREND_DAILY_SEAS&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>Allow daily seasonality to change over time by is_weekend</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_EVENT_SEAS&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>Allow sub-daily event effects</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_EVENT_WEEKEND_SEAS&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>Allow sub-daily event effect to interact with is_weekend</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_DAY_OF_WEEK&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>Constant day of week effect</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_TREND_WEEKEND&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>Allow trend (growth, changepoints) to interact with is_weekend</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_TREND_DAY_OF_WEEK&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>Allow trend to interact with day of week</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;COLS_TREND_WEEKLY_SEAS&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>Allow weekly seasonality to change over time</p>
</dd>
</dl>
</div></blockquote>
<p>The following dictionary values are recognized:</p>
<blockquote>
<div><ul>
<li><p>True: include the feature set in the model</p></li>
<li><p>False: do not include the feature set in the model</p></li>
<li><p>None: do not include the feature set in the model</p></li>
<li><p>”auto” or not provided: use the default setting based on data frequency and size</p></li>
</ul>
</div></blockquote>
<p>If not a <em class="xref py py-obj">dict</em>:</p>
<blockquote>
<div><ul>
<li><p>if a boolean, equivalent to a dictionary with all values set to the boolean.</p></li>
<li><p>if None, equivalent to a dictionary with all values set to False.</p></li>
<li><p>if “auto”, equivalent to a dictionary with all values set to “auto”.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>extra_pred_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, optional, default <em class="xref py py-obj">None</em>) – Columns to include in <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> for <code class="docutils literal notranslate"><span class="pre">SilverkiteForecast::forecast</span></code>.
Other columns are added to <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> by the other
parameters of this function (i.e. <code class="docutils literal notranslate"><span class="pre">holidays_*</span></code>, <code class="docutils literal notranslate"><span class="pre">growth_term</span></code>,
<code class="docutils literal notranslate"><span class="pre">regressors</span></code>, <code class="docutils literal notranslate"><span class="pre">feature_sets_enabled</span></code>).
If <em class="xref py py-obj">None</em>, treated is the same as [].</p></li>
<li><p><strong>drop_pred_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – Names of predictor columns to be dropped from the final model.
Ignored if None.</p></li>
<li><p><strong>explicit_pred_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – Names of the explicit predictor columns which will be
the only variables in the final model. Note that this overwrites
the generated predictors in the model and may include new
terms not appearing in the predictors (e.g. interaction terms).
Ignored if None.</p></li>
<li><p><strong>regression_weight_col</strong> (<em class="xref py py-obj">str</em> or None, default None) – The column name for the weights to be used in weighted regression version
of applicable machine-learning models.</p></li>
<li><p><strong>simulation_based</strong> (<em class="xref py py-obj">bool</em>, default False) – Boolean to specify if the future predictions are to be using simulations
or not.
Note that this is only used in deciding what parameters should be
used for certain components e.g. autoregression, if automatic methods
are requested. However, the auto-settings and the prediction settings
regarding using simulations should match.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em>, default 10) – The number of simulations for when simulations are used for generating
forecasts and prediction intervals.</p></li>
<li><p><strong>fast_simulation</strong> (<em class="xref py py-obj">bool</em>, default False) – Deterimes if fast simulations are to be used. This only impacts models
which include auto-regression. This method will only generate one simulation
without any error being added and then add the error using the volatility
model. The advantage is a major boost in speed during inference and the
disadvantage is potentially less accurate prediction intervals.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>parameters</strong> – Parameters to call <code class="xref py py-func docutils literal notranslate"><span class="pre">forecast</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.forecast_simple">
<code class="sig-name descname">forecast_simple</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_simple_silverkite.html#SimpleSilverkiteForecast.forecast_simple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.forecast_simple" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper around <code class="docutils literal notranslate"><span class="pre">SilverkiteForecast::forecast</span></code> that simplifies some of the input parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>positional args</em>) – Positional args to pass to
<code class="xref py py-func docutils literal notranslate"><span class="pre">convert_simple_silverkite_params</span></code>.
See that function for details.</p></li>
<li><p><strong>kwargs</strong> (<em>keyword args</em>) – Keyword args to pass to
<code class="xref py py-func docutils literal notranslate"><span class="pre">convert_simple_silverkite_params</span></code>.
See that function for details.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>trained_model</strong> – The return value of <code class="xref py py-func docutils literal notranslate"><span class="pre">forecast</span></code>
A dictionary that includes the fitted model from the function
<a class="reference internal" href="#greykite.algo.common.ml_models.fit_ml_model_with_evaluation" title="greykite.algo.common.ml_models.fit_ml_model_with_evaluation"><code class="xref py py-func docutils literal notranslate"><span class="pre">fit_ml_model_with_evaluation</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.forecast">
<code class="sig-name descname">forecast</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">time_col</em>, <em class="sig-param">value_col</em>, <em class="sig-param">freq=None</em>, <em class="sig-param">origin_for_time_vars=None</em>, <em class="sig-param">extra_pred_cols=None</em>, <em class="sig-param">drop_pred_cols=None</em>, <em class="sig-param">explicit_pred_cols=None</em>, <em class="sig-param">train_test_thresh=None</em>, <em class="sig-param">training_fraction=0.9</em>, <em class="sig-param">fit_algorithm='linear'</em>, <em class="sig-param">fit_algorithm_params=None</em>, <em class="sig-param">daily_event_df_dict=None</em>, <em class="sig-param">fs_components_df=  name  period  order seas_names 0  tod    24.0      3      daily 1  tow     7.0      3     weekly 2  toy     1.0      5     yearly</em>, <em class="sig-param">autoreg_dict=None</em>, <em class="sig-param">past_df=None</em>, <em class="sig-param">lagged_regressor_dict=None</em>, <em class="sig-param">changepoints_dict=None</em>, <em class="sig-param">seasonality_changepoints_dict=None</em>, <em class="sig-param">changepoint_detector=None</em>, <em class="sig-param">min_admissible_value=None</em>, <em class="sig-param">max_admissible_value=None</em>, <em class="sig-param">uncertainty_dict=None</em>, <em class="sig-param">normalize_method=None</em>, <em class="sig-param">adjust_anomalous_dict=None</em>, <em class="sig-param">impute_dict=None</em>, <em class="sig-param">regression_weight_col=None</em>, <em class="sig-param">forecast_horizon=None</em>, <em class="sig-param">simulation_based=False</em>, <em class="sig-param">simulation_num=10</em>, <em class="sig-param">fast_simulation=False</em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>A function for forecasting.
It captures growth, seasonality, holidays and other patterns.
See “Capturing the time-dependence in the precipitation process for
weather risk assessment” as a reference:
<a class="reference external" href="https://link.springer.com/article/10.1007/s00477-016-1285-8">https://link.springer.com/article/10.1007/s00477-016-1285-8</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A data frame which includes the timestamp column
as well as the value column.</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – The column name in <code class="docutils literal notranslate"><span class="pre">df</span></code> representing time for the time series data.
The time column can be anything that can be parsed by pandas DatetimeIndex.</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – The column name which has the value of interest to be forecasted.</p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em>, optional, default None) – The intended timeseries frequency, DateOffset alias.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases</a>.
If None automatically inferred. This frequency will be passed through
this function as a part of the trained model and used at predict time
if needed.
If data include missing timestamps, and frequency is monthly/annual,
user should pass this parameter, as it cannot be inferred.</p></li>
<li><p><strong>origin_for_time_vars</strong> (<em class="xref py py-obj">float</em>, optional, default None) – The time origin used to create continuous variables for time.
If None, uses the first record in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
<li><p><strong>extra_pred_cols</strong> (<em class="xref py py-obj">list</em> of <em class="xref py py-obj">str</em>, default None) – <p>Names of the extra predictor columns.</p>
<p>If None, uses [“ct1”], a simple linear growth term.</p>
<p>It can leverage regressors included in <code class="docutils literal notranslate"><span class="pre">df</span></code> and those generated
by the other parameters. The following effects will not be modeled
unless specified in <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>:</p>
<blockquote>
<div><ul>
<li><p>included in <code class="docutils literal notranslate"><span class="pre">df</span></code>: e.g. macro-economic factors, related timeseries</p></li>
<li><p>from <a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>:
e.g. ct1, ct_sqrt, dow, …</p></li>
<li><p>from <code class="docutils literal notranslate"><span class="pre">daily_event_df_dict</span></code>: e.g. “events_India”, …</p></li>
</ul>
</div></blockquote>
<p>The columns corresponding to the following parameters are included
in the model without specification in <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>.
<code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> can be used to add interactions with these terms.</p>
<blockquote>
<div><p>changepoints_dict: e.g. changepoint0, changepoint1, …
fs_components_df: e.g. sin2_dow, cos4_dow_weekly
autoreg_dict: e.g. x_lag1, x_avglag_2_3_4, y_avglag_1_to_5</p>
</div></blockquote>
<p>If a regressor is passed in <code class="docutils literal notranslate"><span class="pre">df</span></code>, it needs to be provided to
the associated predict function:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">predict_silverkite</span></code>: via <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> or <code class="docutils literal notranslate"><span class="pre">new_external_regressor_df</span></code>
<code class="docutils literal notranslate"><span class="pre">silverkite.predict_n(_no_sim</span></code>: via <code class="docutils literal notranslate"><span class="pre">new_external_regressor_df</span></code></p>
</div></blockquote>
</p></li>
<li><p><strong>drop_pred_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – Names of predictor columns to be dropped from the final model.
Ignored if None</p></li>
<li><p><strong>explicit_pred_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – Names of the explicit predictor columns which will be
the only variables in the final model. Note that this overwrites
the generated predictors in the model and may include new
terms not appearing in the predictors (e.g. interaction terms).
Ignored if None</p></li>
<li><p><strong>train_test_thresh</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>, optional) – e.g. datetime.datetime(2019, 6, 30)
The threshold for training and testing split.
Note that the final returned model is trained using all data.
If None, training split is based on <code class="docutils literal notranslate"><span class="pre">training_fraction</span></code></p></li>
<li><p><strong>training_fraction</strong> (<em class="xref py py-obj">float</em>, optional) – The fraction of data used for training (0.0 to 1.0)
Used only if <code class="docutils literal notranslate"><span class="pre">train_test_thresh</span></code> is None.
If this is also None or 1.0, then we skip testing
and train on the entire dataset.</p></li>
<li><p><strong>fit_algorithm</strong> (<em class="xref py py-obj">str</em>, optional, default “linear”) – <p>The type of predictive model used in fitting.</p>
<p>See <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>
for available options and their parameters.</p>
</p></li>
<li><p><strong>fit_algorithm_params</strong> (<em class="xref py py-obj">dict</em> or None, optional, default None) – Parameters passed to the requested fit_algorithm.
If None, uses the defaults in <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>.</p></li>
<li><p><strong>daily_event_df_dict</strong> (<em class="xref py py-obj">dict</em> or None, optional, default None) – <p>A dictionary of data frames, each representing events data for the corresponding key.
The DataFrame has two columns:</p>
<blockquote>
<div><ul>
<li><p>The first column contains event dates. Must be in a format
recognized by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.to_datetime.html#pandas.to_datetime" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.to_datetime</span></code></a>. Must be at daily
frequency for proper join. It is joined against the time
in <code class="docutils literal notranslate"><span class="pre">df</span></code>, converted to a day:
<code class="docutils literal notranslate"><span class="pre">pd.to_datetime(pd.DatetimeIndex(df[time_col]).date)</span></code>.</p></li>
<li><p>the second column contains the event label for each date</p></li>
</ul>
</div></blockquote>
<p>The column order is important; column names are ignored.
The event dates must span their occurrences in both the training
and future prediction period.</p>
<p>During modeling, each key in the dictionary is mapped to a categorical variable
named <code class="docutils literal notranslate"><span class="pre">f&quot;{EVENT_PREFIX}_{key}&quot;</span></code>, whose value at each timestamp is specified
by the corresponding DataFrame.</p>
<p>For example, to manually specify a yearly event on September 1
during a training/forecast period that spans 2020-2022:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;custom_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;is_event&quot;</span><span class="p">,</span> <span class="s2">&quot;is_event&quot;</span><span class="p">,</span> <span class="s2">&quot;is_event&quot;</span><span class="p">]</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It’s possible to specify multiple events in the same df. Two events,
<code class="docutils literal notranslate"><span class="pre">&quot;sep&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;oct&quot;</span></code> are specified below for 2020-2021:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;custom_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-10-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-10-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;sep&quot;</span><span class="p">,</span> <span class="s2">&quot;oct&quot;</span><span class="p">,</span> <span class="s2">&quot;sep&quot;</span><span class="p">,</span> <span class="s2">&quot;oct&quot;</span><span class="p">]</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Use multiple keys if two events may fall on the same date. These events
must be in separate DataFrames:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;fixed_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;fixed_event&quot;</span>
    <span class="p">}),</span>
    <span class="s2">&quot;moving_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-08-28&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09-03&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;moving_event&quot;</span>
    <span class="p">}),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The multiple event specification can be used even if events never overlap. An
equivalent specification to the second example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;sep&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;is_event&quot;</span>
    <span class="p">}),</span>
    <span class="s2">&quot;oct&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-10-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-10-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;is_event&quot;</span>
    <span class="p">}),</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The events you want to use must be specified in <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>.
These take the form: <code class="docutils literal notranslate"><span class="pre">f&quot;{EVENT_PREFIX}_{key}&quot;</span></code>, where
<a class="reference internal" href="#greykite.common.constants.EVENT_PREFIX" title="greykite.common.constants.EVENT_PREFIX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EVENT_PREFIX</span></code></a> is the constant.</p>
<p>Do not use <a class="reference internal" href="#greykite.common.constants.EVENT_DEFAULT" title="greykite.common.constants.EVENT_DEFAULT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EVENT_DEFAULT</span></code></a>
in the second column. This is reserved to indicate dates that do not
correspond to an event.</p>
</div>
</p></li>
<li><p><strong>fs_components_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, optional) – <p>A dataframe with information about fourier series generation.
Must contain columns with following names:</p>
<blockquote>
<div><p>”name”: name of the timeseries feature e.g. “tod”, “tow” etc.
“period”: Period of the fourier series, optional, default 1.0
“order”: Order of the fourier series, optional, default 1.0
“seas_names”: season names corresponding to the name
(e.g. “daily”, “weekly” etc.), optional.</p>
</div></blockquote>
<p>Default includes daily, weekly , yearly seasonality.</p>
</p></li>
<li><p><strong>autoreg_dict</strong> (<em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em> or None, optional, default <em class="xref py py-obj">None</em>) – <p>If a <em class="xref py py-obj">dict</em>: A dictionary with arguments for <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df</span></code>.
That function’s parameter <code class="docutils literal notranslate"><span class="pre">value_col</span></code> is inferred from the input of
current function <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>. Other keys are:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;agg_lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;series_na_fill_func&quot;</span></code> : callable</p>
</div></blockquote>
<p>If a <em class="xref py py-obj">str</em>: The string will represent a method and a dictionary will be
constructed using that <em class="xref py py-obj">str</em>.
Currently only implemented method is “auto” which uses
<em class="xref py py-obj">__get_default_autoreg_dict</em>
to create a dictionary.
See more details for above parameters in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df</span></code>.</p>
</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – <p>The past df used for building autoregression features.
This is not necessarily needed since imputation is possible.
However, it is recommended to provide <code class="docutils literal notranslate"><span class="pre">past_df</span></code> for more accurate
autoregression features and faster training (by skipping imputation).
The columns are:</p>
<blockquote>
<div><dl>
<dt>time_col<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a> or <em class="xref py py-obj">str</em></span></dt><dd><p>The timestamps.</p>
</dd>
<dt>value_col<span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>The past values.</p>
</dd>
<dt>addition_regressor_cols<span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Any additional regressors.</p>
</dd>
</dl>
</div></blockquote>
<p>Note that this <code class="docutils literal notranslate"><span class="pre">past_df</span></code> is assumed to immediately precede <code class="docutils literal notranslate"><span class="pre">df</span></code> without gaps,
otherwise an error will be raised.</p>
</p></li>
<li><p><strong>lagged_regressor_dict</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>A dictionary with arguments for <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df_multi</span></code>.
The keys of the dictionary are the target lagged regressor column names.
It can leverage the regressors included in <code class="docutils literal notranslate"><span class="pre">df</span></code>.
The value of each key is either a <em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em>.
If <em class="xref py py-obj">dict</em>, it has the following keys:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;agg_lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;series_na_fill_func&quot;</span></code> : callable</p>
</div></blockquote>
<p>If <em class="xref py py-obj">str</em>, it represents a method and a dictionary will be constructed using that <em class="xref py py-obj">str</em>.
Currently the only implemented method is “auto” which uses
<em class="xref py py-obj">__get_default_lagged_regressor_dict</em>
to create a dictionary for each lagged regressor.
An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lagged_regressor_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;regressor1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]},</span>
        <span class="s2">&quot;agg_lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;orders_list&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]],</span>
            <span class="s2">&quot;interval_list&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)]},</span>
        <span class="s2">&quot;series_na_fill_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()},</span>
    <span class="s2">&quot;regressor2&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>Check the docstring of <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df_multi</span></code>
for more details for each argument.</p>
</p></li>
<li><p><strong>changepoints_dict</strong> (<em class="xref py py-obj">dict</em> or None, optional, default None) – <p>Specifies the changepoint configuration.</p>
<dl>
<dt>”method”: <em class="xref py py-obj">str</em></dt><dd><p>The method to locate changepoints.
Valid options:</p>
<blockquote>
<div><ul>
<li><p>”uniform”. Places n_changepoints evenly spaced changepoints to allow growth to change.</p></li>
<li><p>”custom”. Places changepoints at the specified dates.</p></li>
<li><p>”auto”. Automatically detects change points. For configuration, see
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_trend_changepoints</span></code></a></p></li>
</ul>
</div></blockquote>
<p>Additional keys to provide parameters for each particular method are described below.</p>
</dd>
<dt>”continuous_time_col”: <em class="xref py py-obj">str</em>, optional</dt><dd><p>Column to apply <code class="docutils literal notranslate"><span class="pre">growth_func</span></code> to, to generate changepoint features
Typically, this should match the growth term in the model</p>
</dd>
<dt>”growth_func”: Optional[func]</dt><dd><p>Growth function (scalar -&gt; scalar). Changepoint features are created
by applying <code class="docutils literal notranslate"><span class="pre">growth_func</span></code> to <code class="docutils literal notranslate"><span class="pre">continuous_time_col</span></code> with offsets.
If None, uses identity function to use <code class="docutils literal notranslate"><span class="pre">continuous_time_col</span></code> directly
as growth term
If changepoints_dict[“method”] == “uniform”, this other key is required:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;n_changepoints&quot;</span></code>: int</dt><dd><p>number of changepoints to evenly space across training period</p>
</dd>
</dl>
</div></blockquote>
<p>If changepoints_dict[“method”] == “custom”, this other key is required:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;dates&quot;</span></code>: Iterable[Union[int, float, str, datetime]]</dt><dd><p>Changepoint dates. Must be parsable by pd.to_datetime.
Changepoints are set at the closest time on or after these dates
in the dataset.</p>
</dd>
</dl>
</div></blockquote>
<p>If changepoints_dict[“method”] == “auto”, the keys that matches the parameters in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_trend_changepoints</span></code></a>,
except <code class="docutils literal notranslate"><span class="pre">df</span></code>, <code class="docutils literal notranslate"><span class="pre">time_col</span></code> and <code class="docutils literal notranslate"><span class="pre">value_col</span></code>, are optional.
Extra keys also include “dates”, “combine_changepoint_min_distance” and “keep_detected” to specify
additional custom trend changepoints. These three parameters correspond to the three parameters
“custom_changepoint_dates”, “min_distance” and “keep_detected” in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoints_utils.combine_detected_and_custom_trend_changepoints" title="greykite.algo.changepoint.adalasso.changepoints_utils.combine_detected_and_custom_trend_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">combine_detected_and_custom_trend_changepoints</span></code></a>.</p>
</dd>
</dl>
</p></li>
<li><p><strong>seasonality_changepoints_dict</strong> (<em class="xref py py-obj">dict</em> or None, default <em class="xref py py-obj">None</em>) – The parameter dictionary for seasonality change point detection. Parameters are in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_seasonality_changepoints" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_seasonality_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_seasonality_changepoints</span></code></a>.
Note <code class="docutils literal notranslate"><span class="pre">df</span></code>, <code class="docutils literal notranslate"><span class="pre">time_col</span></code>, <code class="docutils literal notranslate"><span class="pre">value_col</span></code> and <code class="docutils literal notranslate"><span class="pre">trend_changepoints</span></code> are auto populated,
and do not need to be provided.</p></li>
<li><p><strong>changepoint_detector</strong> (<em class="xref py py-obj">ChangepointDetector</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – The ChangepointDetector class
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangepointDetector</span></code></a>.
This is specifically for
<em class="xref py py-obj">forecast_simple_silverkite</em>
to pass the ChangepointDetector class for plotting purposes, in case that users use
<code class="docutils literal notranslate"><span class="pre">forecast_simple_silverkite</span></code> with <code class="docutils literal notranslate"><span class="pre">changepoints_dict[&quot;method&quot;]</span> <span class="pre">==</span> <span class="pre">&quot;auto&quot;</span></code>. The
trend change point detection has to be run there to include possible interaction terms,
so we need to pass the detection result from there to include in the output.</p></li>
<li><p><strong>min_admissible_value</strong> (<em class="xref py py-obj">float</em> or None, optional, default <em class="xref py py-obj">None</em>) – The minimum admissible value to return during prediction.
If None, no limit is applied.</p></li>
<li><p><strong>max_admissible_value</strong> (<em class="xref py py-obj">float</em> or None, optional, default <em class="xref py py-obj">None</em>) – The maximum admissible value to return during prediction.
If None, no limit is applied.</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> or None, optional, default <em class="xref py py-obj">None</em>) – <dl>
<dt>How to fit the uncertainty model. A dictionary with keys:</dt><dd><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;uncertainty_method&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>The title of the method.
Only “simple_conditional_residuals” is implemented
in <code class="docutils literal notranslate"><span class="pre">fit_ml_model</span></code> which calculates CIs using residuals</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;params&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict</em></span></dt><dd><p>A dictionary of parameters needed for
the requested <code class="docutils literal notranslate"><span class="pre">uncertainty_method</span></code>. For example, for
<code class="docutils literal notranslate"><span class="pre">uncertainty_method=&quot;simple_conditional_residuals&quot;</span></code>, see
parameters of <a class="reference internal" href="#greykite.algo.uncertainty.conditional.conf_interval.conf_interval" title="greykite.algo.uncertainty.conditional.conf_interval.conf_interval"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conf_interval</span></code></a>:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;conditional_cols&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;quantiles&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;quantile_estimation_method&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;sample_size_thresh&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;small_sample_size_method&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;small_sample_size_quantile&quot;</span></code></p>
</div></blockquote>
</dd>
</dl>
</dd>
</dl>
<p>If None, no uncertainty intervals are calculated.</p>
</p></li>
<li><p><strong>normalize_method</strong> (<em class="xref py py-obj">str</em> or None, default None) – If a string is provided, it will be used as the normalization method
in <code class="xref py py-obj docutils literal notranslate"><span class="pre">normalize_df</span></code>, passed via
the argument <code class="docutils literal notranslate"><span class="pre">method</span></code>.
Available options are: “zero_to_one”, “statistical”, “minus_half_to_half”, “zero_at_origin”.
If None, no normalization will be performed.
See that function for more details.</p></li>
<li><p><strong>adjust_anomalous_dict</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>If not None, a dictionary with following items:</p>
<blockquote>
<div><ul>
<li><dl>
<dt>”func”<span class="classifier"><em class="xref py py-obj">callable</em></span></dt><dd><p>A function to perform adjustment of anomalous data with following
signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adjust_anomalous_dict</span><span class="p">[</span><span class="s2">&quot;func&quot;</span><span class="p">](</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">time_col</span><span class="o">=</span><span class="n">time_col</span><span class="p">,</span>
    <span class="n">value_col</span><span class="o">=</span><span class="n">value_col</span><span class="p">,</span>
    <span class="o">**</span><span class="n">params</span><span class="p">)</span> <span class="o">-&gt;</span>
<span class="p">{</span><span class="s2">&quot;adjusted_df&quot;</span><span class="p">:</span> <span class="n">adjusted_df</span><span class="p">,</span> <span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>”params”<span class="classifier"><em class="xref py py-obj">dict</em></span></dt><dd><p>The extra parameters to be passed to the function above.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>impute_dict</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>If not None, a dictionary with following items:</p>
<ul>
<li><dl>
<dt>”func”<span class="classifier"><em class="xref py py-obj">callable</em></span></dt><dd><p>A function to perform imputations with following
signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">impute_dict</span><span class="p">[</span><span class="s2">&quot;func&quot;</span><span class="p">](</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">value_col</span><span class="o">=</span><span class="n">value_col</span><span class="p">,</span>
    <span class="o">**</span><span class="n">impute_dict</span><span class="p">[</span><span class="s2">&quot;params&quot;</span><span class="p">]</span> <span class="o">-&gt;</span>
<span class="p">{</span><span class="s2">&quot;df&quot;</span><span class="p">:</span> <span class="n">imputed_df</span><span class="p">,</span> <span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>”params”<span class="classifier"><em class="xref py py-obj">dict</em></span></dt><dd><p>The extra parameters to be passed to the function above.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>regression_weight_col</strong> (<em class="xref py py-obj">str</em> or None, default None) – The column name for the weights to be used in weighted regression version
of applicable machine-learning models.</p></li>
<li><p><strong>forecast_horizon</strong> (<em class="xref py py-obj">int</em> or None, default None) – The number of periods for which forecast is needed.
Note that this is only used in deciding what parameters should be
used for certain components e.g. autoregression, if automatic methods
are requested. While, the prediction time forecast horizon could be different
from this variable, ideally they should be the same.</p></li>
<li><p><strong>simulation_based</strong> (<em class="xref py py-obj">bool</em>, default False) – Boolean to specify if the future predictions are to be using simulations
or not.
Note that this is only used in deciding what parameters should be
used for certain components e.g. autoregression, if automatic methods
are requested. However, the auto-settings and the prediction settings
regarding using simulations should match.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em>, default 10) – The number of simulations for when simulations are used for generating
forecasts and prediction intervals.</p></li>
<li><p><strong>fast_simulation</strong> (<em class="xref py py-obj">bool</em>, default False) – Deterimes if fast simulations are to be used. This only impacts models
which include auto-regression. This method will only generate one simulation
without any error being added and then add the error using the volatility
model. The advantage is a major boost in speed during inference and the
disadvantage is potentially less accurate prediction intervals.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>trained_model</strong> – A dictionary that includes the fitted model from the function
<a class="reference internal" href="#greykite.algo.common.ml_models.fit_ml_model_with_evaluation" title="greykite.algo.common.ml_models.fit_ml_model_with_evaluation"><code class="xref py py-func docutils literal notranslate"><span class="pre">fit_ml_model_with_evaluation</span></code></a>.
The keys are:</p>
<blockquote>
<div><dl>
<dt>df_dropna: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">df</span></code> with NAs dropped.</p>
</dd>
<dt>df: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The original <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</dd>
<dt>num_training_points: <em class="xref py py-obj">int</em></dt><dd><p>The number of training points.</p>
</dd>
<dt>features_df: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">df</span></code> with augmented time features.</p>
</dd>
<dt>min_timestamp: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a></dt><dd><p>The minimum timestamp in data.</p>
</dd>
<dt>max_timestamp: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a></dt><dd><p>The maximum timestamp in data.</p>
</dd>
<dt>freq: <em class="xref py py-obj">str</em></dt><dd><p>The data frequency.</p>
</dd>
<dt>inferred_freq: <em class="xref py py-obj">str</em></dt><dd><p>The data freqency inferred from data.</p>
</dd>
<dt>inferred_freq_in_secs<span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>The data frequency inferred from data in seconds.</p>
</dd>
<dt>inferred_freq_in_days: <em class="xref py py-obj">float</em></dt><dd><p>The data frequency inferred from data in days.</p>
</dd>
<dt>time_col: <em class="xref py py-obj">str</em></dt><dd><p>The time column name.</p>
</dd>
<dt>value_col: <em class="xref py py-obj">str</em></dt><dd><p>The value column name.</p>
</dd>
<dt>origin_for_time_vars: <em class="xref py py-obj">float</em></dt><dd><p>The first time stamp converted to a float number.</p>
</dd>
<dt>fs_components_df: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The dataframe that specifies the seasonality Fourier configuration.</p>
</dd>
<dt>autoreg_dict: <em class="xref py py-obj">dict</em></dt><dd><p>The dictionary that specifies the autoregression configuration.</p>
</dd>
<dt>lagged_regressor_dict: <em class="xref py py-obj">dict</em></dt><dd><p>The dictionary that specifies the lagged regressors configuration.</p>
</dd>
<dt>lagged_regressor_cols: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</dt><dd><p>List of regressor column names used for lagged regressor</p>
</dd>
<dt>normalize_method: <em class="xref py py-obj">str</em></dt><dd><p>The normalization method.
See the function input parameter <code class="docutils literal notranslate"><span class="pre">normalize_method</span></code>.</p>
</dd>
<dt>daily_event_df_dict: <em class="xref py py-obj">dict</em></dt><dd><p>The dictionary that specifies daily events configuration.</p>
</dd>
<dt>changepoints_dict: <em class="xref py py-obj">dict</em></dt><dd><p>The dictionary that specifies changepoints configuration.</p>
</dd>
<dt>changepoint_values: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>]</dt><dd><p>The list of changepoints in continuous time values.</p>
</dd>
<dt>normalized_changepoint_values<span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>]</span></dt><dd><p>The list of changepoints in continuous time values normalized to 0 to 1.</p>
</dd>
<dt>continuous_time_col: <em class="xref py py-obj">str</em></dt><dd><p>The continuous time column name in <code class="docutils literal notranslate"><span class="pre">features_df</span></code>.</p>
</dd>
<dt>growth_func: <em class="xref py py-obj">func</em></dt><dd><p>The growth function used in changepoints, None is linear function.</p>
</dd>
<dt>fs_func: <em class="xref py py-obj">func</em></dt><dd><p>The function used to generate Fourier series for seasonality.</p>
</dd>
<dt>has_autoreg_structure: <em class="xref py py-obj">bool</em></dt><dd><p>Whether the model has autoregression structure.</p>
</dd>
<dt>autoreg_func: <em class="xref py py-obj">func</em></dt><dd><p>The function to generate autoregression columns.</p>
</dd>
<dt>min_lag_order: <em class="xref py py-obj">int</em></dt><dd><p>Minimal lag order in autoregression.</p>
</dd>
<dt>max_lag_order: <em class="xref py py-obj">int</em></dt><dd><p>Maximal lag order in autoregression.</p>
</dd>
<dt>has_lagged_regressor_structure: <em class="xref py py-obj">bool</em></dt><dd><p>Whether the model has lagged regressor structure.</p>
</dd>
<dt>lagged_regressor_func: <em class="xref py py-obj">func</em></dt><dd><p>The function to generate lagged regressor columns.</p>
</dd>
<dt>min_lagged_regressor_order: <em class="xref py py-obj">int</em></dt><dd><p>Minimal lag order in lagged regressors.</p>
</dd>
<dt>max_lagged_regressor_order: <em class="xref py py-obj">int</em></dt><dd><p>Maximal lag order in lagged regressors.</p>
</dd>
<dt>uncertainty_dict: <em class="xref py py-obj">dict</em></dt><dd><p>The dictionary that specifies uncertainty model configuration.</p>
</dd>
<dt>pred_cols: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</dt><dd><p>List of predictor names.</p>
</dd>
<dt>last_date_for_fit: <em class="xref py py-obj">str</em> or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a></dt><dd><p>The last timestamp used for fitting.</p>
</dd>
<dt>trend_changepoint_dates: <em class="xref py py-obj">list</em> [<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a>]</dt><dd><p>List of trend changepoints.</p>
</dd>
<dt>changepoint_detector: <em class="xref py py-obj">class</em></dt><dd><p>The <em class="xref py py-obj">ChangepointDetector</em> class used to detected trend changepoints.</p>
</dd>
<dt>seasonality_changepoint_dates: <em class="xref py py-obj">list</em> [<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a>]</dt><dd><p>List of seasonality changepoints.</p>
</dd>
<dt>seasonality_changepoint_result: <em class="xref py py-obj">dict</em></dt><dd><p>The seasonality changepoint detection results.</p>
</dd>
<dt>fit_algorithm: <em class="xref py py-obj">str</em></dt><dd><p>The algorithm used to fit the model.</p>
</dd>
<dt>fit_algorithm_params: <em class="xref py py-obj">dict</em></dt><dd><p>The dictionary of parameters for <code class="docutils literal notranslate"><span class="pre">fit_algorithm</span></code>.</p>
</dd>
<dt>adjust_anomalous_info: <em class="xref py py-obj">dict</em></dt><dd><p>A dictionary that has anomaly adjustment results.</p>
</dd>
<dt>impute_info: <em class="xref py py-obj">dict</em></dt><dd><p>A dictionary that has the imputation results.</p>
</dd>
<dt>forecast_horizon: <em class="xref py py-obj">int</em></dt><dd><p>The forecast horizon in steps.</p>
</dd>
<dt>forecast_horizon_in_days: <em class="xref py py-obj">float</em></dt><dd><p>The forecast horizon in days.</p>
</dd>
<dt>forecast_horizon_in_timedelta: <em class="xref py py-obj">datetime.timmdelta</em></dt><dd><p>The forecast horizon in timedelta.</p>
</dd>
<dt>simulation_based: <em class="xref py py-obj">bool</em></dt><dd><p>Whether to use simulation in prediction with autoregression terms.</p>
</dd>
<dt>simulation_num<span class="classifier"><em class="xref py py-obj">int</em>, default 10</span></dt><dd><p>The number of simulations for when simulations are used for generating
forecasts and prediction intervals.</p>
</dd>
<dt>train_df<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>The past dataframe used to generate AR terms.
It includes the concatenation of <code class="docutils literal notranslate"><span class="pre">past_df</span></code> and <code class="docutils literal notranslate"><span class="pre">df</span></code> if <code class="docutils literal notranslate"><span class="pre">past_df</span></code> is provided,
otherwise it is the <code class="docutils literal notranslate"><span class="pre">df</span></code> itself.</p>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.partition_fut_df">
<code class="sig-name descname">partition_fut_df</code><span class="sig-paren">(</span><em class="sig-param">fut_df</em>, <em class="sig-param">trained_model</em>, <em class="sig-param">freq</em>, <em class="sig-param">na_fill_func=&lt;function SilverkiteForecast.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.partition_fut_df" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes a dataframe <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> which includes the timestamps to forecast
and a <code class="docutils literal notranslate"><span class="pre">trained_model</span></code> returned by
<em class="xref py py-obj">forecast</em>
and decomposes
<code class="docutils literal notranslate"><span class="pre">fut_df</span></code> to various dataframes which reflect if the timestamps are before,
during or after the training periods.
It also determines if: ‘the future timestamps after the training period’ are immediately
after ‘the last training period’ or if there is some extra gap.
In that case, this function creates an expanded dataframe which includes the missing
timestamps as well.
If <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> also includes extra columns (they could be regressor columns),
this function will interpolate the extra regressor columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps for prediction
and possibly regressors. Note that the timestamp column in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>
must be the same as <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code>.
We assume <code class="docutils literal notranslate"><span class="pre">fut_df[time_col]</span></code> is pandas.datetime64 type.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of
<em class="xref py py-obj">forecast</em></p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em>) – Timeseries frequency, DateOffset alias.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases</a>
for the allowed frequencies.</p></li>
<li><p><strong>na_fill_func</strong> (callable (<code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> -&gt; <code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>)) – <p>default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
</pre></div>
</div>
<p>A function which interpolated missing values in a dataframe.
The main usage is invoked when there is a gap between the timestamps.
In that case to fill in the gaps, the regressors need to be interpolated/filled.
The default works by first interpolating the continuous variables.
Then it uses back-filling and then forward-filling for categorical variables.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items:</p>
<ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fut_freq_in_secs&quot;</span></code>: <em class="xref py py-obj">float</em></dt><dd><p>The inferred frequency in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;training_freq_in_secs&quot;</span></code>: <em class="xref py py-obj">float</em></dt><dd><p>The inferred frequency in training data</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;index_before_training&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">bool</em>]</dt><dd><p>A boolean list to determine which rows of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> include a time
which is before the training start.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;index_within_training&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">bool</em>]</dt><dd><p>A boolean list to determine which rows of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> include a time
which is during the training period.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;index_after_training&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">bool</em>]</dt><dd><p>A boolean list to determine which rows of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> include a time
which is after the training end date.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fut_df_before_training&quot;</span></code>: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>A partition of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> with timestamps before the training start date</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fut_df_within_training&quot;</span></code>: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>A partition of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> with timestamps during the training period</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fut_df_after_training&quot;</span></code>: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>A partition of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> with timestamps after the training start date</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fut_df_gap&quot;</span></code>: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</dt><dd><p>If there is a gap between training end date and the first timestamp
after the training end date in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, this dataframe can fill the
gap between the two. In case <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> includes extra columns as well,
the values for those columns will be filled using <code class="docutils literal notranslate"><span class="pre">na_fill_func</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fut_df_after_training_expanded&quot;</span></code>: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>If there is a gap between training end date and the first timestamp
after the training end date in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, this dataframe will include
the data for the gaps (<code class="docutils literal notranslate"><span class="pre">fut_df_gap</span></code>) as well as <code class="docutils literal notranslate"><span class="pre">fut_df_after_training</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;index_after_training_original&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">bool</em>]</dt><dd><p>A boolean list to determine which rows of <code class="docutils literal notranslate"><span class="pre">fut_df_after_training_expanded</span></code>
correspond to raw data passed by user which are after training end date,
appearing in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.
Note that this partition corresponds to <code class="docutils literal notranslate"><span class="pre">fut_df_after_training</span></code>
which is the subset of data in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> provided by user and
also returned by this function.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;missing_periods_num&quot;</span></code>: <em class="xref py py-obj">int</em></dt><dd><p>Number of missing timestamps between the last date of training and
first date in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> appearing after the training end date</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;inferred_forecast_horizon&quot;</span></code>: <em class="xref py py-obj">int</em></dt><dd><p>This is the inferred forecast horizon from <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.
This is defined to be the distance between the last training end date
and last date appearing in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.
Note that this value can be smaller or larger than the number of
rows of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.
This is calculated by adding the number of potentially missing timestamps
and the number of time periods appearing after the training end point.
Also note if there are no timestamps after the training end point in
<code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, this value will be zero.</p>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;forecast_partition_summary&quot;</span></code>: <em class="xref py py-obj">dict</em></dt><dd><p>A dictionary which includes the size of various partitions of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>
as well as the missing timestamps if needed. The dictionary keys are as
follows:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;len_before_training&quot;</span></code>: the number of time periods before training start</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;len_within_training&quot;</span></code>: the number of time periods within training</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;len_after_training&quot;</span></code>: the number of time periods after training</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;len_gap&quot;</span></code>: the number of missing time periods between training data and
future time stamps in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code></p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">fut_df</em>, <em class="sig-param">trained_model</em>, <em class="sig-param">freq=None</em>, <em class="sig-param">past_df=None</em>, <em class="sig-param">new_external_regressor_df=None</em>, <em class="sig-param">include_err=None</em>, <em class="sig-param">force_no_sim=False</em>, <em class="sig-param">simulation_num=None</em>, <em class="sig-param">fast_simulation=None</em>, <em class="sig-param">na_fill_func=&lt;function SilverkiteForecast.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs predictions using silverkite model.
It determines if the prediction should be simulation-based or not and then
predicts using that setting.
The function determines if it should use simulation-based predictions or
that is not necessary.
Here is the logic for determining if simulations are needed:</p>
<ul class="simple">
<li><p>If the model is not autoregressive, then clearly no simulations are needed</p></li>
<li><p>If the model is autoregressive, however the minimum lag appearing in the model
is larger than the forecast horizon, then simulations are not needed.
This is because the lags can be calculated fully without predicting the future.</p></li>
</ul>
<p>User can overwrite the above behavior and force no simulations using
<code class="docutils literal notranslate"><span class="pre">force_no_sim</span></code> argument, in which case some lags will be imputed.
This option should not be used by most users.
Some scenarios where advanced user might want to use
this is (a) when <code class="docutils literal notranslate"><span class="pre">min_lag_order</span> <span class="pre">&gt;=</span> <span class="pre">forecast_horizon</span></code> does not hold strictly
but close to hold. (b) user want to predict fast, the autoregression
lags are normalized. In that case the predictions returned could correspond
to an approximation of a model without autoregression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps for prediction
and possibly regressors.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code></p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em>, optional, default None) – Timeseries frequency, DateOffset alias.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases</a>
for the allowed strings.
If None, it is extracted from <code class="docutils literal notranslate"><span class="pre">trained_model</span></code> input.</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – A data frame with past values if autoregressive methods are called
via autoreg_dict parameter of <code class="docutils literal notranslate"><span class="pre">greykite.algo.forecast.silverkite.SilverkiteForecast.py</span></code>.
Note that this <code class="docutils literal notranslate"><span class="pre">past_df</span></code> can be anytime before the training end timestamp, but can not
exceed it.</p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – Contains the regressors not already included in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.</p></li>
<li><p><strong>include_err</strong> (<em class="xref py py-obj">bool</em>, optional, default None) – Boolean to determine if errors are to be incorporated in the simulations.
If None, it will be set to True if uncertainty is passed to the model and
otherwise will be set to False</p></li>
<li><p><strong>force_no_sim</strong> (<em class="xref py py-obj">bool</em>, default False) – If True, prediction with no simulations is forced.
This can be useful when speed is of concern or for validation purposes.
In this case, the potential non-available lags will be imputed.
Most users should not set this to True as the consequences could be
hard to quantify.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em> or None, default None) – The number of simulations for when simulations are used for generating
forecasts and prediction intervals. If None, it will be inferred from
the model (<code class="docutils literal notranslate"><span class="pre">trained_model</span></code>).</p></li>
<li><p><strong>fast_simulation</strong> (<em class="xref py py-obj">bool</em> or None, default None) – Deterimes if fast simulations are to be used. This only impacts models
which include auto-regression. This method will only generate one simulation
without any error being added and then add the error using the volatility
model. The advantage is a major boost in speed during inference and the
disadvantage is potentially less accurate prediction intervals.
If None, it will be inferred from the model (<code class="docutils literal notranslate"><span class="pre">trained_model</span></code>).</p></li>
<li><p><strong>na_fill_func</strong> (callable (<code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> -&gt; <code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>)) – <p>default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
</pre></div>
</div>
<p>A function which interpolates missing values in a dataframe.
The main usage is invoked when there is a gap between the timestamps in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.
The main use case is when the user wants to predict a period which is not an immediate period
after training.
In that case to fill in the gaps, the regressors need to be interpolated/filled.
The default works by first interpolating the continuous variables.
Then it uses back-filling and then forward-filling for categorical variables.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
Here are the expected columns:</p>
<ol class="arabic simple">
<li><p>A time column with the column name being <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code></p></li>
<li><p>The predicted response in <code class="docutils literal notranslate"><span class="pre">value_col</span></code> column.</p></li>
<li><p>Quantile summary response in <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
<li><p>Error std in <em class="xref py py-obj">ERR_STD_COL</em> column.
This column only appears if the model includes uncertainty.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict_n">
<code class="sig-name descname">predict_n</code><span class="sig-paren">(</span><em class="sig-param">fut_time_num</em>, <em class="sig-param">trained_model</em>, <em class="sig-param">freq=None</em>, <em class="sig-param">past_df=None</em>, <em class="sig-param">new_external_regressor_df=None</em>, <em class="sig-param">include_err=None</em>, <em class="sig-param">force_no_sim=False</em>, <em class="sig-param">simulation_num=None</em>, <em class="sig-param">fast_simulation=None</em>, <em class="sig-param">na_fill_func=&lt;function SilverkiteForecast.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict_n" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the forecast function which can be used to forecast a number of
periods into the future.
It determines if the prediction should be simulation-based or not and then
predicts using that setting. Currently if the silverkite model uses
autoregression simulation-based prediction/CIs are used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_time_num</strong> (<em class="xref py py-obj">int</em>) – number of needed future values</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code></p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em>, optional, default None) – Timeseries frequency, DateOffset alias.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases</a>
for the allowed frequencies.
If None, it is extracted from <code class="docutils literal notranslate"><span class="pre">trained_model</span></code> input.</p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None) – Contains the extra regressors if specified.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em>, optional, default 10) – The number of simulated series to be used in prediction.</p></li>
<li><p><strong>fast_simulation</strong> (<em class="xref py py-obj">bool</em> or None, default None) – Deterimes if fast simulations are to be used. This only impacts models
which include auto-regression. This method will only generate one simulation
without any error being added and then add the error using the volatility
model. The advantage is a major boost in speed during inference and the
disadvantage is potentially less accurate prediction intervals.
If None, it will be inferred from the model (<code class="docutils literal notranslate"><span class="pre">trained_model</span></code>).</p></li>
<li><p><strong>include_err</strong> (<em class="xref py py-obj">bool</em> or None, default None) – Boolean to determine if errors are to be incorporated in the simulations.
If None, it will be set to True if uncertainty is passed to the model and
otherwise will be set to False</p></li>
<li><p><strong>force_no_sim</strong> (<em class="xref py py-obj">bool</em>, default False) – If True, prediction with no simulations is forced.
This can be useful when speed is of concern or for validation purposes.</p></li>
<li><p><strong>na_fill_func</strong> (callable (<code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> -&gt; <code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>)) – <p>default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
</pre></div>
</div>
<p>A function which interpolated missing values in a dataframe.
The main usage is invoked when there is a gap between the timestamps.
In that case to fill in the gaps, the regressors need to be interpolated/filled.
The default works by first interpolating the continuous variables.
Then it uses back-filling and then forward-filling for categorical variables.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
Here are the expected columns:</p>
<ol class="arabic simple">
<li><p>A time column with the column name being <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code></p></li>
<li><p>The predicted response in <code class="docutils literal notranslate"><span class="pre">value_col</span></code> column.</p></li>
<li><p>Quantile summary response in <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
<li><p>Error std in <em class="xref py py-obj">ERR_STD_COL</em> column.
This column only appears if the model includes uncertainty.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict_n_no_sim">
<code class="sig-name descname">predict_n_no_sim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_time_num</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">freq</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_features_ready</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">regressors_ready</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict_n_no_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the forecast function which can be used to forecast.
It accepts extra regressors (<code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>) originally in
<code class="docutils literal notranslate"><span class="pre">df</span></code> via <code class="docutils literal notranslate"><span class="pre">new_external_regressor_df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_time_num</strong> (<em class="xref py py-obj">int</em>) – number of needed future values</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code></p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em>) – Frequency of future predictions.
Accepts any valid frequency for <code class="docutils literal notranslate"><span class="pre">pd.date_range</span></code>.</p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None) – Contains the extra regressors if specified.</p></li>
<li><p><strong>time_features_ready</strong> (<em class="xref py py-obj">bool</em>) – Boolean to denote if time features are already given in df or not.</p></li>
<li><p><strong>regressors_ready</strong> (<em class="xref py py-obj">bool</em>) – Boolean to denote if regressors are already added to data (<code class="docutils literal notranslate"><span class="pre">fut_df</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict_n_via_sim">
<code class="sig-name descname">predict_n_via_sim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_time_num</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">freq</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">simulation_num</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">fast_simulation</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">include_err</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict_n_via_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the forecast function which can be used to forecast.
This function’s predictions are constructed using simulations
from the fitted series. This supports both <code class="docutils literal notranslate"><span class="pre">predict_silverkite_via_sim</span></code>
and <code class="docutils literal notranslate"><span class="pre">``predict_silverkite_via_sim_fast</span></code> depending on value of the
passed argument <code class="docutils literal notranslate"><span class="pre">fast_simulation</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">past_df</span></code> is set to be the training data which is available
in <code class="docutils literal notranslate"><span class="pre">trained_model</span></code>.
It accepts extra regressors (<code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>) originally in
<code class="docutils literal notranslate"><span class="pre">df</span></code> via <code class="docutils literal notranslate"><span class="pre">new_external_regressor_df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_time_num</strong> (<em class="xref py py-obj">int</em>) – number of needed future values</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code></p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em>) – Frequency of future predictions.
Accepts any valid frequency for <code class="docutils literal notranslate"><span class="pre">pd.date_range</span></code>.</p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None) – Contains the extra regressors if specified.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em>, optional, default 10) – The number of simulated series to be used in prediction.</p></li>
<li><p><strong>fast_simulation</strong> (<em class="xref py py-obj">bool</em>, default False) – Deterimes if fast simulations are to be used. This only impacts models
which include auto-regression. This method will only generate one simulation
without any error being added and then add the error using the volatility
model. The advantage is a major boost in speed during inference and the
disadvantage is potentially less accurate prediction intervals.</p></li>
<li><p><strong>include_err</strong> (<em class="xref py py-obj">bool</em>, optional, default None) – Boolean to determine if errors are to be incorporated in the simulations.
If None, it will be set to True if uncertainty is passed to the model and
otherwise will be set to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
Here are the expected columns:</p>
<ol class="arabic simple">
<li><p>A time column with the column name being <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code></p></li>
<li><p>The predicted response in <code class="docutils literal notranslate"><span class="pre">value_col</span></code> column.</p></li>
<li><p>Quantile summary response in <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
<li><p>Error std in <em class="xref py py-obj">ERR_STD_COL</em> column.
This column only appears if the model includes uncertainty.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict_no_sim">
<code class="sig-name descname">predict_no_sim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_df</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">past_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_features_ready</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">regressors_ready</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict_no_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs predictions for the dates in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.
If <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> refers to a column in <code class="docutils literal notranslate"><span class="pre">df</span></code>, either <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>
or <code class="docutils literal notranslate"><span class="pre">new_external_regressor_df</span></code> must contain the regressors and the columns needed for lagged regressors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps.
for prediction and any regressors.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>.</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – A data frame with past values if autoregressive methods are called
via autoreg_dict parameter of <code class="docutils literal notranslate"><span class="pre">greykite.algo.forecast.silverkite.SilverkiteForecast.py</span></code>.</p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – Contains the regressors not already included in <em class="xref py py-obj">fut_df</em>.</p></li>
<li><p><strong>time_features_ready</strong> (<em class="xref py py-obj">bool</em>) – Boolean to denote if time features are already given in df or not.</p></li>
<li><p><strong>regressors_ready</strong> (<em class="xref py py-obj">bool</em>) – Boolean to denote if regressors are already added to data (<code class="docutils literal notranslate"><span class="pre">fut_df</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”features_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The features dataframe used for prediction.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict_via_sim">
<code class="sig-name descname">predict_via_sim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_df</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">past_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">simulation_num</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">include_err</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict_via_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs predictions and calculate uncertainty using
multiple simulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps for prediction
and possibly regressors.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code></p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – A data frame with past values if autoregressive methods are called
via autoreg_dict parameter of <code class="docutils literal notranslate"><span class="pre">greykite.algo.forecast.silverkite.SilverkiteForecast.py</span></code></p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – Contains the regressors not already included in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em>, optional, default 10) – The number of simulated series to be used in prediction.</p></li>
<li><p><strong>include_err</strong> (<em class="xref py py-obj">bool</em>, optional, default None) – Boolean to determine if errors are to be incorporated in the simulations.
If None, it will be set to True if uncertainty is passed to the model and
otherwise will be set to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
Here are the expected columns:</p>
<ol class="arabic simple">
<li><p>A time column with the column name being <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code></p></li>
<li><p>The predicted response in <code class="docutils literal notranslate"><span class="pre">value_col</span></code> column.</p></li>
<li><p>Quantile summary response in <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
<li><p>Error std in <em class="xref py py-obj">ERR_STD_COL</em> column.
This column only appears if the model includes uncertainty.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict_via_sim_fast">
<code class="sig-name descname">predict_via_sim_fast</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_df</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">past_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.predict_via_sim_fast" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs predictions and calculates uncertainty using
one simulation of future and calculate the error separately
(not relying on multiple simulations). Due to this the prediction
intervals well into future will be narrower than <code class="docutils literal notranslate"><span class="pre">predict_via_sim</span></code>
and therefore less accurate. However there will be a major speed gain
which might be important in some use cases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps for prediction
and possibly regressors.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>.</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – A data frame with past values if autoregressive methods are called
via <code class="docutils literal notranslate"><span class="pre">autoreg_dict</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">greykite.algo.forecast.silverkite.SilverkiteForecast.py</span></code></p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – Contains the regressors not already included in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
Here are the expected columns:</p>
<ol class="arabic simple">
<li><p>A time column with the column name being <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code></p></li>
<li><p>The predicted response in <code class="docutils literal notranslate"><span class="pre">value_col</span></code> column.</p></li>
<li><p>Quantile summary response in <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
<li><p>Error std in <em class="xref py py-obj">ERR_STD_COL</em> column.
This column only appears if the model includes uncertainty.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”features_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The features dataframe used for prediction.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.simulate">
<code class="sig-name descname">simulate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_df</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">past_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">include_err</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">time_features_ready</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">regressors_ready</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.simulate" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to simulate future series.
If the fitted model supports uncertainty e.g. via <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code>,
errors are incorporated into the simulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps
for prediction and any regressors.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>.</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – A data frame with past values if autoregressive methods are called
via <code class="docutils literal notranslate"><span class="pre">autoreg_dict</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">greykite.algo.forecast.silverkite.SilverkiteForecast.py</span></code></p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – Contains the regressors not already included in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.</p></li>
<li><p><strong>include_err</strong> (<em class="xref py py-obj">bool</em>) – Boolean to determine if errors are to be incorporated in the simulations.</p></li>
<li><p><strong>time_features_ready</strong> (<em class="xref py py-obj">bool</em>) – Boolean to denote if time features are already given in df or not.</p></li>
<li><p><strong>regressors_ready</strong> (<em class="xref py py-obj">bool</em>) – Boolean to denote if regressors are already added to data (<code class="docutils literal notranslate"><span class="pre">fut_df</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
Here are the expected columns:</p>
<ol class="arabic simple">
<li><p>A time column with the column name being <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code></p></li>
<li><p>The predicted response in <code class="docutils literal notranslate"><span class="pre">value_col</span></code> column.</p></li>
<li><p>Quantile summary response in <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
<li><p>Error std in <em class="xref py py-obj">ERR_STD_COL</em> column.
This column only appears if the model includes uncertainty.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”features_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The features dataframe used for prediction.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.simulate_multi">
<code class="sig-name descname">simulate_multi</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_df</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">simulation_num</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">past_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">include_err</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_simple_silverkite.SimpleSilverkiteForecast.simulate_multi" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to simulate future series.
If the fitted model supports uncertainty e.g. via <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code>,
errors are incorporated into the simulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps
for prediction and any regressors.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em>) – The number of simulated series,
(each of which have the same number of rows as <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>)
to be stacked up row-wise. This number must be larger than zero.</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – A data frame with past values if autoregressive methods are called
via <code class="docutils literal notranslate"><span class="pre">autoreg_dict</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">greykite.algo.forecast.silverkite.SilverkiteForecast.py</span></code>.</p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – Contains the regressors not already included in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.</p></li>
<li><p><strong>include_err</strong> (<em class="xref py py-obj">bool</em>, optional, default None) – Boolean to determine if errors are to be incorporated in the simulations.
If None, it will be set to True if uncertainty is passed to the model and
otherwise will be set to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with follwing items</p>
<ul>
<li><dl>
<dt>”fut_df_sim”<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>Row-wise concatenation of dataframes each being the same as
input dataframe (<code class="docutils literal notranslate"><span class="pre">fut_df</span></code>) with an added column for the response
and a new column: “sim_label” to differentiate various simulations.
The row number of the returned dataframe is:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">simulation_num</span></code> times the row number of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.</p>
</div></blockquote>
<p>If <code class="docutils literal notranslate"><span class="pre">value_col</span></code> already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p><code class="docutils literal notranslate"><span class="pre">simulation_num</span></code> copies of design matrix of the predictive machine-learning model
concatenated. An extra index column (“original_row_index”)  is also added
for aggregation when needed.
Note that the all copies will be the same except for the case where
auto-regression is utilized.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="greykite.algo.uncertainty.conditional.conf_interval.conf_interval">
<code class="sig-prename descclassname">greykite.algo.uncertainty.conditional.conf_interval.</code><code class="sig-name descname">conf_interval</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">distribution_col</span></em>, <em class="sig-param"><span class="n">offset_col</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">conditional_cols</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">quantiles</span><span class="o">=</span><span class="default_value">0.005, 0.025, 0.975, 0.995</span></em>, <em class="sig-param"><span class="n">quantile_estimation_method</span><span class="o">=</span><span class="default_value">'normal_fit'</span></em>, <em class="sig-param"><span class="n">sample_size_thresh</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">small_sample_size_method</span><span class="o">=</span><span class="default_value">'std_quantiles'</span></em>, <em class="sig-param"><span class="n">small_sample_size_quantile</span><span class="o">=</span><span class="default_value">0.95</span></em>, <em class="sig-param"><span class="n">min_admissible_value</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_admissible_value</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/uncertainty/conditional/conf_interval.html#conf_interval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.uncertainty.conditional.conf_interval.conf_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to calculate confidence intervals (CI) for values given
in <code class="docutils literal notranslate"><span class="pre">distribution_col</span></code>. We allow for calculating as many quantiles as
needed (specified by <code class="docutils literal notranslate"><span class="pre">quantiles</span></code>) as opposed to only two quantiles
representing a typical CI.</p>
<p>Two methods are available for quantiles calculation for
each slice of data (given in <code class="docutils literal notranslate"><span class="pre">conditional_cols</span></code>).</p>
<blockquote>
<div><blockquote>
<div><ul class="simple">
<li><p>“normal_fit” : CI is calculated using quantiles of a normal</p></li>
</ul>
<p>distribution fit.</p>
</div></blockquote>
<ul class="simple">
<li><p>“ecdf” : CI is calculated using quantiles of empirical cumulative</p></li>
</ul>
<p>distribution function.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">offset_col</span></code> is used in the prediction phase to shift the calculated quantiles
appropriately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em class="xref py py-obj">pandas.Dataframe</em>) – <p>The dataframe with the following columns:</p>
<blockquote>
<div><ul>
<li><p>distribution_col,</p></li>
<li><p>conditional_cols (optional),</p></li>
<li><p>offset_col (optional column)</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>distribution_col</strong> (<em class="xref py py-obj">str</em>) – The column containing the values for the variable for which confidence
interval is needed.</p></li>
<li><p><strong>offset_col</strong> (<em class="xref py py-obj">str</em> or None, default None) – The column containing the values by which the computed quantiles for
<code class="docutils literal notranslate"><span class="pre">distribution_col</span></code> are shifted. Only used during prediction phase.
If None, quantiles are not shifted.</p></li>
<li><p><strong>conditional_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – These columns are used to slice the data first then calculate quantiles
for each slice.</p></li>
<li><p><strong>quantiles</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>], default (0.005, 0.025, 0.975, 0.995)) – The quantiles calculated for each slice.
These quantiles can be then used to construct the desired CIs.
The default values [0.005, 0.025, 0.0975, 0.995] can be used to construct
99 and 95 percent CIs.</p></li>
<li><p><strong>quantile_estimation_method</strong> (<em class="xref py py-obj">str</em>, default “normal_fit”) – <p>There are two options implemented for the quantile estimation method
(conditional on slice):</p>
<blockquote>
<div><ul>
<li><p>”normal_fit”: Uses the standard deviation of the values in each</p></li>
</ul>
<p>slice to compute normal distribution quantiles.
- “ecdf”: Uses the empirical cumulative distribution function
to calculate sample quantiles.</p>
</div></blockquote>
</p></li>
<li><p><strong>sample_size_thresh</strong> (<em class="xref py py-obj">int</em>, default 5) – The minimum sample size for each slice where we allow for using the conditional
distribution (conditioned on the “conditional_cols” argument).
If sample size for that slice is smaller than this,
we use the fallback method.</p></li>
<li><p><strong>small_sample_size_method</strong> (<em class="xref py py-obj">str</em>, default “std_quantiles”) – <p>The method to use for slices with small sample size</p>
<blockquote>
<div><ul>
<li><p>”std_quantile” method is implemented and it looks at the response
std for each slice with
sample size &gt;= “sample_size_thresh”
and takes the row which has  its std being closest
to “small_sample_size_quantile” quantile.
It assigns that row to act as fall-back for calculating conf
intervals.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>small_sample_size_quantile</strong> (<em class="xref py py-obj">float</em>, default 0.95) – Quantile to calculate for small sample size.</p></li>
<li><p><strong>min_admissible_value</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>double</em><em>, </em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em><em>, </em><em>default None</em>) – This is the lowest admissible value for the obtained ci limits
and any value below this will be mapped back to this value.</p></li>
<li><p><strong>max_admissible_value</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><em>double</em><em>, </em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em><em>, </em><em>default None</em>) – This is the highest admissible value for the obtained ci limits
and any higher value will be mapped back to this value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>uncertainty_model</strong> –</p>
<p>Dictionary with following items (main component is the <code class="docutils literal notranslate"><span class="pre">predict</span></code> function).</p>
<blockquote>
<div><ul>
<li><dl>
<dt>”ecdf_df”<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>ecdf_df generated by “estimate_empirical_distribution”</p>
</dd>
</dl>
</li>
<li><dl>
<dt>”ecdf_df_overall”<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>ecdf_df_overall generated by “estimate_empirical_distribution”</p>
</dd>
</dl>
</li>
<li><dl>
<dt>”ecdf_df_fallback”<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>ecdf_df_fallback, a fall back data to get the CI quantiles
when the sample size for that slice is small or that slice
is unobserved in that case.</p>
<blockquote>
<div><ul class="simple">
<li><p>if small_sample_size_method = “std_quantiles”,
we use std quantiles to pick a slice which has a std close
to that quantile and fall-back to that slice.</p></li>
<li><p>otherwise we fallback to “ecdf_overall”</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</li>
<li><dl>
<dt>”distribution_col”<span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>Input <code class="docutils literal notranslate"><span class="pre">distribution_col</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”offset_col”: <em class="xref py py-obj">str</em></dt><dd><p>Input <code class="docutils literal notranslate"><span class="pre">offset_col</span></code></p>
</dd>
</dl>
</li>
<li><dl>
<dt>”quantiles”<span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>]</span></dt><dd><p>Input <code class="docutils literal notranslate"><span class="pre">quantiles</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”min_admissible_value”: <em class="xref py py-obj">float</em></dt><dd><p>Input <code class="docutils literal notranslate"><span class="pre">min_admissible_value</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”max_admissible_value”: <em class="xref py py-obj">float</em></dt><dd><p>Input <code class="docutils literal notranslate"><span class="pre">max_admissible_value</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”conditional_cols”: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</dt><dd><p>Input <code class="docutils literal notranslate"><span class="pre">conditional_cols</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”std_col”: <em class="xref py py-obj">str</em></dt><dd><p>The column name with standard deviations.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”quantile_summary_col”: <em class="xref py py-obj">str</em></dt><dd><p>The column name with computed quantiles.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”fall_back_for_all”: <em class="xref py py-obj">bool</em></dt><dd><p>Indicates if fallback method should be used for the
whole dataset.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="greykite.algo.changepoint.adalasso.changepoints_utils.combine_detected_and_custom_trend_changepoints">
<code class="sig-prename descclassname">greykite.algo.changepoint.adalasso.changepoints_utils.</code><code class="sig-name descname">combine_detected_and_custom_trend_changepoints</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">detected_changepoint_dates</span></em>, <em class="sig-param"><span class="n">custom_changepoint_dates</span></em>, <em class="sig-param"><span class="n">min_distance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_detected</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/changepoint/adalasso/changepoints_utils.html#combine_detected_and_custom_trend_changepoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.changepoint.adalasso.changepoints_utils.combine_detected_and_custom_trend_changepoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds custom trend changepoints to detected trend changepoints.</p>
<p>Compares the distance between custom changepoints and detected changepoints,
and drops a detected changepoint or a custom changepoint depending on <code class="docutils literal notranslate"><span class="pre">keep_detected</span></code>
if their distance is less than <code class="docutils literal notranslate"><span class="pre">min_distance</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detected_changepoint_dates</strong> (<em class="xref py py-obj">list</em>) – A list of detected trend changepoints, parsable by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.to_datetime.html#pandas.to_datetime" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.to_datetime</span></code></a>.</p></li>
<li><p><strong>custom_changepoint_dates</strong> (<em class="xref py py-obj">list</em>) – A list of additional custom trend changepoints, parsable by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.to_datetime.html#pandas.to_datetime" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.to_datetime</span></code></a>.</p></li>
<li><p><strong>min_distance</strong> (<em class="xref py py-obj">DateOffset</em>, <em class="xref py py-obj">Timedelta</em>, <em class="xref py py-obj">str</em> or None, default None) – The minimum distance between detected changepoints and custom changepoints.
If a detected changepoint and a custom changepoint have distance less than <code class="docutils literal notranslate"><span class="pre">min_distance</span></code>,
either the detected changepoint or the custom changepoint will be dropped according to <code class="docutils literal notranslate"><span class="pre">keep_detected</span></code>.
Does not compare the distance within detected changepoints or custom changepoints.
Note: maximal unit is ‘D’, i.e., you may only use units no more than ‘D’ such as
‘10D’, ‘5H’, ‘100T’, ‘200S’. The reason is that ‘W’, ‘M’ or higher has either
cycles or indefinite number of days, thus is not parsable by pandas as timedelta.
For example, see <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.tseries.frequencies.to_offset.html#pandas.tseries.frequencies.to_offset" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.to_offset</span></code></a>.</p></li>
<li><p><strong>keep_detected</strong> (<em class="xref py py-obj">bool</em>, default False) – When the distance of a detected changepoint and a custom changepoint is less than <code class="docutils literal notranslate"><span class="pre">min_distance</span></code>,
whether to keep the detected changepoint or the custom changepoint.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>combined_changepoint_dates</strong> – A list of combined changepoints in ascending order.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">list</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast">
<em class="property">class </em><code class="sig-prename descclassname">greykite.algo.forecast.silverkite.forecast_silverkite.</code><code class="sig-name descname">SilverkiteForecast</code><span class="sig-paren">(</span><em class="sig-param">constants: greykite.algo.forecast.silverkite.constants.silverkite_seasonality.SilverkiteSeasonalityEnumMixin = &lt;greykite.algo.forecast.silverkite.constants.silverkite_constant.SilverkiteConstant object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite.html#SilverkiteForecast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast">
<code class="sig-name descname">forecast</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">time_col</em>, <em class="sig-param">value_col</em>, <em class="sig-param">freq=None</em>, <em class="sig-param">origin_for_time_vars=None</em>, <em class="sig-param">extra_pred_cols=None</em>, <em class="sig-param">drop_pred_cols=None</em>, <em class="sig-param">explicit_pred_cols=None</em>, <em class="sig-param">train_test_thresh=None</em>, <em class="sig-param">training_fraction=0.9</em>, <em class="sig-param">fit_algorithm='linear'</em>, <em class="sig-param">fit_algorithm_params=None</em>, <em class="sig-param">daily_event_df_dict=None</em>, <em class="sig-param">fs_components_df=  name  period  order seas_names 0  tod    24.0      3      daily 1  tow     7.0      3     weekly 2  toy     1.0      5     yearly</em>, <em class="sig-param">autoreg_dict=None</em>, <em class="sig-param">past_df=None</em>, <em class="sig-param">lagged_regressor_dict=None</em>, <em class="sig-param">changepoints_dict=None</em>, <em class="sig-param">seasonality_changepoints_dict=None</em>, <em class="sig-param">changepoint_detector=None</em>, <em class="sig-param">min_admissible_value=None</em>, <em class="sig-param">max_admissible_value=None</em>, <em class="sig-param">uncertainty_dict=None</em>, <em class="sig-param">normalize_method=None</em>, <em class="sig-param">adjust_anomalous_dict=None</em>, <em class="sig-param">impute_dict=None</em>, <em class="sig-param">regression_weight_col=None</em>, <em class="sig-param">forecast_horizon=None</em>, <em class="sig-param">simulation_based=False</em>, <em class="sig-param">simulation_num=10</em>, <em class="sig-param">fast_simulation=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite.html#SilverkiteForecast.forecast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>A function for forecasting.
It captures growth, seasonality, holidays and other patterns.
See “Capturing the time-dependence in the precipitation process for
weather risk assessment” as a reference:
<a class="reference external" href="https://link.springer.com/article/10.1007/s00477-016-1285-8">https://link.springer.com/article/10.1007/s00477-016-1285-8</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – A data frame which includes the timestamp column
as well as the value column.</p></li>
<li><p><strong>time_col</strong> (<em class="xref py py-obj">str</em>) – The column name in <code class="docutils literal notranslate"><span class="pre">df</span></code> representing time for the time series data.
The time column can be anything that can be parsed by pandas DatetimeIndex.</p></li>
<li><p><strong>value_col</strong> (<em class="xref py py-obj">str</em>) – The column name which has the value of interest to be forecasted.</p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em>, optional, default None) – The intended timeseries frequency, DateOffset alias.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases</a>.
If None automatically inferred. This frequency will be passed through
this function as a part of the trained model and used at predict time
if needed.
If data include missing timestamps, and frequency is monthly/annual,
user should pass this parameter, as it cannot be inferred.</p></li>
<li><p><strong>origin_for_time_vars</strong> (<em class="xref py py-obj">float</em>, optional, default None) – The time origin used to create continuous variables for time.
If None, uses the first record in <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p></li>
<li><p><strong>extra_pred_cols</strong> (<em class="xref py py-obj">list</em> of <em class="xref py py-obj">str</em>, default None) – <p>Names of the extra predictor columns.</p>
<p>If None, uses [“ct1”], a simple linear growth term.</p>
<p>It can leverage regressors included in <code class="docutils literal notranslate"><span class="pre">df</span></code> and those generated
by the other parameters. The following effects will not be modeled
unless specified in <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>:</p>
<blockquote>
<div><ul>
<li><p>included in <code class="docutils literal notranslate"><span class="pre">df</span></code>: e.g. macro-economic factors, related timeseries</p></li>
<li><p>from <a class="reference internal" href="#greykite.common.features.timeseries_features.build_time_features_df" title="greykite.common.features.timeseries_features.build_time_features_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_time_features_df</span></code></a>:
e.g. ct1, ct_sqrt, dow, …</p></li>
<li><p>from <code class="docutils literal notranslate"><span class="pre">daily_event_df_dict</span></code>: e.g. “events_India”, …</p></li>
</ul>
</div></blockquote>
<p>The columns corresponding to the following parameters are included
in the model without specification in <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>.
<code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> can be used to add interactions with these terms.</p>
<blockquote>
<div><p>changepoints_dict: e.g. changepoint0, changepoint1, …
fs_components_df: e.g. sin2_dow, cos4_dow_weekly
autoreg_dict: e.g. x_lag1, x_avglag_2_3_4, y_avglag_1_to_5</p>
</div></blockquote>
<p>If a regressor is passed in <code class="docutils literal notranslate"><span class="pre">df</span></code>, it needs to be provided to
the associated predict function:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">predict_silverkite</span></code>: via <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> or <code class="docutils literal notranslate"><span class="pre">new_external_regressor_df</span></code>
<code class="docutils literal notranslate"><span class="pre">silverkite.predict_n(_no_sim</span></code>: via <code class="docutils literal notranslate"><span class="pre">new_external_regressor_df</span></code></p>
</div></blockquote>
</p></li>
<li><p><strong>drop_pred_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – Names of predictor columns to be dropped from the final model.
Ignored if None</p></li>
<li><p><strong>explicit_pred_cols</strong> (<em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>] or None, default None) – Names of the explicit predictor columns which will be
the only variables in the final model. Note that this overwrites
the generated predictors in the model and may include new
terms not appearing in the predictors (e.g. interaction terms).
Ignored if None</p></li>
<li><p><strong>train_test_thresh</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a>, optional) – e.g. datetime.datetime(2019, 6, 30)
The threshold for training and testing split.
Note that the final returned model is trained using all data.
If None, training split is based on <code class="docutils literal notranslate"><span class="pre">training_fraction</span></code></p></li>
<li><p><strong>training_fraction</strong> (<em class="xref py py-obj">float</em>, optional) – The fraction of data used for training (0.0 to 1.0)
Used only if <code class="docutils literal notranslate"><span class="pre">train_test_thresh</span></code> is None.
If this is also None or 1.0, then we skip testing
and train on the entire dataset.</p></li>
<li><p><strong>fit_algorithm</strong> (<em class="xref py py-obj">str</em>, optional, default “linear”) – <p>The type of predictive model used in fitting.</p>
<p>See <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>
for available options and their parameters.</p>
</p></li>
<li><p><strong>fit_algorithm_params</strong> (<em class="xref py py-obj">dict</em> or None, optional, default None) – Parameters passed to the requested fit_algorithm.
If None, uses the defaults in <code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_model_via_design_matrix</span></code>.</p></li>
<li><p><strong>daily_event_df_dict</strong> (<em class="xref py py-obj">dict</em> or None, optional, default None) – <p>A dictionary of data frames, each representing events data for the corresponding key.
The DataFrame has two columns:</p>
<blockquote>
<div><ul>
<li><p>The first column contains event dates. Must be in a format
recognized by <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.to_datetime.html#pandas.to_datetime" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.to_datetime</span></code></a>. Must be at daily
frequency for proper join. It is joined against the time
in <code class="docutils literal notranslate"><span class="pre">df</span></code>, converted to a day:
<code class="docutils literal notranslate"><span class="pre">pd.to_datetime(pd.DatetimeIndex(df[time_col]).date)</span></code>.</p></li>
<li><p>the second column contains the event label for each date</p></li>
</ul>
</div></blockquote>
<p>The column order is important; column names are ignored.
The event dates must span their occurrences in both the training
and future prediction period.</p>
<p>During modeling, each key in the dictionary is mapped to a categorical variable
named <code class="docutils literal notranslate"><span class="pre">f&quot;{EVENT_PREFIX}_{key}&quot;</span></code>, whose value at each timestamp is specified
by the corresponding DataFrame.</p>
<p>For example, to manually specify a yearly event on September 1
during a training/forecast period that spans 2020-2022:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;custom_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;is_event&quot;</span><span class="p">,</span> <span class="s2">&quot;is_event&quot;</span><span class="p">,</span> <span class="s2">&quot;is_event&quot;</span><span class="p">]</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It’s possible to specify multiple events in the same df. Two events,
<code class="docutils literal notranslate"><span class="pre">&quot;sep&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;oct&quot;</span></code> are specified below for 2020-2021:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;custom_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-10-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-10-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;sep&quot;</span><span class="p">,</span> <span class="s2">&quot;oct&quot;</span><span class="p">,</span> <span class="s2">&quot;sep&quot;</span><span class="p">,</span> <span class="s2">&quot;oct&quot;</span><span class="p">]</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Use multiple keys if two events may fall on the same date. These events
must be in separate DataFrames:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;fixed_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;fixed_event&quot;</span>
    <span class="p">}),</span>
    <span class="s2">&quot;moving_event&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-08-28&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09-03&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;moving_event&quot;</span>
    <span class="p">}),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The multiple event specification can be used even if events never overlap. An
equivalent specification to the second example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">daily_event_df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;sep&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-09-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;is_event&quot;</span>
    <span class="p">}),</span>
    <span class="s2">&quot;oct&quot;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2020-10-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-10-01&quot;</span><span class="p">],</span>
        <span class="s2">&quot;event_name&quot;</span><span class="p">:</span> <span class="s2">&quot;is_event&quot;</span>
    <span class="p">}),</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The events you want to use must be specified in <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>.
These take the form: <code class="docutils literal notranslate"><span class="pre">f&quot;{EVENT_PREFIX}_{key}&quot;</span></code>, where
<a class="reference internal" href="#greykite.common.constants.EVENT_PREFIX" title="greykite.common.constants.EVENT_PREFIX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EVENT_PREFIX</span></code></a> is the constant.</p>
<p>Do not use <a class="reference internal" href="#greykite.common.constants.EVENT_DEFAULT" title="greykite.common.constants.EVENT_DEFAULT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EVENT_DEFAULT</span></code></a>
in the second column. This is reserved to indicate dates that do not
correspond to an event.</p>
</div>
</p></li>
<li><p><strong>fs_components_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, optional) – <p>A dataframe with information about fourier series generation.
Must contain columns with following names:</p>
<blockquote>
<div><p>”name”: name of the timeseries feature e.g. “tod”, “tow” etc.
“period”: Period of the fourier series, optional, default 1.0
“order”: Order of the fourier series, optional, default 1.0
“seas_names”: season names corresponding to the name
(e.g. “daily”, “weekly” etc.), optional.</p>
</div></blockquote>
<p>Default includes daily, weekly , yearly seasonality.</p>
</p></li>
<li><p><strong>autoreg_dict</strong> (<em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em> or None, optional, default <em class="xref py py-obj">None</em>) – <p>If a <em class="xref py py-obj">dict</em>: A dictionary with arguments for <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df</span></code>.
That function’s parameter <code class="docutils literal notranslate"><span class="pre">value_col</span></code> is inferred from the input of
current function <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>. Other keys are:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;agg_lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;series_na_fill_func&quot;</span></code> : callable</p>
</div></blockquote>
<p>If a <em class="xref py py-obj">str</em>: The string will represent a method and a dictionary will be
constructed using that <em class="xref py py-obj">str</em>.
Currently only implemented method is “auto” which uses
<em class="xref py py-obj">__get_default_autoreg_dict</em>
to create a dictionary.
See more details for above parameters in
<code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df</span></code>.</p>
</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – <p>The past df used for building autoregression features.
This is not necessarily needed since imputation is possible.
However, it is recommended to provide <code class="docutils literal notranslate"><span class="pre">past_df</span></code> for more accurate
autoregression features and faster training (by skipping imputation).
The columns are:</p>
<blockquote>
<div><dl>
<dt>time_col<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a> or <em class="xref py py-obj">str</em></span></dt><dd><p>The timestamps.</p>
</dd>
<dt>value_col<span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>The past values.</p>
</dd>
<dt>addition_regressor_cols<span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>Any additional regressors.</p>
</dd>
</dl>
</div></blockquote>
<p>Note that this <code class="docutils literal notranslate"><span class="pre">past_df</span></code> is assumed to immediately precede <code class="docutils literal notranslate"><span class="pre">df</span></code> without gaps,
otherwise an error will be raised.</p>
</p></li>
<li><p><strong>lagged_regressor_dict</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>A dictionary with arguments for <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df_multi</span></code>.
The keys of the dictionary are the target lagged regressor column names.
It can leverage the regressors included in <code class="docutils literal notranslate"><span class="pre">df</span></code>.
The value of each key is either a <em class="xref py py-obj">dict</em> or <em class="xref py py-obj">str</em>.
If <em class="xref py py-obj">dict</em>, it has the following keys:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;agg_lag_dict&quot;</span></code> : <em class="xref py py-obj">dict</em> or None
<code class="docutils literal notranslate"><span class="pre">&quot;series_na_fill_func&quot;</span></code> : callable</p>
</div></blockquote>
<p>If <em class="xref py py-obj">str</em>, it represents a method and a dictionary will be constructed using that <em class="xref py py-obj">str</em>.
Currently the only implemented method is “auto” which uses
<em class="xref py py-obj">__get_default_lagged_regressor_dict</em>
to create a dictionary for each lagged regressor.
An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lagged_regressor_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;regressor1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;orders&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]},</span>
        <span class="s2">&quot;agg_lag_dict&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;orders_list&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]],</span>
            <span class="s2">&quot;interval_list&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)]},</span>
        <span class="s2">&quot;series_na_fill_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()},</span>
    <span class="s2">&quot;regressor2&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>Check the docstring of <code class="xref py py-obj docutils literal notranslate"><span class="pre">build_autoreg_df_multi</span></code>
for more details for each argument.</p>
</p></li>
<li><p><strong>changepoints_dict</strong> (<em class="xref py py-obj">dict</em> or None, optional, default None) – <p>Specifies the changepoint configuration.</p>
<dl>
<dt>”method”: <em class="xref py py-obj">str</em></dt><dd><p>The method to locate changepoints.
Valid options:</p>
<blockquote>
<div><ul>
<li><p>”uniform”. Places n_changepoints evenly spaced changepoints to allow growth to change.</p></li>
<li><p>”custom”. Places changepoints at the specified dates.</p></li>
<li><p>”auto”. Automatically detects change points. For configuration, see
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_trend_changepoints</span></code></a></p></li>
</ul>
</div></blockquote>
<p>Additional keys to provide parameters for each particular method are described below.</p>
</dd>
<dt>”continuous_time_col”: <em class="xref py py-obj">str</em>, optional</dt><dd><p>Column to apply <code class="docutils literal notranslate"><span class="pre">growth_func</span></code> to, to generate changepoint features
Typically, this should match the growth term in the model</p>
</dd>
<dt>”growth_func”: Optional[func]</dt><dd><p>Growth function (scalar -&gt; scalar). Changepoint features are created
by applying <code class="docutils literal notranslate"><span class="pre">growth_func</span></code> to <code class="docutils literal notranslate"><span class="pre">continuous_time_col</span></code> with offsets.
If None, uses identity function to use <code class="docutils literal notranslate"><span class="pre">continuous_time_col</span></code> directly
as growth term
If changepoints_dict[“method”] == “uniform”, this other key is required:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;n_changepoints&quot;</span></code>: int</dt><dd><p>number of changepoints to evenly space across training period</p>
</dd>
</dl>
</div></blockquote>
<p>If changepoints_dict[“method”] == “custom”, this other key is required:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;dates&quot;</span></code>: Iterable[Union[int, float, str, datetime]]</dt><dd><p>Changepoint dates. Must be parsable by pd.to_datetime.
Changepoints are set at the closest time on or after these dates
in the dataset.</p>
</dd>
</dl>
</div></blockquote>
<p>If changepoints_dict[“method”] == “auto”, the keys that matches the parameters in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_trend_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_trend_changepoints</span></code></a>,
except <code class="docutils literal notranslate"><span class="pre">df</span></code>, <code class="docutils literal notranslate"><span class="pre">time_col</span></code> and <code class="docutils literal notranslate"><span class="pre">value_col</span></code>, are optional.
Extra keys also include “dates”, “combine_changepoint_min_distance” and “keep_detected” to specify
additional custom trend changepoints. These three parameters correspond to the three parameters
“custom_changepoint_dates”, “min_distance” and “keep_detected” in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoints_utils.combine_detected_and_custom_trend_changepoints" title="greykite.algo.changepoint.adalasso.changepoints_utils.combine_detected_and_custom_trend_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">combine_detected_and_custom_trend_changepoints</span></code></a>.</p>
</dd>
</dl>
</p></li>
<li><p><strong>seasonality_changepoints_dict</strong> (<em class="xref py py-obj">dict</em> or None, default <em class="xref py py-obj">None</em>) – The parameter dictionary for seasonality change point detection. Parameters are in
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_seasonality_changepoints" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector.find_seasonality_changepoints"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_seasonality_changepoints</span></code></a>.
Note <code class="docutils literal notranslate"><span class="pre">df</span></code>, <code class="docutils literal notranslate"><span class="pre">time_col</span></code>, <code class="docutils literal notranslate"><span class="pre">value_col</span></code> and <code class="docutils literal notranslate"><span class="pre">trend_changepoints</span></code> are auto populated,
and do not need to be provided.</p></li>
<li><p><strong>changepoint_detector</strong> (<em class="xref py py-obj">ChangepointDetector</em> or <em class="xref py py-obj">None</em>, default <em class="xref py py-obj">None</em>) – The ChangepointDetector class
<a class="reference internal" href="#greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector" title="greykite.algo.changepoint.adalasso.changepoint_detector.ChangepointDetector"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChangepointDetector</span></code></a>.
This is specifically for
<em class="xref py py-obj">forecast_simple_silverkite</em>
to pass the ChangepointDetector class for plotting purposes, in case that users use
<code class="docutils literal notranslate"><span class="pre">forecast_simple_silverkite</span></code> with <code class="docutils literal notranslate"><span class="pre">changepoints_dict[&quot;method&quot;]</span> <span class="pre">==</span> <span class="pre">&quot;auto&quot;</span></code>. The
trend change point detection has to be run there to include possible interaction terms,
so we need to pass the detection result from there to include in the output.</p></li>
<li><p><strong>min_admissible_value</strong> (<em class="xref py py-obj">float</em> or None, optional, default <em class="xref py py-obj">None</em>) – The minimum admissible value to return during prediction.
If None, no limit is applied.</p></li>
<li><p><strong>max_admissible_value</strong> (<em class="xref py py-obj">float</em> or None, optional, default <em class="xref py py-obj">None</em>) – The maximum admissible value to return during prediction.
If None, no limit is applied.</p></li>
<li><p><strong>uncertainty_dict</strong> (<em class="xref py py-obj">dict</em> or None, optional, default <em class="xref py py-obj">None</em>) – <dl>
<dt>How to fit the uncertainty model. A dictionary with keys:</dt><dd><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;uncertainty_method&quot;</span></code><span class="classifier"><em class="xref py py-obj">str</em></span></dt><dd><p>The title of the method.
Only “simple_conditional_residuals” is implemented
in <code class="docutils literal notranslate"><span class="pre">fit_ml_model</span></code> which calculates CIs using residuals</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;params&quot;</span></code><span class="classifier"><em class="xref py py-obj">dict</em></span></dt><dd><p>A dictionary of parameters needed for
the requested <code class="docutils literal notranslate"><span class="pre">uncertainty_method</span></code>. For example, for
<code class="docutils literal notranslate"><span class="pre">uncertainty_method=&quot;simple_conditional_residuals&quot;</span></code>, see
parameters of <a class="reference internal" href="#greykite.algo.uncertainty.conditional.conf_interval.conf_interval" title="greykite.algo.uncertainty.conditional.conf_interval.conf_interval"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conf_interval</span></code></a>:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;conditional_cols&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;quantiles&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;quantile_estimation_method&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;sample_size_thresh&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;small_sample_size_method&quot;</span></code>
<code class="docutils literal notranslate"><span class="pre">&quot;small_sample_size_quantile&quot;</span></code></p>
</div></blockquote>
</dd>
</dl>
</dd>
</dl>
<p>If None, no uncertainty intervals are calculated.</p>
</p></li>
<li><p><strong>normalize_method</strong> (<em class="xref py py-obj">str</em> or None, default None) – If a string is provided, it will be used as the normalization method
in <code class="xref py py-obj docutils literal notranslate"><span class="pre">normalize_df</span></code>, passed via
the argument <code class="docutils literal notranslate"><span class="pre">method</span></code>.
Available options are: “zero_to_one”, “statistical”, “minus_half_to_half”, “zero_at_origin”.
If None, no normalization will be performed.
See that function for more details.</p></li>
<li><p><strong>adjust_anomalous_dict</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>If not None, a dictionary with following items:</p>
<blockquote>
<div><ul>
<li><dl>
<dt>”func”<span class="classifier"><em class="xref py py-obj">callable</em></span></dt><dd><p>A function to perform adjustment of anomalous data with following
signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adjust_anomalous_dict</span><span class="p">[</span><span class="s2">&quot;func&quot;</span><span class="p">](</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">time_col</span><span class="o">=</span><span class="n">time_col</span><span class="p">,</span>
    <span class="n">value_col</span><span class="o">=</span><span class="n">value_col</span><span class="p">,</span>
    <span class="o">**</span><span class="n">params</span><span class="p">)</span> <span class="o">-&gt;</span>
<span class="p">{</span><span class="s2">&quot;adjusted_df&quot;</span><span class="p">:</span> <span class="n">adjusted_df</span><span class="p">,</span> <span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>”params”<span class="classifier"><em class="xref py py-obj">dict</em></span></dt><dd><p>The extra parameters to be passed to the function above.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>impute_dict</strong> (<em class="xref py py-obj">dict</em> or None, default None) – <p>If not None, a dictionary with following items:</p>
<ul>
<li><dl>
<dt>”func”<span class="classifier"><em class="xref py py-obj">callable</em></span></dt><dd><p>A function to perform imputations with following
signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">impute_dict</span><span class="p">[</span><span class="s2">&quot;func&quot;</span><span class="p">](</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">value_col</span><span class="o">=</span><span class="n">value_col</span><span class="p">,</span>
    <span class="o">**</span><span class="n">impute_dict</span><span class="p">[</span><span class="s2">&quot;params&quot;</span><span class="p">]</span> <span class="o">-&gt;</span>
<span class="p">{</span><span class="s2">&quot;df&quot;</span><span class="p">:</span> <span class="n">imputed_df</span><span class="p">,</span> <span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>”params”<span class="classifier"><em class="xref py py-obj">dict</em></span></dt><dd><p>The extra parameters to be passed to the function above.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>regression_weight_col</strong> (<em class="xref py py-obj">str</em> or None, default None) – The column name for the weights to be used in weighted regression version
of applicable machine-learning models.</p></li>
<li><p><strong>forecast_horizon</strong> (<em class="xref py py-obj">int</em> or None, default None) – The number of periods for which forecast is needed.
Note that this is only used in deciding what parameters should be
used for certain components e.g. autoregression, if automatic methods
are requested. While, the prediction time forecast horizon could be different
from this variable, ideally they should be the same.</p></li>
<li><p><strong>simulation_based</strong> (<em class="xref py py-obj">bool</em>, default False) – Boolean to specify if the future predictions are to be using simulations
or not.
Note that this is only used in deciding what parameters should be
used for certain components e.g. autoregression, if automatic methods
are requested. However, the auto-settings and the prediction settings
regarding using simulations should match.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em>, default 10) – The number of simulations for when simulations are used for generating
forecasts and prediction intervals.</p></li>
<li><p><strong>fast_simulation</strong> (<em class="xref py py-obj">bool</em>, default False) – Deterimes if fast simulations are to be used. This only impacts models
which include auto-regression. This method will only generate one simulation
without any error being added and then add the error using the volatility
model. The advantage is a major boost in speed during inference and the
disadvantage is potentially less accurate prediction intervals.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>trained_model</strong> – A dictionary that includes the fitted model from the function
<a class="reference internal" href="#greykite.algo.common.ml_models.fit_ml_model_with_evaluation" title="greykite.algo.common.ml_models.fit_ml_model_with_evaluation"><code class="xref py py-func docutils literal notranslate"><span class="pre">fit_ml_model_with_evaluation</span></code></a>.
The keys are:</p>
<blockquote>
<div><dl>
<dt>df_dropna: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">df</span></code> with NAs dropped.</p>
</dd>
<dt>df: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The original <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
</dd>
<dt>num_training_points: <em class="xref py py-obj">int</em></dt><dd><p>The number of training points.</p>
</dd>
<dt>features_df: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">df</span></code> with augmented time features.</p>
</dd>
<dt>min_timestamp: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a></dt><dd><p>The minimum timestamp in data.</p>
</dd>
<dt>max_timestamp: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a></dt><dd><p>The maximum timestamp in data.</p>
</dd>
<dt>freq: <em class="xref py py-obj">str</em></dt><dd><p>The data frequency.</p>
</dd>
<dt>inferred_freq: <em class="xref py py-obj">str</em></dt><dd><p>The data freqency inferred from data.</p>
</dd>
<dt>inferred_freq_in_secs<span class="classifier"><em class="xref py py-obj">float</em></span></dt><dd><p>The data frequency inferred from data in seconds.</p>
</dd>
<dt>inferred_freq_in_days: <em class="xref py py-obj">float</em></dt><dd><p>The data frequency inferred from data in days.</p>
</dd>
<dt>time_col: <em class="xref py py-obj">str</em></dt><dd><p>The time column name.</p>
</dd>
<dt>value_col: <em class="xref py py-obj">str</em></dt><dd><p>The value column name.</p>
</dd>
<dt>origin_for_time_vars: <em class="xref py py-obj">float</em></dt><dd><p>The first time stamp converted to a float number.</p>
</dd>
<dt>fs_components_df: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The dataframe that specifies the seasonality Fourier configuration.</p>
</dd>
<dt>autoreg_dict: <em class="xref py py-obj">dict</em></dt><dd><p>The dictionary that specifies the autoregression configuration.</p>
</dd>
<dt>lagged_regressor_dict: <em class="xref py py-obj">dict</em></dt><dd><p>The dictionary that specifies the lagged regressors configuration.</p>
</dd>
<dt>lagged_regressor_cols: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</dt><dd><p>List of regressor column names used for lagged regressor</p>
</dd>
<dt>normalize_method: <em class="xref py py-obj">str</em></dt><dd><p>The normalization method.
See the function input parameter <code class="docutils literal notranslate"><span class="pre">normalize_method</span></code>.</p>
</dd>
<dt>daily_event_df_dict: <em class="xref py py-obj">dict</em></dt><dd><p>The dictionary that specifies daily events configuration.</p>
</dd>
<dt>changepoints_dict: <em class="xref py py-obj">dict</em></dt><dd><p>The dictionary that specifies changepoints configuration.</p>
</dd>
<dt>changepoint_values: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>]</dt><dd><p>The list of changepoints in continuous time values.</p>
</dd>
<dt>normalized_changepoint_values<span class="classifier"><em class="xref py py-obj">list</em> [<em class="xref py py-obj">float</em>]</span></dt><dd><p>The list of changepoints in continuous time values normalized to 0 to 1.</p>
</dd>
<dt>continuous_time_col: <em class="xref py py-obj">str</em></dt><dd><p>The continuous time column name in <code class="docutils literal notranslate"><span class="pre">features_df</span></code>.</p>
</dd>
<dt>growth_func: <em class="xref py py-obj">func</em></dt><dd><p>The growth function used in changepoints, None is linear function.</p>
</dd>
<dt>fs_func: <em class="xref py py-obj">func</em></dt><dd><p>The function used to generate Fourier series for seasonality.</p>
</dd>
<dt>has_autoreg_structure: <em class="xref py py-obj">bool</em></dt><dd><p>Whether the model has autoregression structure.</p>
</dd>
<dt>autoreg_func: <em class="xref py py-obj">func</em></dt><dd><p>The function to generate autoregression columns.</p>
</dd>
<dt>min_lag_order: <em class="xref py py-obj">int</em></dt><dd><p>Minimal lag order in autoregression.</p>
</dd>
<dt>max_lag_order: <em class="xref py py-obj">int</em></dt><dd><p>Maximal lag order in autoregression.</p>
</dd>
<dt>has_lagged_regressor_structure: <em class="xref py py-obj">bool</em></dt><dd><p>Whether the model has lagged regressor structure.</p>
</dd>
<dt>lagged_regressor_func: <em class="xref py py-obj">func</em></dt><dd><p>The function to generate lagged regressor columns.</p>
</dd>
<dt>min_lagged_regressor_order: <em class="xref py py-obj">int</em></dt><dd><p>Minimal lag order in lagged regressors.</p>
</dd>
<dt>max_lagged_regressor_order: <em class="xref py py-obj">int</em></dt><dd><p>Maximal lag order in lagged regressors.</p>
</dd>
<dt>uncertainty_dict: <em class="xref py py-obj">dict</em></dt><dd><p>The dictionary that specifies uncertainty model configuration.</p>
</dd>
<dt>pred_cols: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">str</em>]</dt><dd><p>List of predictor names.</p>
</dd>
<dt>last_date_for_fit: <em class="xref py py-obj">str</em> or <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a></dt><dd><p>The last timestamp used for fitting.</p>
</dd>
<dt>trend_changepoint_dates: <em class="xref py py-obj">list</em> [<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a>]</dt><dd><p>List of trend changepoints.</p>
</dd>
<dt>changepoint_detector: <em class="xref py py-obj">class</em></dt><dd><p>The <em class="xref py py-obj">ChangepointDetector</em> class used to detected trend changepoints.</p>
</dd>
<dt>seasonality_changepoint_dates: <em class="xref py py-obj">list</em> [<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.Timestamp.html#pandas.Timestamp" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.Timestamp</span></code></a>]</dt><dd><p>List of seasonality changepoints.</p>
</dd>
<dt>seasonality_changepoint_result: <em class="xref py py-obj">dict</em></dt><dd><p>The seasonality changepoint detection results.</p>
</dd>
<dt>fit_algorithm: <em class="xref py py-obj">str</em></dt><dd><p>The algorithm used to fit the model.</p>
</dd>
<dt>fit_algorithm_params: <em class="xref py py-obj">dict</em></dt><dd><p>The dictionary of parameters for <code class="docutils literal notranslate"><span class="pre">fit_algorithm</span></code>.</p>
</dd>
<dt>adjust_anomalous_info: <em class="xref py py-obj">dict</em></dt><dd><p>A dictionary that has anomaly adjustment results.</p>
</dd>
<dt>impute_info: <em class="xref py py-obj">dict</em></dt><dd><p>A dictionary that has the imputation results.</p>
</dd>
<dt>forecast_horizon: <em class="xref py py-obj">int</em></dt><dd><p>The forecast horizon in steps.</p>
</dd>
<dt>forecast_horizon_in_days: <em class="xref py py-obj">float</em></dt><dd><p>The forecast horizon in days.</p>
</dd>
<dt>forecast_horizon_in_timedelta: <em class="xref py py-obj">datetime.timmdelta</em></dt><dd><p>The forecast horizon in timedelta.</p>
</dd>
<dt>simulation_based: <em class="xref py py-obj">bool</em></dt><dd><p>Whether to use simulation in prediction with autoregression terms.</p>
</dd>
<dt>simulation_num<span class="classifier"><em class="xref py py-obj">int</em>, default 10</span></dt><dd><p>The number of simulations for when simulations are used for generating
forecasts and prediction intervals.</p>
</dd>
<dt>train_df<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>The past dataframe used to generate AR terms.
It includes the concatenation of <code class="docutils literal notranslate"><span class="pre">past_df</span></code> and <code class="docutils literal notranslate"><span class="pre">df</span></code> if <code class="docutils literal notranslate"><span class="pre">past_df</span></code> is provided,
otherwise it is the <code class="docutils literal notranslate"><span class="pre">df</span></code> itself.</p>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict_no_sim">
<code class="sig-name descname">predict_no_sim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_df</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">past_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_features_ready</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">regressors_ready</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite.html#SilverkiteForecast.predict_no_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict_no_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs predictions for the dates in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.
If <code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code> refers to a column in <code class="docutils literal notranslate"><span class="pre">df</span></code>, either <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>
or <code class="docutils literal notranslate"><span class="pre">new_external_regressor_df</span></code> must contain the regressors and the columns needed for lagged regressors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps.
for prediction and any regressors.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>.</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – A data frame with past values if autoregressive methods are called
via autoreg_dict parameter of <code class="docutils literal notranslate"><span class="pre">greykite.algo.forecast.silverkite.SilverkiteForecast.py</span></code>.</p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – Contains the regressors not already included in <em class="xref py py-obj">fut_df</em>.</p></li>
<li><p><strong>time_features_ready</strong> (<em class="xref py py-obj">bool</em>) – Boolean to denote if time features are already given in df or not.</p></li>
<li><p><strong>regressors_ready</strong> (<em class="xref py py-obj">bool</em>) – Boolean to denote if regressors are already added to data (<code class="docutils literal notranslate"><span class="pre">fut_df</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”features_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The features dataframe used for prediction.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict_n_no_sim">
<code class="sig-name descname">predict_n_no_sim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_time_num</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">freq</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_features_ready</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">regressors_ready</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite.html#SilverkiteForecast.predict_n_no_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict_n_no_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the forecast function which can be used to forecast.
It accepts extra regressors (<code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>) originally in
<code class="docutils literal notranslate"><span class="pre">df</span></code> via <code class="docutils literal notranslate"><span class="pre">new_external_regressor_df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_time_num</strong> (<em class="xref py py-obj">int</em>) – number of needed future values</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code></p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em>) – Frequency of future predictions.
Accepts any valid frequency for <code class="docutils literal notranslate"><span class="pre">pd.date_range</span></code>.</p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None) – Contains the extra regressors if specified.</p></li>
<li><p><strong>time_features_ready</strong> (<em class="xref py py-obj">bool</em>) – Boolean to denote if time features are already given in df or not.</p></li>
<li><p><strong>regressors_ready</strong> (<em class="xref py py-obj">bool</em>) – Boolean to denote if regressors are already added to data (<code class="docutils literal notranslate"><span class="pre">fut_df</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.simulate">
<code class="sig-name descname">simulate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_df</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">past_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">include_err</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">time_features_ready</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">regressors_ready</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite.html#SilverkiteForecast.simulate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.simulate" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to simulate future series.
If the fitted model supports uncertainty e.g. via <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code>,
errors are incorporated into the simulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps
for prediction and any regressors.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>.</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – A data frame with past values if autoregressive methods are called
via <code class="docutils literal notranslate"><span class="pre">autoreg_dict</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">greykite.algo.forecast.silverkite.SilverkiteForecast.py</span></code></p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – Contains the regressors not already included in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.</p></li>
<li><p><strong>include_err</strong> (<em class="xref py py-obj">bool</em>) – Boolean to determine if errors are to be incorporated in the simulations.</p></li>
<li><p><strong>time_features_ready</strong> (<em class="xref py py-obj">bool</em>) – Boolean to denote if time features are already given in df or not.</p></li>
<li><p><strong>regressors_ready</strong> (<em class="xref py py-obj">bool</em>) – Boolean to denote if regressors are already added to data (<code class="docutils literal notranslate"><span class="pre">fut_df</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
Here are the expected columns:</p>
<ol class="arabic simple">
<li><p>A time column with the column name being <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code></p></li>
<li><p>The predicted response in <code class="docutils literal notranslate"><span class="pre">value_col</span></code> column.</p></li>
<li><p>Quantile summary response in <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
<li><p>Error std in <code class="xref py py-obj docutils literal notranslate"><span class="pre">ERR_STD_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”features_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The features dataframe used for prediction.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.simulate_multi">
<code class="sig-name descname">simulate_multi</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_df</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">simulation_num</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">past_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">include_err</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite.html#SilverkiteForecast.simulate_multi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.simulate_multi" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to simulate future series.
If the fitted model supports uncertainty e.g. via <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code>,
errors are incorporated into the simulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps
for prediction and any regressors.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em>) – The number of simulated series,
(each of which have the same number of rows as <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>)
to be stacked up row-wise. This number must be larger than zero.</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – A data frame with past values if autoregressive methods are called
via <code class="docutils literal notranslate"><span class="pre">autoreg_dict</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">greykite.algo.forecast.silverkite.SilverkiteForecast.py</span></code>.</p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – Contains the regressors not already included in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.</p></li>
<li><p><strong>include_err</strong> (<em class="xref py py-obj">bool</em>, optional, default None) – Boolean to determine if errors are to be incorporated in the simulations.
If None, it will be set to True if uncertainty is passed to the model and
otherwise will be set to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with follwing items</p>
<ul>
<li><dl>
<dt>”fut_df_sim”<span class="classifier"><a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></span></dt><dd><p>Row-wise concatenation of dataframes each being the same as
input dataframe (<code class="docutils literal notranslate"><span class="pre">fut_df</span></code>) with an added column for the response
and a new column: “sim_label” to differentiate various simulations.
The row number of the returned dataframe is:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">simulation_num</span></code> times the row number of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.</p>
</div></blockquote>
<p>If <code class="docutils literal notranslate"><span class="pre">value_col</span></code> already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p><code class="docutils literal notranslate"><span class="pre">simulation_num</span></code> copies of design matrix of the predictive machine-learning model
concatenated. An extra index column (“original_row_index”)  is also added
for aggregation when needed.
Note that the all copies will be the same except for the case where
auto-regression is utilized.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict_via_sim">
<code class="sig-name descname">predict_via_sim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_df</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">past_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">simulation_num</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">include_err</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite.html#SilverkiteForecast.predict_via_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict_via_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs predictions and calculate uncertainty using
multiple simulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps for prediction
and possibly regressors.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code></p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – A data frame with past values if autoregressive methods are called
via autoreg_dict parameter of <code class="docutils literal notranslate"><span class="pre">greykite.algo.forecast.silverkite.SilverkiteForecast.py</span></code></p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, optional) – Contains the regressors not already included in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em>, optional, default 10) – The number of simulated series to be used in prediction.</p></li>
<li><p><strong>include_err</strong> (<em class="xref py py-obj">bool</em>, optional, default None) – Boolean to determine if errors are to be incorporated in the simulations.
If None, it will be set to True if uncertainty is passed to the model and
otherwise will be set to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
Here are the expected columns:</p>
<ol class="arabic simple">
<li><p>A time column with the column name being <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code></p></li>
<li><p>The predicted response in <code class="docutils literal notranslate"><span class="pre">value_col</span></code> column.</p></li>
<li><p>Quantile summary response in <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
<li><p>Error std in <code class="xref py py-obj docutils literal notranslate"><span class="pre">ERR_STD_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict_via_sim_fast">
<code class="sig-name descname">predict_via_sim_fast</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_df</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">past_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite.html#SilverkiteForecast.predict_via_sim_fast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict_via_sim_fast" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs predictions and calculates uncertainty using
one simulation of future and calculate the error separately
(not relying on multiple simulations). Due to this the prediction
intervals well into future will be narrower than <code class="docutils literal notranslate"><span class="pre">predict_via_sim</span></code>
and therefore less accurate. However there will be a major speed gain
which might be important in some use cases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps for prediction
and possibly regressors.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code>.</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – A data frame with past values if autoregressive methods are called
via <code class="docutils literal notranslate"><span class="pre">autoreg_dict</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">greykite.algo.forecast.silverkite.SilverkiteForecast.py</span></code></p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – Contains the regressors not already included in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
Here are the expected columns:</p>
<ol class="arabic simple">
<li><p>A time column with the column name being <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code></p></li>
<li><p>The predicted response in <code class="docutils literal notranslate"><span class="pre">value_col</span></code> column.</p></li>
<li><p>Quantile summary response in <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
<li><p>Error std in <code class="xref py py-obj docutils literal notranslate"><span class="pre">ERR_STD_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”features_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The features dataframe used for prediction.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict_n_via_sim">
<code class="sig-name descname">predict_n_via_sim</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fut_time_num</span></em>, <em class="sig-param"><span class="n">trained_model</span></em>, <em class="sig-param"><span class="n">freq</span></em>, <em class="sig-param"><span class="n">new_external_regressor_df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">simulation_num</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">fast_simulation</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">include_err</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite.html#SilverkiteForecast.predict_n_via_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict_n_via_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the forecast function which can be used to forecast.
This function’s predictions are constructed using simulations
from the fitted series. This supports both <code class="docutils literal notranslate"><span class="pre">predict_silverkite_via_sim</span></code>
and <code class="docutils literal notranslate"><span class="pre">``predict_silverkite_via_sim_fast</span></code> depending on value of the
passed argument <code class="docutils literal notranslate"><span class="pre">fast_simulation</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">past_df</span></code> is set to be the training data which is available
in <code class="docutils literal notranslate"><span class="pre">trained_model</span></code>.
It accepts extra regressors (<code class="docutils literal notranslate"><span class="pre">extra_pred_cols</span></code>) originally in
<code class="docutils literal notranslate"><span class="pre">df</span></code> via <code class="docutils literal notranslate"><span class="pre">new_external_regressor_df</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_time_num</strong> (<em class="xref py py-obj">int</em>) – number of needed future values</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code></p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em>) – Frequency of future predictions.
Accepts any valid frequency for <code class="docutils literal notranslate"><span class="pre">pd.date_range</span></code>.</p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None) – Contains the extra regressors if specified.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em>, optional, default 10) – The number of simulated series to be used in prediction.</p></li>
<li><p><strong>fast_simulation</strong> (<em class="xref py py-obj">bool</em>, default False) – Deterimes if fast simulations are to be used. This only impacts models
which include auto-regression. This method will only generate one simulation
without any error being added and then add the error using the volatility
model. The advantage is a major boost in speed during inference and the
disadvantage is potentially less accurate prediction intervals.</p></li>
<li><p><strong>include_err</strong> (<em class="xref py py-obj">bool</em>, optional, default None) – Boolean to determine if errors are to be incorporated in the simulations.
If None, it will be set to True if uncertainty is passed to the model and
otherwise will be set to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
Here are the expected columns:</p>
<ol class="arabic simple">
<li><p>A time column with the column name being <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code></p></li>
<li><p>The predicted response in <code class="docutils literal notranslate"><span class="pre">value_col</span></code> column.</p></li>
<li><p>Quantile summary response in <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
<li><p>Error std in <code class="xref py py-obj docutils literal notranslate"><span class="pre">ERR_STD_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">fut_df</em>, <em class="sig-param">trained_model</em>, <em class="sig-param">freq=None</em>, <em class="sig-param">past_df=None</em>, <em class="sig-param">new_external_regressor_df=None</em>, <em class="sig-param">include_err=None</em>, <em class="sig-param">force_no_sim=False</em>, <em class="sig-param">simulation_num=None</em>, <em class="sig-param">fast_simulation=None</em>, <em class="sig-param">na_fill_func=&lt;function SilverkiteForecast.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite.html#SilverkiteForecast.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs predictions using silverkite model.
It determines if the prediction should be simulation-based or not and then
predicts using that setting.
The function determines if it should use simulation-based predictions or
that is not necessary.
Here is the logic for determining if simulations are needed:</p>
<ul class="simple">
<li><p>If the model is not autoregressive, then clearly no simulations are needed</p></li>
<li><p>If the model is autoregressive, however the minimum lag appearing in the model
is larger than the forecast horizon, then simulations are not needed.
This is because the lags can be calculated fully without predicting the future.</p></li>
</ul>
<p>User can overwrite the above behavior and force no simulations using
<code class="docutils literal notranslate"><span class="pre">force_no_sim</span></code> argument, in which case some lags will be imputed.
This option should not be used by most users.
Some scenarios where advanced user might want to use
this is (a) when <code class="docutils literal notranslate"><span class="pre">min_lag_order</span> <span class="pre">&gt;=</span> <span class="pre">forecast_horizon</span></code> does not hold strictly
but close to hold. (b) user want to predict fast, the autoregression
lags are normalized. In that case the predictions returned could correspond
to an approximation of a model without autoregression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps for prediction
and possibly regressors.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code></p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em>, optional, default None) – Timeseries frequency, DateOffset alias.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases</a>
for the allowed strings.
If None, it is extracted from <code class="docutils literal notranslate"><span class="pre">trained_model</span></code> input.</p></li>
<li><p><strong>past_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – A data frame with past values if autoregressive methods are called
via autoreg_dict parameter of <code class="docutils literal notranslate"><span class="pre">greykite.algo.forecast.silverkite.SilverkiteForecast.py</span></code>.
Note that this <code class="docutils literal notranslate"><span class="pre">past_df</span></code> can be anytime before the training end timestamp, but can not
exceed it.</p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None, default None) – Contains the regressors not already included in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.</p></li>
<li><p><strong>include_err</strong> (<em class="xref py py-obj">bool</em>, optional, default None) – Boolean to determine if errors are to be incorporated in the simulations.
If None, it will be set to True if uncertainty is passed to the model and
otherwise will be set to False</p></li>
<li><p><strong>force_no_sim</strong> (<em class="xref py py-obj">bool</em>, default False) – If True, prediction with no simulations is forced.
This can be useful when speed is of concern or for validation purposes.
In this case, the potential non-available lags will be imputed.
Most users should not set this to True as the consequences could be
hard to quantify.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em> or None, default None) – The number of simulations for when simulations are used for generating
forecasts and prediction intervals. If None, it will be inferred from
the model (<code class="docutils literal notranslate"><span class="pre">trained_model</span></code>).</p></li>
<li><p><strong>fast_simulation</strong> (<em class="xref py py-obj">bool</em> or None, default None) – Deterimes if fast simulations are to be used. This only impacts models
which include auto-regression. This method will only generate one simulation
without any error being added and then add the error using the volatility
model. The advantage is a major boost in speed during inference and the
disadvantage is potentially less accurate prediction intervals.
If None, it will be inferred from the model (<code class="docutils literal notranslate"><span class="pre">trained_model</span></code>).</p></li>
<li><p><strong>na_fill_func</strong> (callable (<code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> -&gt; <code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>)) – <p>default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
</pre></div>
</div>
<p>A function which interpolates missing values in a dataframe.
The main usage is invoked when there is a gap between the timestamps in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.
The main use case is when the user wants to predict a period which is not an immediate period
after training.
In that case to fill in the gaps, the regressors need to be interpolated/filled.
The default works by first interpolating the continuous variables.
Then it uses back-filling and then forward-filling for categorical variables.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
Here are the expected columns:</p>
<ol class="arabic simple">
<li><p>A time column with the column name being <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code></p></li>
<li><p>The predicted response in <code class="docutils literal notranslate"><span class="pre">value_col</span></code> column.</p></li>
<li><p>Quantile summary response in <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
<li><p>Error std in <code class="xref py py-obj docutils literal notranslate"><span class="pre">ERR_STD_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict_n">
<code class="sig-name descname">predict_n</code><span class="sig-paren">(</span><em class="sig-param">fut_time_num</em>, <em class="sig-param">trained_model</em>, <em class="sig-param">freq=None</em>, <em class="sig-param">past_df=None</em>, <em class="sig-param">new_external_regressor_df=None</em>, <em class="sig-param">include_err=None</em>, <em class="sig-param">force_no_sim=False</em>, <em class="sig-param">simulation_num=None</em>, <em class="sig-param">fast_simulation=None</em>, <em class="sig-param">na_fill_func=&lt;function SilverkiteForecast.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite.html#SilverkiteForecast.predict_n"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.predict_n" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the forecast function which can be used to forecast a number of
periods into the future.
It determines if the prediction should be simulation-based or not and then
predicts using that setting. Currently if the silverkite model uses
autoregression simulation-based prediction/CIs are used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_time_num</strong> (<em class="xref py py-obj">int</em>) – number of needed future values</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of <code class="docutils literal notranslate"><span class="pre">self.forecast</span></code></p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em>, optional, default None) – Timeseries frequency, DateOffset alias.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases</a>
for the allowed frequencies.
If None, it is extracted from <code class="docutils literal notranslate"><span class="pre">trained_model</span></code> input.</p></li>
<li><p><strong>new_external_regressor_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None) – Contains the extra regressors if specified.</p></li>
<li><p><strong>simulation_num</strong> (<em class="xref py py-obj">int</em>, optional, default 10) – The number of simulated series to be used in prediction.</p></li>
<li><p><strong>fast_simulation</strong> (<em class="xref py py-obj">bool</em> or None, default None) – Deterimes if fast simulations are to be used. This only impacts models
which include auto-regression. This method will only generate one simulation
without any error being added and then add the error using the volatility
model. The advantage is a major boost in speed during inference and the
disadvantage is potentially less accurate prediction intervals.
If None, it will be inferred from the model (<code class="docutils literal notranslate"><span class="pre">trained_model</span></code>).</p></li>
<li><p><strong>include_err</strong> (<em class="xref py py-obj">bool</em> or None, default None) – Boolean to determine if errors are to be incorporated in the simulations.
If None, it will be set to True if uncertainty is passed to the model and
otherwise will be set to False</p></li>
<li><p><strong>force_no_sim</strong> (<em class="xref py py-obj">bool</em>, default False) – If True, prediction with no simulations is forced.
This can be useful when speed is of concern or for validation purposes.</p></li>
<li><p><strong>na_fill_func</strong> (callable (<code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> -&gt; <code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>)) – <p>default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
</pre></div>
</div>
<p>A function which interpolated missing values in a dataframe.
The main usage is invoked when there is a gap between the timestamps.
In that case to fill in the gaps, the regressors need to be interpolated/filled.
The default works by first interpolating the continuous variables.
Then it uses back-filling and then forward-filling for categorical variables.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items</p>
<ul class="simple">
<li><dl class="simple">
<dt>”fut_df”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>The same as input dataframe with an added column for the response.
If value_col already appears in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, it will be over-written.
If <code class="docutils literal notranslate"><span class="pre">uncertainty_dict</span></code> is provided as input,
it will also contain a <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
Here are the expected columns:</p>
<ol class="arabic simple">
<li><p>A time column with the column name being <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code></p></li>
<li><p>The predicted response in <code class="docutils literal notranslate"><span class="pre">value_col</span></code> column.</p></li>
<li><p>Quantile summary response in <code class="docutils literal notranslate"><span class="pre">QUANTILE_SUMMARY_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
<li><p>Error std in <code class="xref py py-obj docutils literal notranslate"><span class="pre">ERR_STD_COL</span></code> column.
This column only appears if the model includes uncertainty.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>”x_mat”: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>Design matrix of the predictive machine-learning model</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.partition_fut_df">
<code class="sig-name descname">partition_fut_df</code><span class="sig-paren">(</span><em class="sig-param">fut_df</em>, <em class="sig-param">trained_model</em>, <em class="sig-param">freq</em>, <em class="sig-param">na_fill_func=&lt;function SilverkiteForecast.&lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/greykite/algo/forecast/silverkite/forecast_silverkite.html#SilverkiteForecast.partition_fut_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#greykite.algo.forecast.silverkite.forecast_silverkite.SilverkiteForecast.partition_fut_df" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes a dataframe <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> which includes the timestamps to forecast
and a <code class="docutils literal notranslate"><span class="pre">trained_model</span></code> returned by
<em class="xref py py-obj">forecast</em>
and decomposes
<code class="docutils literal notranslate"><span class="pre">fut_df</span></code> to various dataframes which reflect if the timestamps are before,
during or after the training periods.
It also determines if: ‘the future timestamps after the training period’ are immediately
after ‘the last training period’ or if there is some extra gap.
In that case, this function creates an expanded dataframe which includes the missing
timestamps as well.
If <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> also includes extra columns (they could be regressor columns),
this function will interpolate the extra regressor columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fut_df</strong> (<a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>) – The data frame which includes the timestamps for prediction
and possibly regressors. Note that the timestamp column in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>
must be the same as <code class="docutils literal notranslate"><span class="pre">trained_model[&quot;time_col&quot;]</span></code>.
We assume <code class="docutils literal notranslate"><span class="pre">fut_df[time_col]</span></code> is pandas.datetime64 type.</p></li>
<li><p><strong>trained_model</strong> (<em class="xref py py-obj">dict</em>) – A fitted silverkite model which is the output of
<em class="xref py py-obj">forecast</em></p></li>
<li><p><strong>freq</strong> (<em class="xref py py-obj">str</em>) – Timeseries frequency, DateOffset alias.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#offset-aliases</a>
for the allowed frequencies.</p></li>
<li><p><strong>na_fill_func</strong> (callable (<code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> -&gt; <code class="xref py py-obj docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>)) – <p>default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
</pre></div>
</div>
<p>A function which interpolated missing values in a dataframe.
The main usage is invoked when there is a gap between the timestamps.
In that case to fill in the gaps, the regressors need to be interpolated/filled.
The default works by first interpolating the continuous variables.
Then it uses back-filling and then forward-filling for categorical variables.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>result</strong> – A dictionary with following items:</p>
<ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fut_freq_in_secs&quot;</span></code>: <em class="xref py py-obj">float</em></dt><dd><p>The inferred frequency in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;training_freq_in_secs&quot;</span></code>: <em class="xref py py-obj">float</em></dt><dd><p>The inferred frequency in training data</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;index_before_training&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">bool</em>]</dt><dd><p>A boolean list to determine which rows of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> include a time
which is before the training start.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;index_within_training&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">bool</em>]</dt><dd><p>A boolean list to determine which rows of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> include a time
which is during the training period.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;index_after_training&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">bool</em>]</dt><dd><p>A boolean list to determine which rows of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> include a time
which is after the training end date.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fut_df_before_training&quot;</span></code>: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>A partition of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> with timestamps before the training start date</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fut_df_within_training&quot;</span></code>: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>A partition of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> with timestamps during the training period</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fut_df_after_training&quot;</span></code>: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>A partition of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> with timestamps after the training start date</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fut_df_gap&quot;</span></code>: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> or None</dt><dd><p>If there is a gap between training end date and the first timestamp
after the training end date in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, this dataframe can fill the
gap between the two. In case <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> includes extra columns as well,
the values for those columns will be filled using <code class="docutils literal notranslate"><span class="pre">na_fill_func</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;fut_df_after_training_expanded&quot;</span></code>: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24.2/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></dt><dd><p>If there is a gap between training end date and the first timestamp
after the training end date in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, this dataframe will include
the data for the gaps (<code class="docutils literal notranslate"><span class="pre">fut_df_gap</span></code>) as well as <code class="docutils literal notranslate"><span class="pre">fut_df_after_training</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;index_after_training_original&quot;</span></code>: <em class="xref py py-obj">list</em> [<em class="xref py py-obj">bool</em>]</dt><dd><p>A boolean list to determine which rows of <code class="docutils literal notranslate"><span class="pre">fut_df_after_training_expanded</span></code>
correspond to raw data passed by user which are after training end date,
appearing in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.
Note that this partition corresponds to <code class="docutils literal notranslate"><span class="pre">fut_df_after_training</span></code>
which is the subset of data in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> provided by user and
also returned by this function.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;missing_periods_num&quot;</span></code>: <em class="xref py py-obj">int</em></dt><dd><p>Number of missing timestamps between the last date of training and
first date in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code> appearing after the training end date</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;inferred_forecast_horizon&quot;</span></code>: <em class="xref py py-obj">int</em></dt><dd><p>This is the inferred forecast horizon from <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.
This is defined to be the distance between the last training end date
and last date appearing in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.
Note that this value can be smaller or larger than the number of
rows of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>.
This is calculated by adding the number of potentially missing timestamps
and the number of time periods appearing after the training end point.
Also note if there are no timestamps after the training end point in
<code class="docutils literal notranslate"><span class="pre">fut_df</span></code>, this value will be zero.</p>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;forecast_partition_summary&quot;</span></code>: <em class="xref py py-obj">dict</em></dt><dd><p>A dictionary which includes the size of various partitions of <code class="docutils literal notranslate"><span class="pre">fut_df</span></code>
as well as the missing timestamps if needed. The dictionary keys are as
follows:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;len_before_training&quot;</span></code>: the number of time periods before training start</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;len_within_training&quot;</span></code>: the number of time periods within training</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;len_after_training&quot;</span></code>: the number of time periods after training</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;len_gap&quot;</span></code>: the number of missing time periods between training data and
future time stamps in <code class="docutils literal notranslate"><span class="pre">fut_df</span></code></p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em class="xref py py-obj">dict</em></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../changelog/changelog.html" class="btn btn-neutral" title="Changelog" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, LinkedIn

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>